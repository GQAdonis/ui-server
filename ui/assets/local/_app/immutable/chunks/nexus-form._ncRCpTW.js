import{s as Le,x as Te,i as j,f as q,c as Fe,a as ge,u as be,g as ve,e as we,h as M,b as I,j as z,k as F,d as H,m as N,W as ce,n as v,X as Ae,p as ne,G as Xe,H as Ze,t as B,l as G,q as he,I as de,B as oe,M as me,T as _e,a9 as Be,w as De,o as Ge,v as Qe}from"./scheduler.1T9hOnFr.js";import{S as Ee,i as qe,g as Ke,b as R,e as We,t as V,c as W,a as J,m as O,d as U,f as pe}from"./index.cVovwi_s.js";import{w as Je}from"./entry.1BQh90wu.js";import{p as Oe}from"./stores.6oDSidma.js";import{A as Ue}from"./alert.9MQQTq3k.js";import{C as Ye}from"./combobox.s-8xZzE4.js";import{I as Se}from"./input.Q5M-PWyi.js";import{L as ye}from"./label.ujgKMPb9.js";import{t as Ie}from"./tw-merge.NbP7EmZe.js";import{M as xe}from"./multi-select.FmV1024R.js";import{t as P}from"./translate.HrioCK44.js";const $e=l=>({}),He=l=>({});function el(l){let e;const t=l[3].fallback,a=ge(t,l,l[2],He);return{c(){a&&a.c()},l(s){a&&a.l(s)},m(s,r){a&&a.m(s,r),e=!0},p(s,r){a&&a.p&&(!e||r&4)&&be(a,t,s,s[2],e?we(t,s[2],r,$e):ve(s[2]),He)},i(s){e||(V(a,s),e=!0)},o(s){R(a,s),e=!1},d(s){a&&a.d(s)}}}function ll(l){let e;const t=l[3].default,a=ge(t,l,l[2],null);return{c(){a&&a.c()},l(s){a&&a.l(s)},m(s,r){a&&a.m(s,r),e=!0},p(s,r){a&&a.p&&(!e||r&4)&&be(a,t,s,s[2],e?we(t,s[2],r,null):ve(s[2]),null)},i(s){e||(V(a,s),e=!0)},o(s){R(a,s),e=!1},d(s){a&&a.d(s)}}}function tl(l){let e,t,a,s;const r=[ll,el],i=[];function b(u,_){var p,L,f;return u[0]||(f=(L=(p=u[1].data)==null?void 0:p.settings)==null?void 0:L.runtimeEnvironment)!=null&&f.isCloud?0:1}return e=b(l),t=i[e]=r[e](l),{c(){t.c(),a=Te()},l(u){t.l(u),a=Te()},m(u,_){i[e].m(u,_),j(u,a,_),s=!0},p(u,[_]){let p=e;e=b(u),e===p?i[e].p(u,_):(Ke(),R(i[p],1,1,()=>{i[p]=null}),We(),t=i[e],t?t.p(u,_):(t=i[e]=r[e](u),t.c()),V(t,1),t.m(a.parentNode,a))},i(u){s||(V(t),s=!0)},o(u){R(t),s=!1},d(u){u&&q(a),i[e].d(u)}}}function nl(l,e,t){let a;Fe(l,Oe,b=>t(1,a=b));let{$$slots:s={},$$scope:r}=e,{isCloud:i=!1}=e;return l.$$set=b=>{"isCloud"in b&&t(0,i=b.isCloud),"$$scope"in b&&t(2,r=b.$$scope)},[i,a,r,s]}class sl extends Ee{constructor(e){super(),qe(this,e,nl,tl,Le,{isCloud:0})}}const al=l=>({}),Re=l=>({});function Ve(l){let e,t;return{c(){e=M("p"),t=B(l[9]),this.h()},l(a){e=z(a,"P",{class:!0});var s=F(e);t=G(s,l[9]),s.forEach(q),this.h()},h(){N(e,"class","pb-2 text-sm")},m(a,s){j(a,e,s),v(e,t)},p(a,s){s&512&&he(t,a[9])},d(a){a&&q(e)}}}function Me(l){var b;let e,t,a=(((b=l[0])==null?void 0:b.length)??0)+"",s,r,i;return{c(){e=M("span"),t=M("span"),s=B(a),r=B(" / "),i=B(l[10]),this.h()},l(u){e=z(u,"SPAN",{class:!0});var _=F(e);t=z(_,"SPAN",{class:!0});var p=F(t);s=G(p,a),p.forEach(q),r=G(_," / "),i=G(_,l[10]),_.forEach(q),this.h()},h(){var u,_;N(t,"class","text-blue-700 svelte-1wpf05e"),de(t,"warn",l[10]-((u=l[0])==null?void 0:u.length)<=5),de(t,"error",l[10]===((_=l[0])==null?void 0:_.length)),N(e,"class","count svelte-1wpf05e")},m(u,_){j(u,e,_),v(e,t),v(t,s),v(e,r),v(e,i)},p(u,_){var p,L,f;_&1&&a!==(a=(((p=u[0])==null?void 0:p.length)??0)+"")&&he(s,a),_&1025&&de(t,"warn",u[10]-((L=u[0])==null?void 0:L.length)<=5),_&1025&&de(t,"error",u[10]===((f=u[0])==null?void 0:f.length)),_&1024&&he(i,u[10])},d(u){u&&q(e)}}}function il(l){let e,t,a,s,r,i,b,u,_,p,L,f,w,k;t=new ye({props:{required:l[8],hidden:l[6],label:l[5],for:l[7]}});let g=l[9]&&Ve(l),C=l[10]&&!l[1]&&Me(l);const T=l[13].info,E=ge(T,l,l[12],Re);return{c(){e=M("div"),W(t.$$.fragment),a=I(),g&&g.c(),s=I(),r=M("div"),i=M("textarea"),_=I(),C&&C.c(),p=I(),E&&E.c(),this.h()},l(c){e=z(c,"DIV",{class:!0});var d=F(e);J(t.$$.fragment,d),a=H(d),g&&g.l(d),s=H(d),r=z(d,"DIV",{class:!0});var h=F(r);i=z(h,"TEXTAREA",{class:!0,id:!0,placeholder:!0,rows:!0,spellcheck:!0,maxlength:!0}),F(i).forEach(q),_=H(h),C&&C.l(h),h.forEach(q),p=H(d),E&&E.l(d),d.forEach(q),this.h()},h(){N(i,"class",b=ce(Ie("surface-input min-h-fit w-full rounded-lg border-2 border-subtle px-3 py-2 font-mono text-sm focus-visible:border-information focus-visible:shadow-[0_0_0_4px_rgb(97,115,243,0.7)] focus-visible:outline-none enabled:hover:border-information",l[1]&&"cursor-not-allowed opacity-50"))+" svelte-1wpf05e"),N(i,"id",l[7]),i.disabled=l[1],N(i,"placeholder",l[2]),N(i,"rows",l[3]),N(i,"spellcheck",l[4]),N(i,"maxlength",u=l[10]>0?l[10]:void 0),N(r,"class","relative mt-2"),N(e,"class",L=ce(l[11])+" svelte-1wpf05e")},m(c,d){j(c,e,d),O(t,e,null),v(e,a),g&&g.m(e,null),v(e,s),v(e,r),v(r,i),Ae(i,l[0]),v(r,_),C&&C.m(r,null),v(e,p),E&&E.m(e,null),f=!0,w||(k=[ne(i,"input",l[19]),ne(i,"input",l[14]),ne(i,"change",l[15]),ne(i,"focus",l[16]),ne(i,"blur",l[17]),ne(i,"keydown",Xe(l[18]))],w=!0)},p(c,[d]){const h={};d&256&&(h.required=c[8]),d&64&&(h.hidden=c[6]),d&32&&(h.label=c[5]),d&128&&(h.for=c[7]),t.$set(h),c[9]?g?g.p(c,d):(g=Ve(c),g.c(),g.m(e,s)):g&&(g.d(1),g=null),(!f||d&2&&b!==(b=ce(Ie("surface-input min-h-fit w-full rounded-lg border-2 border-subtle px-3 py-2 font-mono text-sm focus-visible:border-information focus-visible:shadow-[0_0_0_4px_rgb(97,115,243,0.7)] focus-visible:outline-none enabled:hover:border-information",c[1]&&"cursor-not-allowed opacity-50"))+" svelte-1wpf05e"))&&N(i,"class",b),(!f||d&128)&&N(i,"id",c[7]),(!f||d&2)&&(i.disabled=c[1]),(!f||d&4)&&N(i,"placeholder",c[2]),(!f||d&8)&&N(i,"rows",c[3]),(!f||d&16)&&N(i,"spellcheck",c[4]),(!f||d&1024&&u!==(u=c[10]>0?c[10]:void 0))&&N(i,"maxlength",u),d&1&&Ae(i,c[0]),c[10]&&!c[1]?C?C.p(c,d):(C=Me(c),C.c(),C.m(r,null)):C&&(C.d(1),C=null),E&&E.p&&(!f||d&4096)&&be(E,T,c,c[12],f?we(T,c[12],d,al):ve(c[12]),Re),(!f||d&2048&&L!==(L=ce(c[11])+" svelte-1wpf05e"))&&N(e,"class",L)},i(c){f||(V(t.$$.fragment,c),V(E,c),f=!0)},o(c){R(t.$$.fragment,c),R(E,c),f=!1},d(c){c&&q(e),U(t),g&&g.d(),C&&C.d(),E&&E.d(c),w=!1,Ze(k)}}}function ol(l,e,t){let{$$slots:a={},$$scope:s}=e,{disabled:r=!1}=e,{placeholder:i=""}=e,{rows:b=10}=e,{spellcheck:u=null}=e,{value:_}=e,{label:p}=e,{labelHidden:L=!1}=e,{id:f}=e,{required:w=!1}=e,{description:k=""}=e,{maxLength:g=0}=e,{class:C="text-primary"}=e;function T(m){oe.call(this,l,m)}function E(m){oe.call(this,l,m)}function c(m){oe.call(this,l,m)}function d(m){oe.call(this,l,m)}function h(m){oe.call(this,l,m)}function D(){_=this.value,t(0,_)}return l.$$set=m=>{"disabled"in m&&t(1,r=m.disabled),"placeholder"in m&&t(2,i=m.placeholder),"rows"in m&&t(3,b=m.rows),"spellcheck"in m&&t(4,u=m.spellcheck),"value"in m&&t(0,_=m.value),"label"in m&&t(5,p=m.label),"labelHidden"in m&&t(6,L=m.labelHidden),"id"in m&&t(7,f=m.id),"required"in m&&t(8,w=m.required),"description"in m&&t(9,k=m.description),"maxLength"in m&&t(10,g=m.maxLength),"class"in m&&t(11,C=m.class),"$$scope"in m&&t(12,s=m.$$scope)},[_,r,i,b,u,p,L,f,w,k,g,C,s,a,T,E,c,d,h,D]}class rl extends Ee{constructor(e){super(),qe(this,e,ol,il,Le,{disabled:1,placeholder:2,rows:3,spellcheck:4,value:0,label:5,labelHidden:6,id:7,required:8,description:9,maxLength:10,class:11})}}const ul=l=>({}),ze=l=>({});function fl(l){let e,t,a=P("nexus.access-policy")+"",s,r,i,b=P("nexus.allowed-caller-namespaces-description")+"",u,_,p,L;return p=new xe({props:{id:"caller-namespace-filter-menu",options:l[12],initialSelected:l[11],label:l[9].length?P("nexus.selected-namespaces",{count:l[9].length}):P("nexus.select-namespaces"),selectAllLabel:P("common.select-all"),clearAllLabel:P("common.clear-all-capitalized"),initialSelectedAll:!1,onChange:l[13]}}),{c(){e=M("div"),t=M("p"),s=B(a),r=I(),i=M("p"),u=B(b),_=I(),W(p.$$.fragment),this.h()},l(f){e=z(f,"DIV",{class:!0});var w=F(e);t=z(w,"P",{class:!0});var k=F(t);s=G(k,a),k.forEach(q),r=H(w),i=z(w,"P",{class:!0});var g=F(i);u=G(g,b),g.forEach(q),w.forEach(q),_=H(f),J(p.$$.fragment,f),this.h()},h(){N(t,"class","text-base text-primary"),N(i,"class","text-xs text-secondary"),N(e,"class","flex flex-col gap-0")},m(f,w){j(f,e,w),v(e,t),v(t,s),v(e,r),v(e,i),v(i,u),j(f,_,w),O(p,f,w),L=!0},p(f,w){const k={};w[0]&4096&&(k.options=f[12]),w[0]&2048&&(k.initialSelected=f[11]),w[0]&512&&(k.label=f[9].length?P("nexus.selected-namespaces",{count:f[9].length}):P("nexus.select-namespaces")),p.$set(k)},i(f){L||(V(p.$$.fragment,f),L=!0)},o(f){R(p.$$.fragment,f),L=!1},d(f){f&&(q(e),q(_)),U(p,f)}}}function cl(l){let e,t="Do not include sensitive data.";return{c(){e=M("p"),e.textContent=t,this.h()},l(a){e=z(a,"P",{class:!0,slot:!0,"data-svelte-h":!0}),Ge(e)!=="svelte-1l2nhqf"&&(e.textContent=t),this.h()},h(){N(e,"class","text-xs text-secondary"),N(e,"slot","info")},m(a,s){j(a,e,s)},p:Qe,d(a){a&&q(e)}}}function dl(l){var a;let e=((a=l[1])==null?void 0:a.message)+"",t;return{c(){t=B(e)},l(s){t=G(s,e)},m(s,r){j(s,t,r)},p(s,r){var i;r[0]&2&&e!==(e=((i=s[1])==null?void 0:i.message)+"")&&he(t,e)},d(s){s&&q(t)}}}function ml(l){var ue;let e,t,a,s,r,i,b=P("nexus.target")+"",u,_,p,L=P("nexus.target-description")+"",f,w,k,g,C,T,E,c,d,h,D,m,$,Y,Q,X;function se(o){l[20](o)}let y={required:!0,disabled:l[2],error:!l[5]||!l[10](l[5]),hintText:l[4],label:P("nexus.endpoint-name"),id:"name",maxLength:255,placeholder:P("nexus.endpoint-name-placeholder")};l[5]!==void 0&&(y.value=l[5]),t=new Se({props:y}),me.push(()=>pe(t,"value",se));function ee(o){l[21](o)}let x={label:P("nexus.target-namespace"),toggleLabel:P("common.namespaces"),noResultsText:P("common.no-results"),valid:!!l[7],error:"Please select a target Namespace.",required:!0,id:"target-namespace",placeholder:P("nexus.select-namespace"),leadingIcon:"namespace-switcher",options:l[0],optionValueKey:"namespace",minSize:32};l[7]!==void 0&&(x.value=l[7]),k=new Ye({props:x}),me.push(()=>pe(k,"value",ee));function le(o){l[22](o)}let te={required:!0,error:!l[8],label:P("common.task-queue"),id:"task-queue",placeholder:P("nexus.task-queue-placeholder")};l[8]!==void 0&&(te.value=l[8]),T=new Se({props:te}),me.push(()=>pe(T,"value",le)),d=new sl({props:{isCloud:l[3],$$slots:{default:[fl]},$$scope:{ctx:l}}});function ke(o){l[23](o)}let re={label:P("common.description"),description:P("nexus.nexus-description"),id:"description",placeholder:P("nexus.description-placeholder"),$$slots:{info:[cl]},$$scope:{ctx:l}};l[6]!==void 0&&(re.value=l[6]),D=new rl({props:re}),me.push(()=>pe(D,"value",ke));const ae=l[19].footer,A=ge(ae,l,l[24],ze);return Q=new Ue({props:{title:(ue=l[1])==null?void 0:ue.statusText,intent:"error",hidden:!l[1],$$slots:{default:[dl]},$$scope:{ctx:l}}}),{c(){e=M("div"),W(t.$$.fragment),s=I(),r=M("div"),i=M("p"),u=B(b),_=I(),p=M("p"),f=B(L),w=I(),W(k.$$.fragment),C=I(),W(T.$$.fragment),c=I(),W(d.$$.fragment),h=I(),W(D.$$.fragment),$=I(),A&&A.c(),Y=I(),W(Q.$$.fragment),this.h()},l(o){e=z(o,"DIV",{class:!0});var n=F(e);J(t.$$.fragment,n),s=H(n),r=z(n,"DIV",{class:!0});var S=F(r);i=z(S,"P",{class:!0});var Z=F(i);u=G(Z,b),Z.forEach(q),_=H(S),p=z(S,"P",{class:!0});var K=F(p);f=G(K,L),K.forEach(q),S.forEach(q),w=H(n),J(k.$$.fragment,n),C=H(n),J(T.$$.fragment,n),c=H(n),J(d.$$.fragment,n),h=H(n),J(D.$$.fragment,n),$=H(n),A&&A.l(n),n.forEach(q),Y=H(o),J(Q.$$.fragment,o),this.h()},h(){N(i,"class","text-base text-primary"),N(p,"class","text-xs text-secondary"),N(r,"class","flex flex-col gap-0"),N(e,"class","flex w-full flex-col gap-4 xl:w-1/2")},m(o,n){j(o,e,n),O(t,e,null),v(e,s),v(e,r),v(r,i),v(i,u),v(r,_),v(r,p),v(p,f),v(e,w),O(k,e,null),v(e,C),O(T,e,null),v(e,c),O(d,e,null),v(e,h),O(D,e,null),v(e,$),A&&A.m(e,null),j(o,Y,n),O(Q,o,n),X=!0},p(o,n){var Pe;const S={};n[0]&4&&(S.disabled=o[2]),n[0]&1056&&(S.error=!o[5]||!o[10](o[5])),n[0]&16&&(S.hintText=o[4]),!a&&n[0]&32&&(a=!0,S.value=o[5],_e(()=>a=!1)),t.$set(S);const Z={};n[0]&128&&(Z.valid=!!o[7]),n[0]&1&&(Z.options=o[0]),!g&&n[0]&128&&(g=!0,Z.value=o[7],_e(()=>g=!1)),k.$set(Z);const K={};n[0]&256&&(K.error=!o[8]),!E&&n[0]&256&&(E=!0,K.value=o[8],_e(()=>E=!1)),T.$set(K);const ie={};n[0]&8&&(ie.isCloud=o[3]),n[0]&16783872&&(ie.$$scope={dirty:n,ctx:o}),d.$set(ie);const Ce={};n[0]&16777216&&(Ce.$$scope={dirty:n,ctx:o}),!m&&n[0]&64&&(m=!0,Ce.value=o[6],_e(()=>m=!1)),D.$set(Ce),A&&A.p&&(!X||n[0]&16777216)&&be(A,ae,o,o[24],X?we(ae,o[24],n,ul):ve(o[24]),ze);const fe={};n[0]&2&&(fe.title=(Pe=o[1])==null?void 0:Pe.statusText),n[0]&2&&(fe.hidden=!o[1]),n[0]&16777218&&(fe.$$scope={dirty:n,ctx:o}),Q.$set(fe)},i(o){X||(V(t.$$.fragment,o),V(k.$$.fragment,o),V(T.$$.fragment,o),V(d.$$.fragment,o),V(D.$$.fragment,o),V(A,o),V(Q.$$.fragment,o),X=!0)},o(o){R(t.$$.fragment,o),R(k.$$.fragment,o),R(T.$$.fragment,o),R(d.$$.fragment,o),R(D.$$.fragment,o),R(A,o),R(Q.$$.fragment,o),X=!1},d(o){o&&(q(e),q(Y)),U(t),U(k),U(T),U(d),U(D),A&&A.d(o),U(Q,o)}}}const je={spec:{name:"",descriptionString:"",target:{worker:{namespace:"",taskQueue:""}},allowedCallerNamespaces:[]}},Ne=Je(je);function _l(l,e,t){let a,s,r,i,b=Qe;Fe(l,Ne,n=>t(34,i=n)),l.$$.on_destroy.push(()=>b());let{$$slots:u={},$$scope:_}=e;var p,L,f,w,k,g,C,T,E,c,d;let{endpoint:h=void 0}=e,{targetNamespaceList:D=[]}=e,{callerNamespaceList:m=[]}=e,{error:$=void 0}=e,{nameDisabled:Y=!1}=e,{isCloud:Q=!0}=e,{nameHintText:X=P("nexus.endpoint-name-hint")}=e,{nameRegexPattern:se=/^[A-Za-z_][A-Za-z0-9_]*$/}=e,y=((p=h==null?void 0:h.spec)===null||p===void 0?void 0:p.name)||"",ee=((L=h==null?void 0:h.spec)===null||L===void 0?void 0:L.descriptionString)||"",x=((k=(w=(f=h==null?void 0:h.spec)===null||f===void 0?void 0:f.target)===null||w===void 0?void 0:w.worker)===null||k===void 0?void 0:k.namespace)||"",le=((T=(C=(g=h==null?void 0:h.spec)===null||g===void 0?void 0:g.target)===null||C===void 0?void 0:C.worker)===null||T===void 0?void 0:T.taskQueue)||"",te=((E=h==null?void 0:h.spec)===null||E===void 0?void 0:E.allowedCallerNamespaces)||[];const ke=(n,S,Z,K,ie)=>{De(Ne,i={spec:{name:n,descriptionString:S,target:{worker:{namespace:Z,taskQueue:K}},allowedCallerNamespaces:ie}},i)},re=n=>{t(9,te=n.map(S=>S.value))};Be(()=>{De(Ne,i=je,i)});function ae(n){y=n,t(5,y)}function A(n){x=n,t(7,x)}function ue(n){le=n,t(8,le)}function o(n){ee=n,t(6,ee)}return l.$$set=n=>{"endpoint"in n&&t(14,h=n.endpoint),"targetNamespaceList"in n&&t(0,D=n.targetNamespaceList),"callerNamespaceList"in n&&t(15,m=n.callerNamespaceList),"error"in n&&t(1,$=n.error),"nameDisabled"in n&&t(2,Y=n.nameDisabled),"isCloud"in n&&t(3,Q=n.isCloud),"nameHintText"in n&&t(4,X=n.nameHintText),"nameRegexPattern"in n&&t(16,se=n.nameRegexPattern),"$$scope"in n&&t(24,_=n.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&992&&ke(y,ee,x,le,te),l.$$.dirty[0]&32768&&t(12,a=m.map(n=>({value:n.namespace,label:n.namespace}))),l.$$.dirty[0]&409600&&t(11,s=(t(18,d=t(17,c=h==null?void 0:h.spec)===null||c===void 0?void 0:c.allowedCallerNamespaces)===null||d===void 0?void 0:d.map(n=>({value:n,label:n})))||[]),l.$$.dirty[0]&65536&&t(10,r=n=>se.test(n))},[D,$,Y,Q,X,y,ee,x,le,te,r,s,a,re,h,m,se,c,d,u,ae,A,ue,o,_]}class ql extends Ee{constructor(e){super(),qe(this,e,_l,ml,Le,{endpoint:14,targetNamespaceList:0,callerNamespaceList:15,error:1,nameDisabled:2,isCloud:3,nameHintText:4,nameRegexPattern:16},null,[-1,-1])}}export{ql as N,Ne as e};

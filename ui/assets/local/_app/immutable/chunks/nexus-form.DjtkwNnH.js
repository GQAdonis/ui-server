const __vite__fileDeps=["./index.BGOuuoxm.js","./preload-helper.D6kgxu3v.js","../assets/index.CJGLmN9A.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{s as we,x as Ve,i as O,f as h,c as Ce,a as Ne,u as Te,g as De,e as Ee,h as y,j as z,k as G,m as J,v as re,r as Oe,T as Be,a6 as Ke,M as ue,b as L,t as te,d as I,l as ne,o as Ge,n as v,N as pe,w as Re,q as Je}from"./scheduler.BTg3iwM1.js";import{S as Pe,i as Le,g as Qe,b as k,e as je,t as w,f as ge,c as S,a as F,m as H,d as A}from"./index.64bqrcBm.js";import{w as Ue}from"./entry.CzmNI18i.js";import{p as We}from"./stores.Bl6h2Z44.js";import{A as Xe}from"./alert.DsYEO683.js";import{C as ye}from"./combobox.euJCQz5e.js";import{I as Se}from"./input.Dmp19-OH.js";import{_ as Ye}from"./preload-helper.D6kgxu3v.js";import{u as Ze}from"./dark-mode.DCz1dcIQ.js";import{M as xe}from"./markdown.BZhmlYBv.js";import{T as et,a as Fe}from"./toggle-buttons.G92_DEYi.js";import{t as $}from"./translate.BBe5dcco.js";const tt=s=>({}),He=s=>({});function nt(s){let e;const t=s[3].fallback,n=Ne(t,s,s[2],He);return{c(){n&&n.c()},l(a){n&&n.l(a)},m(a,l){n&&n.m(a,l),e=!0},p(a,l){n&&n.p&&(!e||l&4)&&Te(n,t,a,a[2],e?Ee(t,a[2],l,tt):De(a[2]),He)},i(a){e||(w(n,a),e=!0)},o(a){k(n,a),e=!1},d(a){n&&n.d(a)}}}function st(s){let e;const t=s[3].default,n=Ne(t,s,s[2],null);return{c(){n&&n.c()},l(a){n&&n.l(a)},m(a,l){n&&n.m(a,l),e=!0},p(a,l){n&&n.p&&(!e||l&4)&&Te(n,t,a,a[2],e?Ee(t,a[2],l,null):De(a[2]),null)},i(a){e||(w(n,a),e=!0)},o(a){k(n,a),e=!1},d(a){n&&n.d(a)}}}function lt(s){let e,t,n,a;const l=[st,nt],r=[];function _(c,f){var m,C,E;return c[0]||(E=(C=(m=c[1].data)==null?void 0:m.settings)==null?void 0:C.runtimeEnvironment)!=null&&E.isCloud?0:1}return e=_(s),t=r[e]=l[e](s),{c(){t.c(),n=Ve()},l(c){t.l(c),n=Ve()},m(c,f){r[e].m(c,f),O(c,n,f),a=!0},p(c,[f]){let m=e;e=_(c),e===m?r[e].p(c,f):(Qe(),k(r[m],1,1,()=>{r[m]=null}),je(),t=r[e],t?t.p(c,f):(t=r[e]=l[e](c),t.c()),w(t,1),t.m(n.parentNode,n))},i(c){a||(w(t),a=!0)},o(c){k(t),a=!1},d(c){c&&h(n),r[e].d(c)}}}function at(s,e,t){let n;Ce(s,We,_=>t(1,n=_));let{$$slots:a={},$$scope:l}=e,{isCloud:r=!1}=e;return s.$$set=_=>{"isCloud"in _&&t(0,r=_.isCloud),"$$scope"in _&&t(2,l=_.$$scope)},[r,n,l,a]}class ot extends Pe{constructor(e){super(),Le(this,e,at,lt,we,{isCloud:0})}}function rt(s){let e;return{c(){e=y("div"),this.h()},l(t){e=z(t,"DIV",{class:!0}),G(e).forEach(h),this.h()},h(){J(e,"class","h-full min-h-80")},m(t,n){O(t,e,n),s[4](e)},p:re,i:re,o:re,d(t){t&&h(e),s[4](null)}}}function it(s,e,t){let n;Ce(s,Ze,f=>t(3,n=f));const a=Oe();let l,r,{content:_=""}=e;Be(async()=>{t(2,l=(await Ye(()=>import("./index.BGOuuoxm.js").then(C=>C.i),__vite__mapDeps([0,1,2]),import.meta.url)).default);const f=l.editor.create(r,{language:"markdown"}),m=l.editor.createModel(_,"markdown");m.onDidChangeContent(()=>{const C=m.getValue();a("change",{value:C})}),f.setModel(m)}),Ke(()=>{l==null||l.editor.getModels().forEach(f=>f.dispose())});function c(f){ue[f?"unshift":"push"](()=>{r=f,t(0,r)})}return s.$$set=f=>{"content"in f&&t(1,_=f.content)},s.$$.update=()=>{s.$$.dirty&12&&(n?l==null||l.editor.setTheme("vs-dark"):l==null||l.editor.setTheme("vs"))},[r,_,l,n,c]}class ut extends Pe{constructor(e){super(),Le(this,e,it,rt,we,{content:1})}}const ct=s=>({}),Ae=s=>({});function ft(s){let e,t,n=$("nexus.access-policy")+"",a,l,r,_=$("nexus.allowed-caller-namespaces-description")+"",c,f,m,C,E;function B(d){s[20](d)}let T={id:"caller-namespace-filter-menu",multiselect:!0,displayChips:!1,options:s[12],label:$("nexus.allowed-caller-namespaces"),toggleLabel:$("common.namespaces"),leadingIcon:"search",noResultsText:$("common.no-results"),valid:!!s[9].length,error:"Please select at least one Namespace.",placeholder:$("nexus.select-namespaces"),optionValueKey:"value",optionLabelKey:"label"};return s[9]!==void 0&&(T.value=s[9]),m=new ye({props:T}),ue.push(()=>ge(m,"value",B)),{c(){e=y("div"),t=y("p"),a=te(n),l=L(),r=y("p"),c=te(_),f=L(),S(m.$$.fragment),this.h()},l(d){e=z(d,"DIV",{class:!0});var b=G(e);t=z(b,"P",{class:!0});var g=G(t);a=ne(g,n),g.forEach(h),l=I(b),r=z(b,"P",{class:!0});var p=G(r);c=ne(p,_),p.forEach(h),b.forEach(h),f=I(d),F(m.$$.fragment,d),this.h()},h(){J(t,"class","text-base text-primary"),J(r,"class","text-xs text-secondary"),J(e,"class","flex flex-col gap-0")},m(d,b){O(d,e,b),v(e,t),v(t,a),v(e,l),v(e,r),v(r,c),O(d,f,b),H(m,d,b),E=!0},p(d,b){const g={};b[0]&4096&&(g.options=d[12]),b[0]&512&&(g.valid=!!d[9].length),!C&&b[0]&512&&(C=!0,g.value=d[9],pe(()=>C=!1)),m.$set(g)},i(d){E||(w(m.$$.fragment,d),E=!0)},o(d){k(m.$$.fragment,d),E=!1},d(d){d&&(h(e),h(f)),A(m,d)}}}function mt(s){let e=$("common.description")+"",t;return{c(){t=te(e)},l(n){t=ne(n,e)},m(n,a){O(n,t,a)},p:re,d(n){n&&h(t)}}}function dt(s){let e=$("common.preview")+"",t;return{c(){t=te(e)},l(n){t=ne(n,e)},m(n,a){O(n,t,a)},p:re,d(n){n&&h(t)}}}function _t(s){let e,t,n,a;return e=new Fe({props:{active:s[10]===!1,"data-testid":"description-editor",$$slots:{default:[mt]},$$scope:{ctx:s}}}),e.$on("click",s[21]),n=new Fe({props:{active:s[10]===!0,"data-testid":"description-preview",$$slots:{default:[dt]},$$scope:{ctx:s}}}),n.$on("click",s[22]),{c(){S(e.$$.fragment),t=L(),S(n.$$.fragment)},l(l){F(e.$$.fragment,l),t=I(l),F(n.$$.fragment,l)},m(l,r){H(e,l,r),O(l,t,r),H(n,l,r),a=!0},p(l,r){const _={};r[0]&1024&&(_.active=l[10]===!1),r[0]&16777216&&(_.$$scope={dirty:r,ctx:l}),e.$set(_);const c={};r[0]&1024&&(c.active=l[10]===!0),r[0]&16777216&&(c.$$scope={dirty:r,ctx:l}),n.$set(c)},i(l){a||(w(e.$$.fragment,l),w(n.$$.fragment,l),a=!0)},o(l){k(e.$$.fragment,l),k(n.$$.fragment,l),a=!1},d(l){l&&h(t),A(e,l),A(n,l)}}}function pt(s){let e,t;return e=new ut({props:{content:s[6]}}),e.$on("change",s[23]),{c(){S(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,a){H(e,n,a),t=!0},p(n,a){const l={};a[0]&64&&(l.content=n[6]),e.$set(l)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function gt(s){let e,t;return e=new xe({props:{content:s[6]}}),{c(){S(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,a){H(e,n,a),t=!0},p(n,a){const l={};a[0]&64&&(l.content=n[6]),e.$set(l)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function vt(s){var n;let e=((n=s[1])==null?void 0:n.message)+"",t;return{c(){t=te(e)},l(a){t=ne(a,e)},m(a,l){O(a,t,l)},p(a,l){var r;l[0]&2&&e!==(e=((r=a[1])==null?void 0:r.message)+"")&&Je(t,e)},d(a){a&&h(t)}}}function bt(s){var Ie;let e,t,n,a,l,r,_=$("nexus.target")+"",c,f,m,C=$("nexus.target-description")+"",E,B,T,d,b,g,p,se,q,le,V,ae,R,D,N,U,M,x="Do not include sensitive data.",W,X,K,Y;function ve(o){s[17](o)}let ce={required:!0,disabled:s[2],error:!s[5]||!s[11](s[5]),hintText:s[4],label:$("nexus.endpoint-name"),id:"name",maxLength:255,placeholder:$("nexus.endpoint-name-placeholder")};s[5]!==void 0&&(ce.value=s[5]),t=new Se({props:ce}),ue.push(()=>ge(t,"value",ve));function be(o){s[18](o)}let fe={label:$("nexus.target-namespace"),toggleLabel:$("common.namespaces"),noResultsText:$("common.no-results"),valid:!!s[7],error:"Please select a target Namespace.",required:!0,id:"target-namespace",placeholder:$("nexus.select-namespace"),leadingIcon:"namespace-switcher",options:s[0],optionValueKey:"namespace",minSize:32};s[7]!==void 0&&(fe.value=s[7]),T=new ye({props:fe}),ue.push(()=>ge(T,"value",be));function he(o){s[19](o)}let me={required:!0,error:!s[8],label:$("common.task-queue"),id:"task-queue",placeholder:$("nexus.task-queue-placeholder")};s[8]!==void 0&&(me.value=s[8]),g=new Se({props:me}),ue.push(()=>ge(g,"value",he)),q=new ot({props:{isCloud:s[3],$$slots:{default:[ft]},$$scope:{ctx:s}}}),V=new et({props:{$$slots:{default:[_t]},$$scope:{ctx:s}}});const u=[gt,pt],Q=[];function de(o,i){return o[10]?0:1}D=de(s),N=Q[D]=u[D](s);const ie=s[16].footer,P=Ne(ie,s,s[24],Ae);return K=new Xe({props:{title:(Ie=s[1])==null?void 0:Ie.statusText,intent:"error",hidden:!s[1],$$slots:{default:[vt]},$$scope:{ctx:s}}}),{c(){e=y("div"),S(t.$$.fragment),a=L(),l=y("div"),r=y("p"),c=te(_),f=L(),m=y("p"),E=te(C),B=L(),S(T.$$.fragment),b=L(),S(g.$$.fragment),se=L(),S(q.$$.fragment),le=L(),S(V.$$.fragment),ae=L(),R=y("div"),N.c(),U=L(),M=y("p"),M.textContent=x,W=L(),P&&P.c(),X=L(),S(K.$$.fragment),this.h()},l(o){e=z(o,"DIV",{class:!0});var i=G(e);F(t.$$.fragment,i),a=I(i),l=z(i,"DIV",{class:!0});var j=G(l);r=z(j,"P",{class:!0});var ee=G(r);c=ne(ee,_),ee.forEach(h),f=I(j),m=z(j,"P",{class:!0});var oe=G(m);E=ne(oe,C),oe.forEach(h),j.forEach(h),B=I(i),F(T.$$.fragment,i),b=I(i),F(g.$$.fragment,i),se=I(i),F(q.$$.fragment,i),le=I(i),F(V.$$.fragment,i),ae=I(i),R=z(i,"DIV",{});var Z=G(R);N.l(Z),U=I(Z),M=z(Z,"P",{class:!0,"data-svelte-h":!0}),Ge(M)!=="svelte-11lgqx1"&&(M.textContent=x),Z.forEach(h),W=I(i),P&&P.l(i),i.forEach(h),X=I(o),F(K.$$.fragment,o),this.h()},h(){J(r,"class","text-base text-primary"),J(m,"class","text-xs text-secondary"),J(l,"class","flex flex-col gap-0"),J(M,"class","my-2 text-xs text-secondary"),J(e,"class","flex w-full flex-col gap-4 xl:w-1/2")},m(o,i){O(o,e,i),H(t,e,null),v(e,a),v(e,l),v(l,r),v(r,c),v(l,f),v(l,m),v(m,E),v(e,B),H(T,e,null),v(e,b),H(g,e,null),v(e,se),H(q,e,null),v(e,le),H(V,e,null),v(e,ae),v(e,R),Q[D].m(R,null),v(R,U),v(R,M),v(e,W),P&&P.m(e,null),O(o,X,i),H(K,o,i),Y=!0},p(o,i){var Me;const j={};i[0]&4&&(j.disabled=o[2]),i[0]&2080&&(j.error=!o[5]||!o[11](o[5])),i[0]&16&&(j.hintText=o[4]),!n&&i[0]&32&&(n=!0,j.value=o[5],pe(()=>n=!1)),t.$set(j);const ee={};i[0]&128&&(ee.valid=!!o[7]),i[0]&1&&(ee.options=o[0]),!d&&i[0]&128&&(d=!0,ee.value=o[7],pe(()=>d=!1)),T.$set(ee);const oe={};i[0]&256&&(oe.error=!o[8]),!p&&i[0]&256&&(p=!0,oe.value=o[8],pe(()=>p=!1)),g.$set(oe);const Z={};i[0]&8&&(Z.isCloud=o[3]),i[0]&16781824&&(Z.$$scope={dirty:i,ctx:o}),q.$set(Z);const qe={};i[0]&16778240&&(qe.$$scope={dirty:i,ctx:o}),V.$set(qe);let $e=D;D=de(o),D===$e?Q[D].p(o,i):(Qe(),k(Q[$e],1,1,()=>{Q[$e]=null}),je(),N=Q[D],N?N.p(o,i):(N=Q[D]=u[D](o),N.c()),w(N,1),N.m(R,U)),P&&P.p&&(!Y||i[0]&16777216)&&Te(P,ie,o,o[24],Y?Ee(ie,o[24],i,ct):De(o[24]),Ae);const _e={};i[0]&2&&(_e.title=(Me=o[1])==null?void 0:Me.statusText),i[0]&2&&(_e.hidden=!o[1]),i[0]&16777218&&(_e.$$scope={dirty:i,ctx:o}),K.$set(_e)},i(o){Y||(w(t.$$.fragment,o),w(T.$$.fragment,o),w(g.$$.fragment,o),w(q.$$.fragment,o),w(V.$$.fragment,o),w(N),w(P,o),w(K.$$.fragment,o),Y=!0)},o(o){k(t.$$.fragment,o),k(T.$$.fragment,o),k(g.$$.fragment,o),k(q.$$.fragment,o),k(V.$$.fragment,o),k(N),k(P,o),k(K.$$.fragment,o),Y=!1},d(o){o&&(h(e),h(X)),A(t),A(T),A(g),A(q),A(V),Q[D].d(),P&&P.d(o),A(K,o)}}}const ze={spec:{name:"",descriptionString:"",target:{worker:{namespace:"",taskQueue:""}},allowedCallerNamespaces:[]}},ke=Ue(ze);function ht(s,e,t){let n,a,l,r=re;Ce(s,ke,u=>t(34,l=u)),s.$$.on_destroy.push(()=>r());let{$$slots:_={},$$scope:c}=e;var f,m,C,E,B,T,d,b,g;let{endpoint:p=void 0}=e,{targetNamespaceList:se=[]}=e,{callerNamespaceList:q=[]}=e,{error:le=void 0}=e,{nameDisabled:V=!1}=e,{isCloud:ae=!0}=e,{nameHintText:R}=e,{nameRegexPattern:D}=e,N=((f=p==null?void 0:p.spec)===null||f===void 0?void 0:f.name)||"",U=((m=p==null?void 0:p.spec)===null||m===void 0?void 0:m.descriptionString)||"",M=((B=(E=(C=p==null?void 0:p.spec)===null||C===void 0?void 0:C.target)===null||E===void 0?void 0:E.worker)===null||B===void 0?void 0:B.namespace)||"",x=((b=(d=(T=p==null?void 0:p.spec)===null||T===void 0?void 0:T.target)===null||d===void 0?void 0:d.worker)===null||b===void 0?void 0:b.taskQueue)||"",W=((g=p==null?void 0:p.spec)===null||g===void 0?void 0:g.allowedCallerNamespaces)||[],X=!1;const K=(u,Q,de,ie,P)=>{Re(ke,l={spec:{name:u,descriptionString:Q,target:{worker:{namespace:de,taskQueue:ie}},allowedCallerNamespaces:P}},l)};Ke(()=>{Re(ke,l=ze,l)});function Y(u){N=u,t(5,N)}function ve(u){M=u,t(7,M)}function ce(u){x=u,t(8,x)}function be(u){W=u,t(9,W)}const fe=()=>t(10,X=!1),he=()=>t(10,X=!0),me=u=>t(6,U=u.detail.value);return s.$$set=u=>{"endpoint"in u&&t(13,p=u.endpoint),"targetNamespaceList"in u&&t(0,se=u.targetNamespaceList),"callerNamespaceList"in u&&t(14,q=u.callerNamespaceList),"error"in u&&t(1,le=u.error),"nameDisabled"in u&&t(2,V=u.nameDisabled),"isCloud"in u&&t(3,ae=u.isCloud),"nameHintText"in u&&t(4,R=u.nameHintText),"nameRegexPattern"in u&&t(15,D=u.nameRegexPattern),"$$scope"in u&&t(24,c=u.$$scope)},s.$$.update=()=>{s.$$.dirty[0]&992&&K(N,U,M,x,W),s.$$.dirty[0]&16384&&t(12,n=q.map(u=>({value:u.namespace,label:u.namespace}))),s.$$.dirty[0]&32768&&t(11,a=u=>D.test(u))},[se,le,V,ae,R,N,U,M,x,W,X,a,n,p,q,D,_,Y,ve,ce,be,fe,he,me,c]}class Mt extends Pe{constructor(e){super(),Le(this,e,ht,bt,we,{endpoint:13,targetNamespaceList:0,callerNamespaceList:14,error:1,nameDisabled:2,isCloud:3,nameHintText:4,nameRegexPattern:15},null,[-1,-1])}}export{Mt as N,ke as e};

import{s as Ce,x as Se,i as G,f as k,c as Ne,a as De,u as Ee,g as Te,e as Le,h as O,j as B,k as U,m as W,v as re,r as Oe,R as Be,ac as Qe,L as ge,b as I,t as se,d as M,l as ae,o as Ge,n as v,T as ke,w as Ve,q as Je}from"./scheduler.tl3rb73C.js";import{S as Pe,i as Ie,g as je,b as w,e as ze,t as C,f as $e,c as R,a as A,m as F,d as H}from"./index.iYEhKDTv.js";import{w as Ue}from"./entry.wVVJrQqV.js";import{p as We}from"./stores.9_jifC6J.js";import{A as Xe}from"./alert.R0OEvjyr.js";import{C as Ye}from"./combobox.Qcra2L9S.js";import{I as Re}from"./input.FCbnniJf.js";import{_ as Ze}from"./preload-helper.0HuHagjb.js";import{u as ye}from"./dark-mode.oCrAmLFB.js";import{M as xe}from"./markdown.ohVJXnl7.js";import{M as et}from"./multi-select.MT6xkPWz.js";import{T as tt,a as Ae}from"./toggle-buttons.FWb9Fy_s.js";import{t as h}from"./translate.HrioCK44.js";const nt=l=>({}),Fe=l=>({});function lt(l){let e;const t=l[3].fallback,n=De(t,l,l[2],Fe);return{c(){n&&n.c()},l(a){n&&n.l(a)},m(a,s){n&&n.m(a,s),e=!0},p(a,s){n&&n.p&&(!e||s&4)&&Ee(n,t,a,a[2],e?Le(t,a[2],s,nt):Te(a[2]),Fe)},i(a){e||(C(n,a),e=!0)},o(a){w(n,a),e=!1},d(a){n&&n.d(a)}}}function st(l){let e;const t=l[3].default,n=De(t,l,l[2],null);return{c(){n&&n.c()},l(a){n&&n.l(a)},m(a,s){n&&n.m(a,s),e=!0},p(a,s){n&&n.p&&(!e||s&4)&&Ee(n,t,a,a[2],e?Le(t,a[2],s,null):Te(a[2]),null)},i(a){e||(C(n,a),e=!0)},o(a){w(n,a),e=!1},d(a){n&&n.d(a)}}}function at(l){let e,t,n,a;const s=[st,lt],r=[];function _(c,f){var m,$,d;return c[0]||(d=($=(m=c[1].data)==null?void 0:m.settings)==null?void 0:$.runtimeEnvironment)!=null&&d.isCloud?0:1}return e=_(l),t=r[e]=s[e](l),{c(){t.c(),n=Se()},l(c){t.l(c),n=Se()},m(c,f){r[e].m(c,f),G(c,n,f),a=!0},p(c,[f]){let m=e;e=_(c),e===m?r[e].p(c,f):(je(),w(r[m],1,1,()=>{r[m]=null}),ze(),t=r[e],t?t.p(c,f):(t=r[e]=s[e](c),t.c()),C(t,1),t.m(n.parentNode,n))},i(c){a||(C(t),a=!0)},o(c){w(t),a=!1},d(c){c&&k(n),r[e].d(c)}}}function ot(l,e,t){let n;Ne(l,We,_=>t(1,n=_));let{$$slots:a={},$$scope:s}=e,{isCloud:r=!1}=e;return l.$$set=_=>{"isCloud"in _&&t(0,r=_.isCloud),"$$scope"in _&&t(2,s=_.$$scope)},[r,n,s,a]}class rt extends Pe{constructor(e){super(),Ie(this,e,ot,at,Ce,{isCloud:0})}}function it(l){let e;return{c(){e=O("div"),this.h()},l(t){e=B(t,"DIV",{class:!0}),U(e).forEach(k),this.h()},h(){W(e,"class","h-full min-h-80")},m(t,n){G(t,e,n),l[4](e)},p:re,i:re,o:re,d(t){t&&k(e),l[4](null)}}}function ut(l,e,t){let n;Ne(l,ye,f=>t(3,n=f));const a=Oe();let s,r,{content:_=""}=e;Be(async()=>{t(2,s=(await Ze(()=>import("./index.RJsVUSS8.js").then($=>$.i),__vite__mapDeps([0,1,2]),import.meta.url)).default);const f=s.editor.create(r,{language:"markdown"}),m=s.editor.createModel(_,"markdown");m.onDidChangeContent(()=>{const $=m.getValue();a("change",{value:$})}),f.setModel(m)}),Qe(()=>{s==null||s.editor.getModels().forEach(f=>f.dispose())});function c(f){ge[f?"unshift":"push"](()=>{r=f,t(0,r)})}return l.$$set=f=>{"content"in f&&t(1,_=f.content)},l.$$.update=()=>{l.$$.dirty&12&&(n?s==null||s.editor.setTheme("vs-dark"):s==null||s.editor.setTheme("vs"))},[r,_,s,n,c]}class ct extends Pe{constructor(e){super(),Ie(this,e,ut,it,Ce,{content:1})}}const ft=l=>({}),He=l=>({});function mt(l){let e,t,n=h("nexus.access-policy")+"",a,s,r,_=h("nexus.allowed-caller-namespaces-description")+"",c,f,m,$;return m=new et({props:{id:"caller-namespace-filter-menu",options:l[13],initialSelected:l[12],label:l[9].length?h("nexus.selected-namespaces",{count:l[9].length}):h("nexus.select-namespaces"),selectAllLabel:h("common.select-all"),clearAllLabel:h("common.clear-all-capitalized"),initialSelectedAll:!1,onChange:l[14]}}),{c(){e=O("div"),t=O("p"),a=se(n),s=I(),r=O("p"),c=se(_),f=I(),R(m.$$.fragment),this.h()},l(d){e=B(d,"DIV",{class:!0});var b=U(e);t=B(b,"P",{class:!0});var g=U(t);a=ae(g,n),g.forEach(k),s=M(b),r=B(b,"P",{class:!0});var Q=U(r);c=ae(Q,_),Q.forEach(k),b.forEach(k),f=M(d),A(m.$$.fragment,d),this.h()},h(){W(t,"class","text-base text-primary"),W(r,"class","text-xs text-secondary"),W(e,"class","flex flex-col gap-0")},m(d,b){G(d,e,b),v(e,t),v(t,a),v(e,s),v(e,r),v(r,c),G(d,f,b),F(m,d,b),$=!0},p(d,b){const g={};b[0]&8192&&(g.options=d[13]),b[0]&4096&&(g.initialSelected=d[12]),b[0]&512&&(g.label=d[9].length?h("nexus.selected-namespaces",{count:d[9].length}):h("nexus.select-namespaces")),m.$set(g)},i(d){$||(C(m.$$.fragment,d),$=!0)},o(d){w(m.$$.fragment,d),$=!1},d(d){d&&(k(e),k(f)),H(m,d)}}}function dt(l){let e=h("common.description")+"",t;return{c(){t=se(e)},l(n){t=ae(n,e)},m(n,a){G(n,t,a)},p:re,d(n){n&&k(t)}}}function _t(l){let e=h("common.preview")+"",t;return{c(){t=se(e)},l(n){t=ae(n,e)},m(n,a){G(n,t,a)},p:re,d(n){n&&k(t)}}}function pt(l){let e,t,n,a;return e=new Ae({props:{active:l[10]===!1,"data-testid":"description-editor",$$slots:{default:[dt]},$$scope:{ctx:l}}}),e.$on("click",l[24]),n=new Ae({props:{active:l[10]===!0,"data-testid":"description-preview",$$slots:{default:[_t]},$$scope:{ctx:l}}}),n.$on("click",l[25]),{c(){R(e.$$.fragment),t=I(),R(n.$$.fragment)},l(s){A(e.$$.fragment,s),t=M(s),A(n.$$.fragment,s)},m(s,r){F(e,s,r),G(s,t,r),F(n,s,r),a=!0},p(s,r){const _={};r[0]&1024&&(_.active=s[10]===!1),r[0]&134217728&&(_.$$scope={dirty:r,ctx:s}),e.$set(_);const c={};r[0]&1024&&(c.active=s[10]===!0),r[0]&134217728&&(c.$$scope={dirty:r,ctx:s}),n.$set(c)},i(s){a||(C(e.$$.fragment,s),C(n.$$.fragment,s),a=!0)},o(s){w(e.$$.fragment,s),w(n.$$.fragment,s),a=!1},d(s){s&&k(t),H(e,s),H(n,s)}}}function gt(l){let e,t;return e=new ct({props:{content:l[6]}}),e.$on("change",l[26]),{c(){R(e.$$.fragment)},l(n){A(e.$$.fragment,n)},m(n,a){F(e,n,a),t=!0},p(n,a){const s={};a[0]&64&&(s.content=n[6]),e.$set(s)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){H(e,n)}}}function vt(l){let e,t;return e=new xe({props:{content:l[6]}}),{c(){R(e.$$.fragment)},l(n){A(e.$$.fragment,n)},m(n,a){F(e,n,a),t=!0},p(n,a){const s={};a[0]&64&&(s.content=n[6]),e.$set(s)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){H(e,n)}}}function bt(l){var n;let e=((n=l[1])==null?void 0:n.message)+"",t;return{c(){t=se(e)},l(a){t=ae(a,e)},m(a,s){G(a,t,s)},p(a,s){var r;s[0]&2&&e!==(e=((r=a[1])==null?void 0:r.message)+"")&&Je(t,e)},d(a){a&&k(t)}}}function ht(l){var _e;let e,t,n,a,s,r,_=h("nexus.target")+"",c,f,m,$=h("nexus.target-description")+"",d,b,g,Q,Z,T,y,X,L,p,q,x,S,D,E,ee,V,te="Do not include sensitive data.",ne,J,P,j;function ie(o){l[21](o)}let ue={required:!0,disabled:l[2],error:!l[5]||!l[11](l[5]),hintText:l[4],label:h("nexus.endpoint-name"),id:"name",maxLength:255,placeholder:h("nexus.endpoint-name-placeholder")};l[5]!==void 0&&(ue.value=l[5]),t=new Re({props:ue}),ge.push(()=>$e(t,"value",ie));function ve(o){l[22](o)}let ce={label:h("nexus.target-namespace"),toggleLabel:h("common.namespaces"),noResultsText:h("common.no-results"),valid:!!l[7],error:"Please select a target Namespace.",required:!0,id:"target-namespace",placeholder:h("nexus.select-namespace"),leadingIcon:"namespace-switcher",options:l[0],optionValueKey:"namespace",minSize:32};l[7]!==void 0&&(ce.value=l[7]),g=new Ye({props:ce}),ge.push(()=>$e(g,"value",ve));function be(o){l[23](o)}let fe={required:!0,error:!l[8],label:h("common.task-queue"),id:"task-queue",placeholder:h("nexus.task-queue-placeholder")};l[8]!==void 0&&(fe.value=l[8]),T=new Re({props:fe}),ge.push(()=>$e(T,"value",be)),L=new rt({props:{isCloud:l[3],$$slots:{default:[mt]},$$scope:{ctx:l}}}),q=new tt({props:{$$slots:{default:[pt]},$$scope:{ctx:l}}});const me=[vt,gt],z=[];function de(o,i){return o[10]?0:1}D=de(l),E=z[D]=me[D](l);const u=l[20].footer,N=De(u,l,l[27],He);return P=new Xe({props:{title:(_e=l[1])==null?void 0:_e.statusText,intent:"error",hidden:!l[1],$$slots:{default:[bt]},$$scope:{ctx:l}}}),{c(){e=O("div"),R(t.$$.fragment),a=I(),s=O("div"),r=O("p"),c=se(_),f=I(),m=O("p"),d=se($),b=I(),R(g.$$.fragment),Z=I(),R(T.$$.fragment),X=I(),R(L.$$.fragment),p=I(),R(q.$$.fragment),x=I(),S=O("div"),E.c(),ee=I(),V=O("p"),V.textContent=te,ne=I(),N&&N.c(),J=I(),R(P.$$.fragment),this.h()},l(o){e=B(o,"DIV",{class:!0});var i=U(e);A(t.$$.fragment,i),a=M(i),s=B(i,"DIV",{class:!0});var K=U(s);r=B(K,"P",{class:!0});var le=U(r);c=ae(le,_),le.forEach(k),f=M(K),m=B(K,"P",{class:!0});var oe=U(m);d=ae(oe,$),oe.forEach(k),K.forEach(k),b=M(i),A(g.$$.fragment,i),Z=M(i),A(T.$$.fragment,i),X=M(i),A(L.$$.fragment,i),p=M(i),A(q.$$.fragment,i),x=M(i),S=B(i,"DIV",{});var Y=U(S);E.l(Y),ee=M(Y),V=B(Y,"P",{class:!0,"data-svelte-h":!0}),Ge(V)!=="svelte-11lgqx1"&&(V.textContent=te),Y.forEach(k),ne=M(i),N&&N.l(i),i.forEach(k),J=M(o),A(P.$$.fragment,o),this.h()},h(){W(r,"class","text-base text-primary"),W(m,"class","text-xs text-secondary"),W(s,"class","flex flex-col gap-0"),W(V,"class","my-2 text-xs text-secondary"),W(e,"class","flex w-full flex-col gap-4 xl:w-1/2")},m(o,i){G(o,e,i),F(t,e,null),v(e,a),v(e,s),v(s,r),v(r,c),v(s,f),v(s,m),v(m,d),v(e,b),F(g,e,null),v(e,Z),F(T,e,null),v(e,X),F(L,e,null),v(e,p),F(q,e,null),v(e,x),v(e,S),z[D].m(S,null),v(S,ee),v(S,V),v(e,ne),N&&N.m(e,null),G(o,J,i),F(P,o,i),j=!0},p(o,i){var qe;const K={};i[0]&4&&(K.disabled=o[2]),i[0]&2080&&(K.error=!o[5]||!o[11](o[5])),i[0]&16&&(K.hintText=o[4]),!n&&i[0]&32&&(n=!0,K.value=o[5],ke(()=>n=!1)),t.$set(K);const le={};i[0]&128&&(le.valid=!!o[7]),i[0]&1&&(le.options=o[0]),!Q&&i[0]&128&&(Q=!0,le.value=o[7],ke(()=>Q=!1)),g.$set(le);const oe={};i[0]&256&&(oe.error=!o[8]),!y&&i[0]&256&&(y=!0,oe.value=o[8],ke(()=>y=!1)),T.$set(oe);const Y={};i[0]&8&&(Y.isCloud=o[3]),i[0]&134230528&&(Y.$$scope={dirty:i,ctx:o}),L.$set(Y);const Me={};i[0]&134218752&&(Me.$$scope={dirty:i,ctx:o}),q.$set(Me);let he=D;D=de(o),D===he?z[D].p(o,i):(je(),w(z[he],1,1,()=>{z[he]=null}),ze(),E=z[D],E?E.p(o,i):(E=z[D]=me[D](o),E.c()),C(E,1),E.m(S,ee)),N&&N.p&&(!j||i[0]&134217728)&&Ee(N,u,o,o[27],j?Le(u,o[27],i,ft):Te(o[27]),He);const pe={};i[0]&2&&(pe.title=(qe=o[1])==null?void 0:qe.statusText),i[0]&2&&(pe.hidden=!o[1]),i[0]&134217730&&(pe.$$scope={dirty:i,ctx:o}),P.$set(pe)},i(o){j||(C(t.$$.fragment,o),C(g.$$.fragment,o),C(T.$$.fragment,o),C(L.$$.fragment,o),C(q.$$.fragment,o),C(E),C(N,o),C(P.$$.fragment,o),j=!0)},o(o){w(t.$$.fragment,o),w(g.$$.fragment,o),w(T.$$.fragment,o),w(L.$$.fragment,o),w(q.$$.fragment,o),w(E),w(N,o),w(P.$$.fragment,o),j=!1},d(o){o&&(k(e),k(J)),H(t),H(g),H(T),H(L),H(q),z[D].d(),N&&N.d(o),H(P,o)}}}const Ke={spec:{name:"",descriptionString:"",target:{worker:{namespace:"",taskQueue:""}},allowedCallerNamespaces:[]}},we=Ue(Ke);function kt(l,e,t){let n,a,s,r,_=re;Ne(l,we,u=>t(37,r=u)),l.$$.on_destroy.push(()=>_());let{$$slots:c={},$$scope:f}=e;var m,$,d,b,g,Q,Z,T,y,X,L;let{endpoint:p=void 0}=e,{targetNamespaceList:q=[]}=e,{callerNamespaceList:x=[]}=e,{error:S=void 0}=e,{nameDisabled:D=!1}=e,{isCloud:E=!0}=e,{nameHintText:ee}=e,{nameRegexPattern:V}=e,te=((m=p==null?void 0:p.spec)===null||m===void 0?void 0:m.name)||"",ne=(($=p==null?void 0:p.spec)===null||$===void 0?void 0:$.descriptionString)||"",J=((g=(b=(d=p==null?void 0:p.spec)===null||d===void 0?void 0:d.target)===null||b===void 0?void 0:b.worker)===null||g===void 0?void 0:g.namespace)||"",P=((T=(Z=(Q=p==null?void 0:p.spec)===null||Q===void 0?void 0:Q.target)===null||Z===void 0?void 0:Z.worker)===null||T===void 0?void 0:T.taskQueue)||"",j=((y=p==null?void 0:p.spec)===null||y===void 0?void 0:y.allowedCallerNamespaces)||[],ie=!1;const ue=(u,N,_e,o,i)=>{Ve(we,r={spec:{name:u,descriptionString:N,target:{worker:{namespace:_e,taskQueue:o}},allowedCallerNamespaces:i}},r)},ve=u=>{t(9,j=u.map(N=>N.value))};Qe(()=>{Ve(we,r=Ke,r)});function ce(u){te=u,t(5,te)}function be(u){J=u,t(7,J)}function fe(u){P=u,t(8,P)}const me=()=>t(10,ie=!1),z=()=>t(10,ie=!0),de=u=>t(6,ne=u.detail.value);return l.$$set=u=>{"endpoint"in u&&t(15,p=u.endpoint),"targetNamespaceList"in u&&t(0,q=u.targetNamespaceList),"callerNamespaceList"in u&&t(16,x=u.callerNamespaceList),"error"in u&&t(1,S=u.error),"nameDisabled"in u&&t(2,D=u.nameDisabled),"isCloud"in u&&t(3,E=u.isCloud),"nameHintText"in u&&t(4,ee=u.nameHintText),"nameRegexPattern"in u&&t(17,V=u.nameRegexPattern),"$$scope"in u&&t(27,f=u.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&992&&ue(te,ne,J,P,j),l.$$.dirty[0]&65536&&t(13,n=x.map(u=>({value:u.namespace,label:u.namespace}))),l.$$.dirty[0]&819200&&t(12,a=(t(19,L=t(18,X=p==null?void 0:p.spec)===null||X===void 0?void 0:X.allowedCallerNamespaces)===null||L===void 0?void 0:L.map(u=>({value:u,label:u})))||[]),l.$$.dirty[0]&131072&&t(11,s=u=>V.test(u))},[q,S,D,E,ee,te,ne,J,P,j,ie,s,a,n,ve,p,x,V,X,L,c,ce,be,fe,me,z,de,f]}class Vt extends Pe{constructor(e){super(),Ie(this,e,kt,ht,Ce,{endpoint:15,targetNamespaceList:0,callerNamespaceList:16,error:1,nameDisabled:2,isCloud:3,nameHintText:4,nameRegexPattern:17},null,[-1,-1])}}export{Vt as N,we as e};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./index.RJsVUSS8.js","./preload-helper.0HuHagjb.js","../assets/index.baDiGdeK.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}

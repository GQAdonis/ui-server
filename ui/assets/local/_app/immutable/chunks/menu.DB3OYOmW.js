import{s as ee,a as q,z as C,h as T,j as D,k as j,f as I,E as z,i as G,$ as ke,u as K,g as R,e as B,D as X,r as _e,a7 as ge,A as te,v as ve,M as Ee,w as V,x as ae,L as he,c as J,b as W,d as Y,m as Z,H as g,n as H,p as Q,F as le,G as be,t as Le,l as Me,q as Oe,a9 as re,ad as Ie,B as ye,N as Ce}from"./scheduler.DugrFyli.js";import{S as se,i as ne,t as L,b as O,g as F,e as w,c as Ae,a as Ne,m as Se,d as Te,h as De}from"./index.CckufFjv.js";import{g as x}from"./spread.CgU5AtxT.js";import{I as je}from"./icon.CgfdLX9U.js";import{t as P}from"./tw-merge.Ds6tgvmq.js";import{a as ze}from"./index.C6grk6Ti.js";import{w as $}from"./entry.DU5rjygv.js";const Pe=(t,e)=>{const s=l=>{t&&!t.contains(l.target)&&!l.defaultPrevented&&e(l)};return document.addEventListener("click",s,!0),{destroy(){document.removeEventListener("click",s,!0)}}},Ue=t=>({open:t&2}),ue=t=>({open:t[1]});function He(t){let e,s,l,i,a;const m=t[5].default,f=q(m,t,t[4],ue);let o=[{class:s=P("relative",t[0])},t[3]],u={};for(let c=0;c<o.length;c+=1)u=C(u,o[c]);return{c(){e=T("div"),f&&f.c(),this.h()},l(c){e=D(c,"DIV",{class:!0});var d=j(e);f&&f.l(d),d.forEach(I),this.h()},h(){z(e,u)},m(c,d){G(c,e,d),f&&f.m(e,null),l=!0,i||(a=ke(Pe.call(null,e,t[2])),i=!0)},p(c,[d]){f&&f.p&&(!l||d&18)&&K(f,m,c,c[4],l?B(m,c[4],d,Ue):R(c[4]),ue),z(e,u=x(o,[(!l||d&1&&s!==(s=P("relative",c[0])))&&{class:s},d&8&&c[3]]))},i(c){l||(L(f,c),l=!0)},o(c){O(f,c),l=!1},d(c){c&&I(e),f&&f.d(c),i=!1,a()}}}const ie="menu-context";function Ve(t,e,s){const l=["class","open"];let i=X(e,l),a,m=ve,f=()=>(m(),m=Ee(d,E=>s(6,a=E)),d);t.$$.on_destroy.push(()=>m());let{$$slots:o={},$$scope:u}=e,{class:c=""}=e,{open:d=$(!1)}=e;f();const _=$(!1),p=$(null),h=_e(),b=()=>{a&&(h("close"),V(d,a=!1,a))};return ge(ie,{open:d,keepOpen:_,menuElement:p}),t.$$set=E=>{e=C(C({},e),te(E)),s(3,i=X(e,l)),"class"in E&&s(0,c=E.class),"open"in E&&f(s(1,d=E.open)),"$$scope"in E&&s(4,u=E.$$scope)},[c,d,b,i,u,o]}class lt extends se{constructor(e){super(),ne(this,e,Ve,He,ee,{class:0,open:1})}}const qe=t=>({}),oe=t=>({}),Ke=t=>({}),fe=t=>({});function Re(t){let e,s,l,i,a,m,f,o,u,c,d,_,p;const h=t[14].leading,b=q(h,t,t[13],fe),E=[Xe,Ge],v=[];function y(n,r){return n[5]?0:1}i=y(t),a=v[i]=E[i](t);let k=t[1]!==void 0&&ce(t);const A=t[14].trailing,M=q(A,t,t[13],oe);let U=[{role:"menuitem"},{class:o=P("menu-item","m-1","px-3","py-2",t[0])},{"aria-hidden":u=t[3]?"true":"false"},{"aria-disabled":t[3]},{tabindex:c=t[3]?-1:0},t[12]],N={};for(let n=0;n<U.length;n+=1)N=C(N,U[n]);return{c(){e=T("li"),b&&b.c(),s=W(),l=T("div"),a.c(),m=W(),k&&k.c(),f=W(),M&&M.c(),this.h()},l(n){e=D(n,"LI",{role:!0,class:!0,"aria-hidden":!0,"aria-disabled":!0,tabindex:!0});var r=j(e);b&&b.l(r),s=Y(r),l=D(r,"DIV",{class:!0});var S=j(l);a.l(S),m=Y(S),k&&k.l(S),S.forEach(I),f=Y(r),M&&M.l(r),r.forEach(I),this.h()},h(){Z(l,"class","menu-item-wrapper svelte-2nj0pe"),g(l,"centered",t[6]),z(e,N),g(e,"destructive",t[2]),g(e,"disabled",t[3]),g(e,"selected",t[1]),g(e,"svelte-2nj0pe",!0)},m(n,r){G(n,e,r),b&&b.m(e,null),H(e,s),H(e,l),v[i].m(l,null),H(l,m),k&&k.m(l,null),H(e,f),M&&M.m(e,null),d=!0,_||(p=[Q(e,"click",t[11]),Q(e,"keydown",le(t[10]))],_=!0)},p(n,r){b&&b.p&&(!d||r&8192)&&K(b,h,n,n[13],d?B(h,n[13],r,Ke):R(n[13]),fe);let S=i;i=y(n),i===S?v[i].p(n,r):(F(),O(v[S],1,1,()=>{v[S]=null}),w(),a=v[i],a?a.p(n,r):(a=v[i]=E[i](n),a.c()),L(a,1),a.m(l,m)),n[1]!==void 0?k?(k.p(n,r),r&2&&L(k,1)):(k=ce(n),k.c(),L(k,1),k.m(l,null)):k&&(F(),O(k,1,1,()=>{k=null}),w()),(!d||r&64)&&g(l,"centered",n[6]),M&&M.p&&(!d||r&8192)&&K(M,A,n,n[13],d?B(A,n[13],r,qe):R(n[13]),oe),z(e,N=x(U,[{role:"menuitem"},(!d||r&1&&o!==(o=P("menu-item","m-1","px-3","py-2",n[0])))&&{class:o},(!d||r&8&&u!==(u=n[3]?"true":"false"))&&{"aria-hidden":u},(!d||r&8)&&{"aria-disabled":n[3]},(!d||r&8&&c!==(c=n[3]?-1:0))&&{tabindex:c},r&4096&&n[12]])),g(e,"destructive",n[2]),g(e,"disabled",n[3]),g(e,"selected",n[1]),g(e,"svelte-2nj0pe",!0)},i(n){d||(L(b,n),L(a),L(k),L(M,n),d=!0)},o(n){O(b,n),O(a),O(k),O(M,n),d=!1},d(n){n&&I(e),b&&b.d(n),v[i].d(),k&&k.d(),M&&M.d(n),_=!1,be(p)}}}function Be(t){let e,s,l,i,a,m,f;const o=t[14].default,u=q(o,t,t[13],null);let c=[{href:t[4]},{role:"menuitem"},{class:s=P("menu-item","m-1","px-3","py-2",t[0])},{"aria-hidden":l=t[3]?"true":"false"},{"aria-disabled":t[3]},{tabindex:i=t[3]?-1:0},t[12]],d={};for(let _=0;_<c.length;_+=1)d=C(d,c[_]);return{c(){e=T("a"),u&&u.c(),this.h()},l(_){e=D(_,"A",{href:!0,role:!0,class:!0,"aria-hidden":!0,"aria-disabled":!0,tabindex:!0});var p=j(e);u&&u.l(p),p.forEach(I),this.h()},h(){z(e,d),g(e,"disabled",t[3]),g(e,"hoverable",t[7]),g(e,"svelte-2nj0pe",!0)},m(_,p){G(_,e,p),u&&u.m(e,null),a=!0,m||(f=Q(e,"keydown",le(t[10])),m=!0)},p(_,p){u&&u.p&&(!a||p&8192)&&K(u,o,_,_[13],a?B(o,_[13],p,null):R(_[13]),null),z(e,d=x(c,[(!a||p&16)&&{href:_[4]},{role:"menuitem"},(!a||p&1&&s!==(s=P("menu-item","m-1","px-3","py-2",_[0])))&&{class:s},(!a||p&8&&l!==(l=_[3]?"true":"false"))&&{"aria-hidden":l},(!a||p&8)&&{"aria-disabled":_[3]},(!a||p&8&&i!==(i=_[3]?-1:0))&&{tabindex:i},p&4096&&_[12]])),g(e,"disabled",_[3]),g(e,"hoverable",_[7]),g(e,"svelte-2nj0pe",!0)},i(_){a||(L(u,_),a=!0)},o(_){O(u,_),a=!1},d(_){_&&I(e),u&&u.d(_),m=!1,f()}}}function Ge(t){let e;const s=t[14].default,l=q(s,t,t[13],null);return{c(){l&&l.c()},l(i){l&&l.l(i)},m(i,a){l&&l.m(i,a),e=!0},p(i,a){l&&l.p&&(!e||a&8192)&&K(l,s,i,i[13],e?B(s,i[13],a,null):R(i[13]),null)},i(i){e||(L(l,i),e=!0)},o(i){O(l,i),e=!1},d(i){l&&l.d(i)}}}function Xe(t){let e,s,l,i,a;const m=t[14].default,f=q(m,t,t[13],null);return{c(){e=T("div"),f&&f.c(),s=W(),l=T("span"),i=Le(t[5]),this.h()},l(o){e=D(o,"DIV",{class:!0});var u=j(e);f&&f.l(u),s=Y(u),l=D(u,"SPAN",{class:!0});var c=j(l);i=Me(c,t[5]),c.forEach(I),u.forEach(I),this.h()},h(){Z(l,"class","menu-item-description svelte-2nj0pe"),Z(e,"class","flex flex-col")},m(o,u){G(o,e,u),f&&f.m(e,null),H(e,s),H(e,l),H(l,i),a=!0},p(o,u){f&&f.p&&(!a||u&8192)&&K(f,m,o,o[13],a?B(m,o[13],u,null):R(o[13]),null),(!a||u&32)&&Oe(i,o[5])},i(o){a||(L(f,o),a=!0)},o(o){O(f,o),a=!1},d(o){o&&I(e),f&&f.d(o)}}}function ce(t){let e,s,l=t[1]&&de();return{c(){e=T("div"),l&&l.c(),this.h()},l(i){e=D(i,"DIV",{class:!0});var a=j(e);l&&l.l(a),a.forEach(I),this.h()},h(){Z(e,"class","flex h-6 w-6 shrink-0")},m(i,a){G(i,e,a),l&&l.m(e,null),s=!0},p(i,a){i[1]?l?a&2&&L(l,1):(l=de(),l.c(),L(l,1),l.m(e,null)):l&&(F(),O(l,1,1,()=>{l=null}),w())},i(i){s||(L(l),s=!0)},o(i){O(l),s=!1},d(i){i&&I(e),l&&l.d()}}}function de(t){let e,s;return e=new je({props:{name:"checkmark"}}),{c(){Ae(e.$$.fragment)},l(l){Ne(e.$$.fragment,l)},m(l,i){Se(e,l,i),s=!0},i(l){s||(L(e.$$.fragment,l),s=!0)},o(l){O(e.$$.fragment,l),s=!1},d(l){Te(e,l)}}}function Je(t){let e,s,l,i;const a=[Be,Re],m=[];function f(o,u){return o[4]?0:1}return e=f(t),s=m[e]=a[e](t),{c(){s.c(),l=ae()},l(o){s.l(o),l=ae()},m(o,u){m[e].m(o,u),G(o,l,u),i=!0},p(o,[u]){let c=e;e=f(o),e===c?m[e].p(o,u):(F(),O(m[c],1,1,()=>{m[c]=null}),w(),s=m[e],s?s.p(o,u):(s=m[e]=a[e](o),s.c()),L(s,1),s.m(l.parentNode,l))},i(o){i||(L(s),i=!0)},o(o){O(s),i=!1},d(o){o&&I(l),m[e].d(o)}}}const me='input, li[role="option"]:not([aria-disabled="true"]), li[role="menuitem"]:not([aria-disabled="true"])';function Qe(t,e,s){const l=["class","selected","destructive","disabled","href","description","centered","hoverable"];let i=X(e,l),a,m,{$$slots:f={},$$scope:o}=e,{class:u=""}=e,{selected:c=void 0}=e,{destructive:d=!1}=e,{disabled:_=!1}=e,{href:p=null}=e,{description:h=null}=e,{centered:b=!1}=e,{hoverable:E=!0}=e;const{keepOpen:v,open:y}=he(ie);J(t,v,n=>s(16,m=n)),J(t,y,n=>s(15,a=n));const k=_e(),A=n=>{switch(n.key){case"Escape":V(y,a=!1,a);break;case"ArrowDown":case"ArrowRight":M(n.currentTarget);break;case"ArrowUp":case"ArrowLeft":U(n.currentTarget);break;case" ":case"Enter":k("click"),m||V(y,a=!1,a);break}},M=n=>{let r=n.nextElementSibling;for(;r&&!r.matches(me);)r=r.nextElementSibling;r&&r instanceof HTMLLIElement&&r.focus()},U=n=>{let r=n.previousElementSibling;for(;r&&!r.matches(me);)r=r.previousElementSibling;r&&r instanceof HTMLLIElement&&r.focus()},N=()=>{m||V(y,a=!1,a),k("click")};return t.$$set=n=>{e=C(C({},e),te(n)),s(12,i=X(e,l)),"class"in n&&s(0,u=n.class),"selected"in n&&s(1,c=n.selected),"destructive"in n&&s(2,d=n.destructive),"disabled"in n&&s(3,_=n.disabled),"href"in n&&s(4,p=n.href),"description"in n&&s(5,h=n.description),"centered"in n&&s(6,b=n.centered),"hoverable"in n&&s(7,E=n.hoverable),"$$scope"in n&&s(13,o=n.$$scope)},[u,c,d,_,p,h,b,E,v,y,A,N,i,o,f]}class st extends se{constructor(e){super(),ne(this,e,Qe,Je,ee,{class:0,selected:1,destructive:2,disabled:3,href:4,description:5,centered:6,hoverable:7})}}const pe=t=>Array.from(t.querySelectorAll('[href], button, textarea, input, div[contentEditable="true"], select, [tabindex][tabindex="0"]')).filter(e=>!e.hasAttribute("disabled")&&e.getAttribute("tabindex")!=="-1"),nt=(t,e)=>{let s,l;const i=u=>{u.key==="Tab"&&(u.shiftKey?document.activeElement===s&&(l.focus(),u.preventDefault()):document.activeElement===l&&(s.focus(),u.preventDefault()))},a=(u=!1)=>{if(e===!1)return;const c=pe(t);s=c[0],l=c[c.length-1],u||s==null||s.focus(),s==null||s.addEventListener("keydown",i),l==null||l.addEventListener("keydown",i)},m=()=>{s==null||s.removeEventListener("keydown",i),l==null||l.removeEventListener("keydown",i)},f=(u,c)=>(u.length&&(m(),a(!0)),c);return new MutationObserver(f).observe(t,{childList:!0,subtree:!0}),a(),{update(u){e=u,u?a():m()},destroy(){m()}}};function We(t){let e,s,l,i,a,m,f,o,u;const c=t[14].default,d=q(c,t,t[13],null);let _=[{role:"menu"},{class:s=P("menu","max-h-[20rem]",t[3],t[1])},{"aria-labelledby":t[2]},{tabindex:l=-1},{style:i=t[3]==="top-right"||t[3]==="top-left"?`top: -${t[4]+16}px;`:""},{id:t[2]},t[10]],p={};for(let h=0;h<_.length;h+=1)p=C(p,_[h]);return{c(){e=T("ul"),d&&d.c(),this.h()},l(h){e=D(h,"UL",{role:!0,class:!0,"aria-labelledby":!0,tabindex:!0,style:!0,id:!0});var b=j(e);d&&d.l(b),b.forEach(I),this.h()},h(){z(e,p),re(()=>t[17].call(e)),g(e,"hidden",!t[5]),g(e,"svelte-1xapi5z",!0)},m(h,b){G(h,e,b),d&&d.m(e,null),t[16](e),a=Ie(e,t[17].bind(e)),f=!0,o||(u=[Q(e,"focusout",t[9]),Q(e,"click",le(t[15]))],o=!0)},p(h,[b]){d&&d.p&&(!f||b&8192)&&K(d,c,h,h[13],f?B(c,h[13],b,null):R(h[13]),null),z(e,p=x(_,[{role:"menu"},(!f||b&10&&s!==(s=P("menu","max-h-[20rem]",h[3],h[1])))&&{class:s},(!f||b&4)&&{"aria-labelledby":h[2]},{tabindex:l},(!f||b&24&&i!==(i=h[3]==="top-right"||h[3]==="top-left"?`top: -${h[4]+16}px;`:""))&&{style:i},(!f||b&4)&&{id:h[2]},b&1024&&h[10]])),g(e,"hidden",!h[5]),g(e,"svelte-1xapi5z",!0)},i(h){f||(L(d,h),h&&(m||re(()=>{m=De(e,ze,{duration:100}),m.start()})),f=!0)},o(h){O(d,h),f=!1},d(h){h&&I(e),d&&d.d(h),t[16](null),a(),o=!1,be(u)}}}function Ye(t,e,s){let l,i;const a=["class","id","keepOpen","position","menuElement"];let m=X(e,a),f,o,u,{$$slots:c={},$$scope:d}=e,{class:_=""}=e,p=0,{id:h}=e,{keepOpen:b=!1}=e,{position:E="left"}=e,{menuElement:v=null}=e;const{keepOpen:y,menuElement:k,open:A}=he(ie);J(t,y,r=>s(19,o=r)),J(t,k,r=>s(20,u=r)),J(t,A,r=>s(5,f=r));const M=r=>{!o&&r.target===i&&V(A,f=!1,f)};function U(r){ye.call(this,t,r)}function N(r){Ce[r?"unshift":"push"](()=>{v=r,s(0,v)})}function n(){p=this.clientHeight,s(4,p)}return t.$$set=r=>{e=C(C({},e),te(r)),s(10,m=X(e,a)),"class"in r&&s(1,_=r.class),"id"in r&&s(2,h=r.id),"keepOpen"in r&&s(11,b=r.keepOpen),"position"in r&&s(3,E=r.position),"menuElement"in r&&s(0,v=r.menuElement),"$$scope"in r&&s(13,d=r.$$scope)},t.$$.update=()=>{t.$$.dirty&2048&&V(y,o=b,o),t.$$.dirty&1&&V(k,u=v,u),t.$$.dirty&1&&s(12,l=v?pe(v):[]),t.$$.dirty&4096&&(i=l[l.length-1])},[v,_,h,E,p,f,y,k,A,M,m,b,l,d,c,U,N,n]}class it extends se{constructor(e){super(),ne(this,e,Ye,We,ee,{class:1,id:2,keepOpen:11,position:3,menuElement:0})}}export{lt as M,it as a,ie as b,me as c,st as d,Pe as e,nt as f};

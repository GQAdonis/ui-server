import{s as ze,r as tl,t as se,l as ae,i as A,q as be,f as p,a as Oe,u as Ee,g as qe,e as ve,B as Al,x as U,D as Te,K as Il,c as zl,z as Ie,A as De,M as nl,b as F,h as ne,d as G,j as ie,k as me,E as Re,H as P,m as ke,n as W,p as ge,F as he,N as Ol,G as El,w as Ae,v as il,y as sl}from"./scheduler.Cp5f2qB_.js";import{S as al,i as fl,c as q,a as v,m as N,t as b,b as g,d as V,g as J,e as Q,f as ql}from"./index.CZRxi6Or.js";import{e as pe}from"./each.C9VkOmFe.js";import{g as vl}from"./spread.CgU5AtxT.js";import{w as Nl}from"./entry.CZ7QmVJq.js";import{C as Vl,M as Kl}from"./checkbox.S-nKlPf4.js";import{c as Bl,M as Ml,b as Tl}from"./menu.Kc5Sr_3X.js";import{L as Dl}from"./label.Db4iTuzo.js";import{B as Rl}from"./badge.CCpuyHo-.js";import{B as rl}from"./button.D8cRt64_.js";import{C as Hl}from"./chip.hSnS2okS.js";import{I as Ne}from"./icon.Brtof5Mu.js";import{t as He}from"./tw-merge.Ds6tgvmq.js";const jl=i=>({}),je=i=>({slot:"leading"}),Pl=i=>({}),Pe=i=>({slot:"trailing"});function Fl(i){let e;return{c(){e=se(i[3])},l(t){e=ae(t,i[3])},m(t,l){A(t,e,l)},p(t,l){l&8&&be(e,t[3])},d(t){t&&p(e)}}}function Fe(i){let e,t;return e=new Vl({props:{checked:i[0]}}),e.$on("change",i[6]),{c(){q(e.$$.fragment)},l(l){v(e.$$.fragment,l)},m(l,n){N(e,l,n),t=!0},p(l,n){const s={};n&1&&(s.checked=l[0]),e.$set(s)},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function Gl(i){let e,t,l=i[2]&&Fe(i);return{c(){l&&l.c(),e=U()},l(n){l&&l.l(n),e=U()},m(n,s){l&&l.m(n,s),A(n,e,s),t=!0},p(n,s){n[2]?l?(l.p(n,s),s&4&&b(l,1)):(l=Fe(n),l.c(),b(l,1),l.m(e.parentNode,e)):l&&(J(),g(l,1,1,()=>{l=null}),Q())},i(n){t||(b(l),t=!0)},o(n){g(l),t=!1},d(n){n&&p(e),l&&l.d(n)}}}function Ul(i){let e;const t=i[5].leading,l=Oe(t,i,i[8],je),n=l||Gl(i);return{c(){n&&n.c()},l(s){n&&n.l(s)},m(s,r){n&&n.m(s,r),e=!0},p(s,r){l?l.p&&(!e||r&256)&&Ee(l,t,s,s[8],e?ve(t,s[8],r,jl):qe(s[8]),je):n&&n.p&&(!e||r&5)&&n.p(s,e?r:-1)},i(s){e||(b(n,s),e=!0)},o(s){g(n,s),e=!1},d(s){n&&n.d(s)}}}function Jl(i){let e;const t=i[5].trailing,l=Oe(t,i,i[8],Pe);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,s){l&&l.m(n,s),e=!0},p(n,s){l&&l.p&&(!e||s&256)&&Ee(l,t,n,n[8],e?ve(t,n[8],s,Pl):qe(n[8]),Pe)},i(n){e||(b(l,n),e=!0)},o(n){g(l,n),e=!1},d(n){l&&l.d(n)}}}function Ql(i){let e,t;return e=new Bl({props:{role:"option",class:"break-all","aria-selected":i[0],"aria-disabled":i[1],selected:!i[2]&&i[0],disabled:i[1],$$slots:{trailing:[Jl],leading:[Ul],default:[Fl]},$$scope:{ctx:i}}}),e.$on("click",i[7]),{c(){q(e.$$.fragment)},l(l){v(e.$$.fragment,l)},m(l,n){N(e,l,n),t=!0},p(l,[n]){const s={};n&1&&(s["aria-selected"]=l[0]),n&2&&(s["aria-disabled"]=l[1]),n&5&&(s.selected=!l[2]&&l[0]),n&2&&(s.disabled=l[1]),n&269&&(s.$$scope={dirty:n,ctx:l}),e.$set(s)},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function Wl(i,e,t){let{$$slots:l={},$$scope:n}=e;const s=tl();let{selected:r=!1}=e,{disabled:o=!1}=e,{multiselect:a=!1}=e,{label:c}=e;const d=()=>s("click");function T(I){Al.call(this,i,I)}return i.$$set=I=>{"selected"in I&&t(0,r=I.selected),"disabled"in I&&t(1,o=I.disabled),"multiselect"in I&&t(2,a=I.multiselect),"label"in I&&t(3,c=I.label),"$$scope"in I&&t(8,n=I.$$scope)},[r,o,a,c,s,l,d,T,n]}class Le extends al{constructor(e){super(),fl(this,e,Wl,Ql,ze,{selected:0,disabled:1,multiselect:2,label:3})}}function Ge(i,e,t){const l=i.slice();return l[63]=e[t],l}const Xl=i=>({}),Ue=i=>({});function Je(i,e,t){const l=i.slice();return l[66]=e[t],l}function Qe(i){let e,t;return e=new Ne({props:{width:20,height:20,class:"ml-2 shrink-0",name:i[13]}}),{c(){q(e.$$.fragment)},l(l){v(e.$$.fragment,l)},m(l,n){N(e,l,n),t=!0},p(l,n){const s={};n[0]&8192&&(s.name=l[13]),e.$set(s)},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function We(i){let e,t,l,n;const s=[Zl,Yl],r=[];function o(a,c){return a[16]?0:1}return e=o(i),t=r[e]=s[e](i),{c(){t.c(),l=U()},l(a){t.l(a),l=U()},m(a,c){r[e].m(a,c),A(a,l,c),n=!0},p(a,c){let d=e;e=o(a),e===d?r[e].p(a,c):(J(),g(r[d],1,1,()=>{r[d]=null}),Q(),t=r[e],t?t.p(a,c):(t=r[e]=s[e](a),t.c()),b(t,1),t.m(l.parentNode,l))},i(a){n||(b(t),n=!0)},o(a){g(t),n=!1},d(a){a&&p(l),r[e].d(a)}}}function Yl(i){let e,t;return e=new Rl({props:{$$slots:{default:[wl]},$$scope:{ctx:i}}}),{c(){q(e.$$.fragment)},l(l){v(e.$$.fragment,l)},m(l,n){N(e,l,n),t=!0},p(l,n){const s={};n[0]&2097153|n[1]&8388608&&(s.$$scope={dirty:n,ctx:l}),e.$set(s)},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function Zl(i){let e,t,l,n=pe(i[0].slice(0,i[17])),s=[];for(let a=0;a<n.length;a+=1)s[a]=Xe(Je(i,n,a));const r=a=>g(s[a],1,1,()=>{s[a]=null});let o=i[0].length>i[17]&&Ye(i);return{c(){for(let a=0;a<s.length;a+=1)s[a].c();e=F(),o&&o.c(),t=U()},l(a){for(let c=0;c<s.length;c+=1)s[c].l(a);e=G(a),o&&o.l(a),t=U()},m(a,c){for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(a,c);A(a,e,c),o&&o.m(a,c),A(a,t,c),l=!0},p(a,c){if(c[0]&1179649|c[1]&8){n=pe(a[0].slice(0,a[17]));let d;for(d=0;d<n.length;d+=1){const T=Je(a,n,d);s[d]?(s[d].p(T,c),b(s[d],1)):(s[d]=Xe(T),s[d].c(),b(s[d],1),s[d].m(e.parentNode,e))}for(J(),d=n.length;d<s.length;d+=1)r(d);Q()}a[0].length>a[17]?o?o.p(a,c):(o=Ye(a),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null)},i(a){if(!l){for(let c=0;c<n.length;c+=1)b(s[c]);l=!0}},o(a){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)g(s[c]);l=!1},d(a){a&&(p(e),p(t)),sl(s,a),o&&o.d(a)}}}function wl(i){let e=i[21](i[0].length)+"",t;return{c(){t=se(e)},l(l){t=ae(l,e)},m(l,n){A(l,t,n)},p(l,n){n[0]&2097153&&e!==(e=l[21](l[0].length)+"")&&be(t,e)},d(l){l&&p(t)}}}function yl(i){let e=i[66]+"",t;return{c(){t=se(e)},l(l){t=ae(l,e)},m(l,n){A(l,t,n)},p(l,n){n[0]&131073&&e!==(e=l[66]+"")&&be(t,e)},d(l){l&&p(t)}}}function Xe(i){let e,t;function l(){return i[50](i[66])}return e=new Hl({props:{removeButtonLabel:i[20],$$slots:{default:[yl]},$$scope:{ctx:i}}}),e.$on("remove",l),{c(){q(e.$$.fragment)},l(n){v(e.$$.fragment,n)},m(n,s){N(e,n,s),t=!0},p(n,s){i=n;const r={};s[0]&1048576&&(r.removeButtonLabel=i[20]),s[0]&131073|s[1]&8388608&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Ye(i){let e,t,l=i[0].slice(i[17]).length+"",n;return{c(){e=ne("p"),t=se("+"),n=se(l)},l(s){e=ie(s,"P",{});var r=me(e);t=ae(r,"+"),n=ae(r,l),r.forEach(p)},m(s,r){A(s,e,r),W(e,t),W(e,n)},p(s,r){r[0]&131073&&l!==(l=s[0].slice(s[17]).length+"")&&be(n,l)},d(s){s&&p(e)}}}function Ze(i){let e,t;return e=new rl({props:{"aria-label":i[19],tabindex:-1,variant:"ghost",size:"xs",disabled:i[7],$$slots:{default:[$l]},$$scope:{ctx:i}}}),e.$on("click",i[36]),{c(){q(e.$$.fragment)},l(l){v(e.$$.fragment,l)},m(l,n){N(e,l,n),t=!0},p(l,n){const s={};n[0]&524288&&(s["aria-label"]=l[19]),n[0]&128&&(s.disabled=l[7]),n[1]&8388608&&(s.$$scope={dirty:n,ctx:l}),e.$set(s)},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function $l(i){let e,t;return e=new Ne({props:{name:"close"}}),{c(){q(e.$$.fragment)},l(l){v(e.$$.fragment,l)},m(l,n){N(e,l,n),t=!0},p:il,i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function xl(i){let e,t;return e=new Ne({props:{name:i[26]?"chevron-up":"chevron-down"}}),{c(){q(e.$$.fragment)},l(l){v(e.$$.fragment,l)},m(l,n){N(e,l,n),t=!0},p(l,n){const s={};n[0]&67108864&&(s.name=l[26]?"chevron-up":"chevron-down"),e.$set(s)},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function we(i){let e,t;const l=i[49].action,n=Oe(l,i,i[54],Ue);return{c(){e=ne("div"),n&&n.c(),this.h()},l(s){e=ie(s,"DIV",{class:!0});var r=me(e);n&&n.l(r),r.forEach(p),this.h()},h(){ke(e,"class","ml-1 flex h-full items-center border-l-2 border-subtle p-1")},m(s,r){A(s,e,r),n&&n.m(e,null),t=!0},p(s,r){n&&n.p&&(!t||r[1]&8388608)&&Ee(n,l,s,s[54],t?ve(l,s[54],r,Xl):qe(s[54]),Ue)},i(s){t||(b(n,s),t=!0)},o(s){g(n,s),t=!1},d(s){s&&p(e),n&&n.d(s)}}}function ye(i){let e,t,l,n,s,r;return e=new Le({props:{disabled:i[0].length===i[9].length,label:i[18]}}),e.$on("click",i[35]),l=new Le({props:{disabled:i[0].length===0,label:i[19]}}),l.$on("click",i[36]),s=new Kl({}),{c(){q(e.$$.fragment),t=F(),q(l.$$.fragment),n=F(),q(s.$$.fragment)},l(o){v(e.$$.fragment,o),t=G(o),v(l.$$.fragment,o),n=G(o),v(s.$$.fragment,o)},m(o,a){N(e,o,a),A(o,t,a),N(l,o,a),A(o,n,a),N(s,o,a),r=!0},p(o,a){const c={};a[0]&513&&(c.disabled=o[0].length===o[9].length),a[0]&262144&&(c.label=o[18]),e.$set(c);const d={};a[0]&1&&(d.disabled=o[0].length===0),a[0]&524288&&(d.label=o[19]),l.$set(d)},i(o){r||(b(e.$$.fragment,o),b(l.$$.fragment,o),b(s.$$.fragment,o),r=!0)},o(o){g(e.$$.fragment,o),g(l.$$.fragment,o),g(s.$$.fragment,o),r=!1},d(o){o&&(p(t),p(n)),V(e,o),V(l,o),V(s,o)}}}function $e(i){let e,t;return e=new Le({props:{disabled:!0,label:i[6]}}),{c(){q(e.$$.fragment)},l(l){v(e.$$.fragment,l)},m(l,n){N(e,l,n),t=!0},p(l,n){const s={};n[0]&64&&(s.label=l[6]),e.$set(s)},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function xe(i){let e,t;function l(){return i[52](i[63])}return e=new Le({props:{multiselect:i[4],selected:i[40](i[63]),label:i[32](i[63])}}),e.$on("click",l),{c(){q(e.$$.fragment)},l(n){v(e.$$.fragment,n)},m(n,s){N(e,n,s),t=!0},p(n,s){i=n;const r={};s[0]&16&&(r.multiselect=i[4]),s[0]&33554432&&(r.selected=i[40](i[63])),s[0]&33554432&&(r.label=i[32](i[63])),e.$set(r)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function el(i){let e,t,l=pe(i[25]),n=[];for(let o=0;o<l.length;o+=1)n[o]=xe(Ge(i,l,o));const s=o=>g(n[o],1,1,()=>{n[o]=null});let r=null;return l.length||(r=$e(i)),{c(){for(let o=0;o<n.length;o+=1)n[o].c();e=U(),r&&r.c()},l(o){for(let a=0;a<n.length;a+=1)n[a].l(o);e=U(),r&&r.l(o)},m(o,a){for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(o,a);A(o,e,a),r&&r.m(o,a),t=!0},p(o,a){if(a[0]&33554512|a[1]&518){l=pe(o[25]);let c;for(c=0;c<l.length;c+=1){const d=Ge(o,l,c);n[c]?(n[c].p(d,a),b(n[c],1)):(n[c]=xe(d),n[c].c(),b(n[c],1),n[c].m(e.parentNode,e))}for(J(),c=l.length;c<n.length;c+=1)s(c);Q(),!l.length&&r?r.p(o,a):l.length?r&&(J(),g(r,1,1,()=>{r=null}),Q()):(r=$e(o),r.c(),b(r,1),r.m(e.parentNode,e))}},i(o){if(!t){for(let a=0;a<l.length;a+=1)b(n[a]);t=!0}},o(o){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)g(n[a]);t=!1},d(o){o&&p(e),sl(n,o),r&&r.d(o)}}}function et(i){let e=i[4]&&i[31](i[0]),t,l=i[0],n,s,r=e&&ye(i),o=el(i);return{c(){r&&r.c(),t=F(),o.c(),n=U()},l(a){r&&r.l(a),t=G(a),o.l(a),n=U()},m(a,c){r&&r.m(a,c),A(a,t,c),o.m(a,c),A(a,n,c),s=!0},p(a,c){c[0]&17&&(e=a[4]&&a[31](a[0])),e?r?(r.p(a,c),c[0]&17&&b(r,1)):(r=ye(a),r.c(),b(r,1),r.m(t.parentNode,t)):r&&(J(),g(r,1,1,()=>{r=null}),Q()),c[0]&1&&ze(l,l=a[0])?(J(),g(o,1,1,il),Q(),o=el(a),o.c(),b(o,1),o.m(n.parentNode,n)):o.p(a,c)},i(a){s||(b(r),b(o),s=!0)},o(a){g(r),g(o),s=!1},d(a){a&&(p(t),p(n)),r&&r.d(a),o.d(a)}}}function ll(i){let e,t;return{c(){e=ne("span"),t=se(i[14]),this.h()},l(l){e=ie(l,"SPAN",{class:!0});var n=me(e);t=ae(n,i[14]),n.forEach(p),this.h()},h(){ke(e,"class","error svelte-1k78e6h")},m(l,n){A(l,e,n),W(e,t)},p(l,n){n[0]&16384&&be(t,l[14])},d(l){l&&p(e)}}}function lt(i){let e,t,l,n,s,r=i[4]&&i[31](i[0])&&i[0].length>0,o,a,c,d,T,I,y=i[4]&&i[31](i[0])&&i[0].length>0,D,_,$,w,R,x,H,X,C,ee,fe;e=new Dl({props:{class:"pb-1",hidden:i[8],required:i[12],label:i[3],for:i[2]}});let h=i[13]&&Qe(i),k=r&&We(i),Y=[{id:i[2]},{placeholder:i[10]},{required:i[12]},{readOnly:i[11]},{disabled:i[7]},{type:"text"},{value:i[22]},{class:c=He("combobox-input",i[1])},{role:"combobox"},{autocomplete:"off"},{autocapitalize:"off"},{spellcheck:"false"},{"data-lpignore":"true"},{"aria-controls":d=i[2]+"-listbox"},{"aria-expanded":i[26]},{"aria-required":i[12]},{"aria-autocomplete":"list"},{"data-testid":T=i[41]["data-testid"]??i[2]},i[42]],K={};for(let u=0;u<Y.length;u+=1)K=Ie(K,Y[u]);let L=y&&Ze(i);_=new rl({props:{"aria-label":i[5],tabindex:-1,"aria-controls":i[2]+"-listbox","aria-expanded":i[26],variant:"ghost",size:"xs",disabled:i[7],$$slots:{default:[xl]},$$scope:{ctx:i}}}),_.$on("click",i[28]);let S=i[43].action&&we(i);function _e(u){i[53](u)}let re={keepOpen:i[4],id:i[2]+"-listbox",role:"listbox",class:"w-full",$$slots:{default:[et]},$$scope:{ctx:i}};i[24]!==void 0&&(re.menuElement=i[24]),R=new Tl({props:re}),nl.push(()=>ql(R,"menuElement",_e));let z=i[14]&&!i[15]&&ll(i);return{c(){q(e.$$.fragment),t=F(),l=ne("div"),h&&h.c(),n=F(),s=ne("div"),k&&k.c(),o=F(),a=ne("input"),I=F(),L&&L.c(),D=F(),q(_.$$.fragment),$=F(),S&&S.c(),w=F(),q(R.$$.fragment),H=F(),z&&z.c(),X=U(),this.h()},l(u){v(e.$$.fragment,u),t=G(u),l=ie(u,"DIV",{class:!0});var m=me(l);h&&h.l(m),n=G(m),s=ie(m,"DIV",{class:!0});var B=me(s);k&&k.l(B),o=G(B),a=ie(B,"INPUT",{id:!0,placeholder:!0,type:!0,class:!0,role:!0,autocomplete:!0,autocapitalize:!0,spellcheck:!0,"data-lpignore":!0,"aria-controls":!0,"aria-expanded":!0,"aria-required":!0,"aria-autocomplete":!0,"data-testid":!0}),B.forEach(p),I=G(m),L&&L.l(m),D=G(m),v(_.$$.fragment,m),$=G(m),S&&S.l(m),m.forEach(p),w=G(u),v(R.$$.fragment,u),H=G(u),z&&z.l(u),X=U(),this.h()},h(){Re(a,K),P(a,"disabled",i[7]),P(a,"svelte-1k78e6h",!0),ke(s,"class","input-wrapper svelte-1k78e6h"),P(s,"gap-1",i[4]),P(s,"py-1",i[4]&&i[16]),ke(l,"class","combobox-wrapper svelte-1k78e6h"),P(l,"disabled",i[7]),P(l,"invalid",!i[15])},m(u,m){N(e,u,m),A(u,t,m),A(u,l,m),h&&h.m(l,null),W(l,n),W(l,s),k&&k.m(s,null),W(s,o),W(s,a),"value"in K&&(a.value=K.value),a.autofocus&&a.focus(),i[51](a),W(l,I),L&&L.m(l,null),W(l,D),N(_,l,null),W(l,$),S&&S.m(l,null),A(u,w,m),N(R,u,m),A(u,H,m),z&&z.m(u,m),A(u,X,m),C=!0,ee||(fe=[ge(a,"focus",he(i[29])),ge(a,"input",he(i[38])),ge(a,"keydown",he(i[37])),ge(a,"click",he(i[39]))],ee=!0)},p(u,m){const B={};m[0]&256&&(B.hidden=u[8]),m[0]&4096&&(B.required=u[12]),m[0]&8&&(B.label=u[3]),m[0]&4&&(B.for=u[2]),e.$set(B),u[13]?h?(h.p(u,m),m[0]&8192&&b(h,1)):(h=Qe(u),h.c(),b(h,1),h.m(l,n)):h&&(J(),g(h,1,1,()=>{h=null}),Q()),m[0]&17&&(r=u[4]&&u[31](u[0])&&u[0].length>0),r?k?(k.p(u,m),m[0]&17&&b(k,1)):(k=We(u),k.c(),b(k,1),k.m(s,o)):k&&(J(),g(k,1,1,()=>{k=null}),Q()),Re(a,K=vl(Y,[(!C||m[0]&4)&&{id:u[2]},(!C||m[0]&1024)&&{placeholder:u[10]},(!C||m[0]&4096)&&{required:u[12]},(!C||m[0]&2048)&&{readOnly:u[11]},(!C||m[0]&128)&&{disabled:u[7]},{type:"text"},(!C||m[0]&4194304&&a.value!==u[22])&&{value:u[22]},(!C||m[0]&2&&c!==(c=He("combobox-input",u[1])))&&{class:c},{role:"combobox"},{autocomplete:"off"},{autocapitalize:"off"},{spellcheck:"false"},{"data-lpignore":"true"},(!C||m[0]&4&&d!==(d=u[2]+"-listbox"))&&{"aria-controls":d},(!C||m[0]&67108864)&&{"aria-expanded":u[26]},(!C||m[0]&4096)&&{"aria-required":u[12]},{"aria-autocomplete":"list"},(!C||m[0]&4|m[1]&1024&&T!==(T=u[41]["data-testid"]??u[2]))&&{"data-testid":T},m[1]&2048&&u[42]])),"value"in K&&(a.value=K.value),P(a,"disabled",u[7]),P(a,"svelte-1k78e6h",!0),(!C||m[0]&16)&&P(s,"gap-1",u[4]),(!C||m[0]&65552)&&P(s,"py-1",u[4]&&u[16]),m[0]&17&&(y=u[4]&&u[31](u[0])&&u[0].length>0),y?L?(L.p(u,m),m[0]&17&&b(L,1)):(L=Ze(u),L.c(),b(L,1),L.m(l,D)):L&&(J(),g(L,1,1,()=>{L=null}),Q());const O={};m[0]&32&&(O["aria-label"]=u[5]),m[0]&4&&(O["aria-controls"]=u[2]+"-listbox"),m[0]&67108864&&(O["aria-expanded"]=u[26]),m[0]&128&&(O.disabled=u[7]),m[0]&67108864|m[1]&8388608&&(O.$$scope={dirty:m,ctx:u}),_.$set(O),u[43].action?S?(S.p(u,m),m[1]&4096&&b(S,1)):(S=we(u),S.c(),b(S,1),S.m(l,null)):S&&(J(),g(S,1,1,()=>{S=null}),Q()),(!C||m[0]&128)&&P(l,"disabled",u[7]),(!C||m[0]&32768)&&P(l,"invalid",!u[15]);const M={};m[0]&16&&(M.keepOpen=u[4]),m[0]&4&&(M.id=u[2]+"-listbox"),m[0]&34341457|m[1]&8388608&&(M.$$scope={dirty:m,ctx:u}),!x&&m[0]&16777216&&(x=!0,M.menuElement=u[24],Ol(()=>x=!1)),R.$set(M),u[14]&&!u[15]?z?z.p(u,m):(z=ll(u),z.c(),z.m(X.parentNode,X)):z&&(z.d(1),z=null)},i(u){C||(b(e.$$.fragment,u),b(h),b(k),b(L),b(_.$$.fragment,u),b(S),b(R.$$.fragment,u),C=!0)},o(u){g(e.$$.fragment,u),g(h),g(k),g(L),g(_.$$.fragment,u),g(S),g(R.$$.fragment,u),C=!1},d(u){u&&(p(t),p(l),p(w),p(H),p(X)),V(e,u),h&&h.d(),k&&k.d(),i[51](null),L&&L.d(),V(_),S&&S.d(),V(R,u),z&&z.d(u),ee=!1,El(fe)}}}function tt(i){let e,t;return e=new Ml({props:{open:i[27],$$slots:{default:[lt]},$$scope:{ctx:i}}}),e.$on("close",i[30]),{c(){q(e.$$.fragment)},l(l){v(e.$$.fragment,l)},m(l,n){N(e,l,n),t=!0},p(l,n){const s={};n[0]&134217727|n[1]&8395776&&(s.$$scope={dirty:n,ctx:l}),e.$set(s)},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function nt(i,e,t){let l;const n=["class","id","label","multiselect","value","toggleLabel","noResultsText","disabled","labelHidden","options","placeholder","readonly","required","leadingIcon","optionValueKey","optionLabelKey","minSize","maxSize","error","valid","displayChips","chipLimit","selectAllLabel","deselectAllLabel","removeChipLabel","numberOfItemsSelectedLabel"];let s=Te(e,n),r,{$$slots:o={},$$scope:a}=e;const c=Il(o),d=tl();let{class:T=""}=e,{id:I}=e,{label:y}=e,{multiselect:D=!1}=e,{value:_=D?[]:void 0}=e,{toggleLabel:$}=e,{noResultsText:w}=e,{disabled:R=!1}=e,{labelHidden:x=!1}=e,{options:H}=e,{placeholder:X=null}=e,{readonly:C=!1}=e,{required:ee=!1}=e,{leadingIcon:fe=null}=e,{optionValueKey:h=null}=e,{optionLabelKey:k=h}=e,{minSize:Y=0}=e,{maxSize:K=120}=e,{error:L=""}=e,{valid:S=!0}=e,{displayChips:_e=!0}=e,{chipLimit:re=5}=e,{selectAllLabel:z="Select All"}=e,{deselectAllLabel:u="Deselect All"}=e,{removeChipLabel:m="Remove Option"}=e,{numberOfItemsSelectedLabel:B=f=>`${f} option${f>1?"s":""} selected`}=e,O="",M,de,j;const oe=Nl(!1);zl(i,oe,f=>t(26,r=f));const ol=()=>{r?Ve():ue()},ue=()=>{Ae(oe,r=!0,r),j.focus(),j.select()},Ve=()=>{r&&(Ae(oe,r=!1,r),d("close",{selectedOption:M}),Se())},ul=()=>{d("close",{selectedOption:M}),Se()},Se=()=>{t(22,O=Ce(M)),t(25,l=H)},Z=f=>Array.isArray(f),le=f=>typeof f=="string",te=f=>typeof f=="object",ce=f=>f===null||typeof f!="object"?!1:h!==null&&k!==null&&h in f&&k in f,Ce=f=>{if(!f)return Z(_)?"":_??"";if(le(f))return f;if(te(f)&&ce(f))return String(f[k])},cl=f=>{if(le(f)&&(Z(_)?_.includes(f)?t(0,_=_.filter(E=>E!==f)):t(0,_=[..._,f]):t(0,_=f)),te(f)&&ce(f)){const E=String(f[h]);Z(_)?_.includes(E)?t(0,_=_.filter(Cl=>Cl!==E)):t(0,_=[..._,E]):t(0,_=E)}},Ke=f=>{cl(f),d("change",{value:f}),D||Se()},Be=f=>{Z(_)&&t(0,_=_.filter(E=>E!==f))},ml=()=>{!D||!Z(_)||t(0,_=l.map(f=>{if(te(f)&&ce(f))return String(f[h]);if(le(f))return f}))},bl=()=>{t(0,_=[])},Me=()=>{const f=de.querySelector('li[role="option"]:not([aria-disabled="true"])');f&&requestAnimationFrame(()=>f.focus())},_l=f=>{switch(f.key){case"Escape":Ve();break;case"ArrowDown":ue(),Me();break;case"Enter":ue(),Me();break}},dl=f=>{t(22,O=f.currentTarget.value),d("filter",O),r||Ae(oe,r=!0,r),t(25,l=H.filter(E=>{if(le(E))return E.toLowerCase().includes(f.currentTarget.value.toLowerCase());if(te(E)&&ce(E))return String(E[k]).toLowerCase().includes(f.currentTarget.value.toLowerCase())}))},gl=()=>{r||ue()},hl=f=>{if(te(f)){const E=String(f[h]);return Z(_)?_.includes(E):_===E}else if(le(f))return Z(_)?_.includes(f):_===f;return!1},kl=f=>Be(f);function pl(f){nl[f?"unshift":"push"](()=>{j=f,t(23,j),t(22,O),t(46,Y),t(47,K),t(4,D),t(9,H),t(0,_),t(44,h),t(48,M)})}const Ll=f=>Ke(f);function Sl(f){de=f,t(24,de)}return i.$$set=f=>{t(41,e=Ie(Ie({},e),De(f))),t(42,s=Te(e,n)),"class"in f&&t(1,T=f.class),"id"in f&&t(2,I=f.id),"label"in f&&t(3,y=f.label),"multiselect"in f&&t(4,D=f.multiselect),"value"in f&&t(0,_=f.value),"toggleLabel"in f&&t(5,$=f.toggleLabel),"noResultsText"in f&&t(6,w=f.noResultsText),"disabled"in f&&t(7,R=f.disabled),"labelHidden"in f&&t(8,x=f.labelHidden),"options"in f&&t(9,H=f.options),"placeholder"in f&&t(10,X=f.placeholder),"readonly"in f&&t(11,C=f.readonly),"required"in f&&t(12,ee=f.required),"leadingIcon"in f&&t(13,fe=f.leadingIcon),"optionValueKey"in f&&t(44,h=f.optionValueKey),"optionLabelKey"in f&&t(45,k=f.optionLabelKey),"minSize"in f&&t(46,Y=f.minSize),"maxSize"in f&&t(47,K=f.maxSize),"error"in f&&t(14,L=f.error),"valid"in f&&t(15,S=f.valid),"displayChips"in f&&t(16,_e=f.displayChips),"chipLimit"in f&&t(17,re=f.chipLimit),"selectAllLabel"in f&&t(18,z=f.selectAllLabel),"deselectAllLabel"in f&&t(19,u=f.deselectAllLabel),"removeChipLabel"in f&&t(20,m=f.removeChipLabel),"numberOfItemsSelectedLabel"in f&&t(21,B=f.numberOfItemsSelectedLabel),"$$scope"in f&&t(54,a=f.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&512&&t(25,l=H),i.$$.dirty[0]&529|i.$$.dirty[1]&139264&&(D||(t(48,M=H.find(f=>{if(le(f))return f===_;if(te(f)&&ce(f))return f[h]===_})),t(22,O=Ce(M)))),i.$$.dirty[0]&12582912|i.$$.dirty[1]&98304&&j&&O&&(O.length<Y?t(23,j.size=Y,j):O.length>K?t(23,j.size=K,j):t(23,j.size=O.length,j))},e=De(e),[_,T,I,y,D,$,w,R,x,H,X,C,ee,fe,L,S,_e,re,z,u,m,B,O,j,de,l,r,oe,ol,ue,ul,Z,Ce,Ke,Be,ml,bl,_l,dl,gl,hl,e,s,c,h,k,Y,K,M,o,kl,pl,Ll,Sl,a]}class ht extends al{constructor(e){super(),fl(this,e,nt,tt,ze,{class:1,id:2,label:3,multiselect:4,value:0,toggleLabel:5,noResultsText:6,disabled:7,labelHidden:8,options:9,placeholder:10,readonly:11,required:12,leadingIcon:13,optionValueKey:44,optionLabelKey:45,minSize:46,maxSize:47,error:14,valid:15,displayChips:16,chipLimit:17,selectAllLabel:18,deselectAllLabel:19,removeChipLabel:20,numberOfItemsSelectedLabel:21},null,[-1,-1,-1])}}export{ht as C};

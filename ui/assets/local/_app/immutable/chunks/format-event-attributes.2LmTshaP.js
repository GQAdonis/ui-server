import{H as f}from"./scheduler._Ej0PSBZ.js";import{t as i}from"./translate.HrioCK44.js";import{f as p,r as b,t as h}from"./time-format.AuIOHlSp.js";import{c as l}from"./format-camel-case.vK8efAX-.js";import{s as m,a as y,p as c,b as w,c as A}from"./get-single-attribute-for-event.Rv2Hf6fA.js";const n=new Set(["header"]),D=new Set(["taskQueue","retryPolicy","parentWorkflowExecution","workflowExecution","meta"]),x=new Set(["maximumAttempts"]),N=(e,t)=>e===0?i("workflows.no-expiration"):t,S=(e,t)=>e?e-t:i("workflows.unlimited"),T=e=>e||i("workflows.unlimited"),O=(e,t)=>e==="maximumAttempts"&&!t?i("workflows.unlimited"):t,u=(e,t)=>{if(D.has(t)&&typeof e[t]=="object"){for(const[o,s]of Object.entries(e[t]))w(s)&&(x.has(o)?e[`${t}${l(o)}`]=O(o,s):e[`${t}${l(o)}`]=s);delete e[t]}},$=e=>{const t={};if(e.attributes)for(const[o,s]of Object.entries(e.attributes)){const r=m(o,s);!n.has(o)&&r&&(t[o]=s),u(t,o)}return t},L=e=>{const t={};return e.eventList.forEach(o=>{for(const[s,r]of Object.entries(o.attributes)){const a=m(s,r);!n.has(s)&&a&&(t[s]=r),u(t,s)}}),Object.keys(t).forEach(o=>{y(o,t[o])||delete t[o]}),t},P=e=>{const t={},o=Object.entries(e).sort(([s],[r])=>c.indexOf(s)-c.indexOf(r));for(const[s,r]of o){const a=A(s),d=s.toLowerCase().includes("time")?p(String(r),f(h),{relative:f(b)}):r;!n.has(s)&&a&&(t[s]=d),u(t,s)}return t};export{T as a,N as b,L as c,P as d,$ as e,S as f};

import{s as Ce,x as qe,i as B,f as k,c as Ne,a as De,u as Ee,g as Te,e as Le,h as K,j as O,k as J,m as U,v as re,r as Ke,S as Oe,ac as He,M as ge,b as M,t as se,d as I,l as ae,o as Be,n as v,T as ke,w as Ae,q as Ge}from"./scheduler.pPC3woXQ.js";import{S as Pe,i as Me,g as Qe,b as w,e as je,t as C,f as $e,c as V,a as R,m as z,d as F}from"./index.Z3Qqxacm.js";import{w as Je}from"./entry.6mxJxwSM.js";import{p as Ue}from"./stores.cW8AX6ex.js";import{A as We}from"./alert.j__UttVI.js";import{C as Xe}from"./combobox.7ssyeMPr.js";import{I as Ve}from"./input.T-q3Sv8I.js";import{_ as Ye}from"./preload-helper.0HuHagjb.js";import{u as ye}from"./dark-mode.YD2NgNRt.js";import{M as xe}from"./markdown.IWAhDOwN.js";import{M as et}from"./multi-select.r05ukiCV.js";import{T as tt,a as Re}from"./toggle-buttons.4_Ff5yMg.js";import{t as b}from"./translate.HrioCK44.js";const nt=l=>({}),ze=l=>({});function lt(l){let e;const t=l[3].fallback,n=De(t,l,l[2],ze);return{c(){n&&n.c()},l(a){n&&n.l(a)},m(a,s){n&&n.m(a,s),e=!0},p(a,s){n&&n.p&&(!e||s&4)&&Ee(n,t,a,a[2],e?Le(t,a[2],s,nt):Te(a[2]),ze)},i(a){e||(C(n,a),e=!0)},o(a){w(n,a),e=!1},d(a){n&&n.d(a)}}}function st(l){let e;const t=l[3].default,n=De(t,l,l[2],null);return{c(){n&&n.c()},l(a){n&&n.l(a)},m(a,s){n&&n.m(a,s),e=!0},p(a,s){n&&n.p&&(!e||s&4)&&Ee(n,t,a,a[2],e?Le(t,a[2],s,null):Te(a[2]),null)},i(a){e||(C(n,a),e=!0)},o(a){w(n,a),e=!1},d(a){n&&n.d(a)}}}function at(l){let e,t,n,a;const s=[st,lt],r=[];function _(c,f){var m,$,d;return c[0]||(d=($=(m=c[1].data)==null?void 0:m.settings)==null?void 0:$.runtimeEnvironment)!=null&&d.isCloud?0:1}return e=_(l),t=r[e]=s[e](l),{c(){t.c(),n=qe()},l(c){t.l(c),n=qe()},m(c,f){r[e].m(c,f),B(c,n,f),a=!0},p(c,[f]){let m=e;e=_(c),e===m?r[e].p(c,f):(Qe(),w(r[m],1,1,()=>{r[m]=null}),je(),t=r[e],t?t.p(c,f):(t=r[e]=s[e](c),t.c()),C(t,1),t.m(n.parentNode,n))},i(c){a||(C(t),a=!0)},o(c){w(t),a=!1},d(c){c&&k(n),r[e].d(c)}}}function ot(l,e,t){let n;Ne(l,Ue,_=>t(1,n=_));let{$$slots:a={},$$scope:s}=e,{isCloud:r=!1}=e;return l.$$set=_=>{"isCloud"in _&&t(0,r=_.isCloud),"$$scope"in _&&t(2,s=_.$$scope)},[r,n,s,a]}class rt extends Pe{constructor(e){super(),Me(this,e,ot,at,Ce,{isCloud:0})}}function it(l){let e;return{c(){e=K("div"),this.h()},l(t){e=O(t,"DIV",{class:!0}),J(e).forEach(k),this.h()},h(){U(e,"class","h-full min-h-80")},m(t,n){B(t,e,n),l[4](e)},p:re,i:re,o:re,d(t){t&&k(e),l[4](null)}}}function ut(l,e,t){let n;Ne(l,ye,f=>t(3,n=f));const a=Ke();let s,r,{content:_=""}=e;Oe(async()=>{t(2,s=(await Ye(()=>import("./index.RJsVUSS8.js").then($=>$.i),__vite__mapDeps([0,1,2]),import.meta.url)).default);const f=s.editor.create(r,{language:"markdown"}),m=s.editor.createModel(_,"markdown");m.onDidChangeContent(()=>{const $=m.getValue();a("change",{value:$})}),f.setModel(m)}),He(()=>{s==null||s.editor.getModels().forEach(f=>f.dispose())});function c(f){ge[f?"unshift":"push"](()=>{r=f,t(0,r)})}return l.$$set=f=>{"content"in f&&t(1,_=f.content)},l.$$.update=()=>{l.$$.dirty&12&&(n?s==null||s.editor.setTheme("vs-dark"):s==null||s.editor.setTheme("vs"))},[r,_,s,n,c]}class ct extends Pe{constructor(e){super(),Me(this,e,ut,it,Ce,{content:1})}}const ft=l=>({}),Fe=l=>({});function mt(l){let e,t,n=b("nexus.access-policy")+"",a,s,r,_=b("nexus.allowed-caller-namespaces-description")+"",c,f,m,$;return m=new et({props:{id:"caller-namespace-filter-menu",options:l[13],initialSelected:l[12],label:l[9].length?b("nexus.selected-namespaces",{count:l[9].length}):b("nexus.select-namespaces"),selectAllLabel:b("common.select-all"),clearAllLabel:b("common.clear-all-capitalized"),initialSelectedAll:!1,onChange:l[14]}}),{c(){e=K("div"),t=K("p"),a=se(n),s=M(),r=K("p"),c=se(_),f=M(),V(m.$$.fragment),this.h()},l(d){e=O(d,"DIV",{class:!0});var h=J(e);t=O(h,"P",{class:!0});var g=J(t);a=ae(g,n),g.forEach(k),s=I(h),r=O(h,"P",{class:!0});var H=J(r);c=ae(H,_),H.forEach(k),h.forEach(k),f=I(d),R(m.$$.fragment,d),this.h()},h(){U(t,"class","text-base text-primary"),U(r,"class","text-xs text-secondary"),U(e,"class","flex flex-col gap-0")},m(d,h){B(d,e,h),v(e,t),v(t,a),v(e,s),v(e,r),v(r,c),B(d,f,h),z(m,d,h),$=!0},p(d,h){const g={};h[0]&8192&&(g.options=d[13]),h[0]&4096&&(g.initialSelected=d[12]),h[0]&512&&(g.label=d[9].length?b("nexus.selected-namespaces",{count:d[9].length}):b("nexus.select-namespaces")),m.$set(g)},i(d){$||(C(m.$$.fragment,d),$=!0)},o(d){w(m.$$.fragment,d),$=!1},d(d){d&&(k(e),k(f)),F(m,d)}}}function dt(l){let e=b("common.description")+"",t;return{c(){t=se(e)},l(n){t=ae(n,e)},m(n,a){B(n,t,a)},p:re,d(n){n&&k(t)}}}function _t(l){let e=b("common.preview")+"",t;return{c(){t=se(e)},l(n){t=ae(n,e)},m(n,a){B(n,t,a)},p:re,d(n){n&&k(t)}}}function pt(l){let e,t,n,a;return e=new Re({props:{active:l[10]===!1,"data-testid":"description-editor",$$slots:{default:[dt]},$$scope:{ctx:l}}}),e.$on("click",l[24]),n=new Re({props:{active:l[10]===!0,"data-testid":"description-preview",$$slots:{default:[_t]},$$scope:{ctx:l}}}),n.$on("click",l[25]),{c(){V(e.$$.fragment),t=M(),V(n.$$.fragment)},l(s){R(e.$$.fragment,s),t=I(s),R(n.$$.fragment,s)},m(s,r){z(e,s,r),B(s,t,r),z(n,s,r),a=!0},p(s,r){const _={};r[0]&1024&&(_.active=s[10]===!1),r[0]&134217728&&(_.$$scope={dirty:r,ctx:s}),e.$set(_);const c={};r[0]&1024&&(c.active=s[10]===!0),r[0]&134217728&&(c.$$scope={dirty:r,ctx:s}),n.$set(c)},i(s){a||(C(e.$$.fragment,s),C(n.$$.fragment,s),a=!0)},o(s){w(e.$$.fragment,s),w(n.$$.fragment,s),a=!1},d(s){s&&k(t),F(e,s),F(n,s)}}}function gt(l){let e,t;return e=new ct({props:{content:l[6]}}),e.$on("change",l[26]),{c(){V(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,a){z(e,n,a),t=!0},p(n,a){const s={};a[0]&64&&(s.content=n[6]),e.$set(s)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function vt(l){let e,t;return e=new xe({props:{content:l[6]}}),{c(){V(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,a){z(e,n,a),t=!0},p(n,a){const s={};a[0]&64&&(s.content=n[6]),e.$set(s)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function bt(l){var n;let e=((n=l[1])==null?void 0:n.message)+"",t;return{c(){t=se(e)},l(a){t=ae(a,e)},m(a,s){B(a,t,s)},p(a,s){var r;s[0]&2&&e!==(e=((r=a[1])==null?void 0:r.message)+"")&&Ge(t,e)},d(a){a&&k(t)}}}function ht(l){var _e;let e,t,n,a,s,r,_=b("nexus.target")+"",c,f,m,$=b("nexus.target-description")+"",d,h,g,H,Y,T,y,W,L,p,S,x,q,D,E,ee,A,te="Do not include sensitive data.",ne,G,P,Q;function ie(o){l[21](o)}let ue={required:!0,disabled:l[2],error:!l[5]||!l[11](l[5]),hintText:l[4],label:b("nexus.endpoint-name"),id:"name",maxLength:255,placeholder:b("nexus.endpoint-name-placeholder")};l[5]!==void 0&&(ue.value=l[5]),t=new Ve({props:ue}),ge.push(()=>$e(t,"value",ie));function ve(o){l[22](o)}let ce={label:b("nexus.target-namespace"),toggleLabel:b("common.namespaces"),noResultsText:b("common.no-results"),valid:!!l[7],error:"Please select a target Namespace.",required:!0,id:"target-namespace",placeholder:b("nexus.select-namespace"),leadingIcon:"namespace-switcher",options:l[0],optionValueKey:"namespace",minSize:32};l[7]!==void 0&&(ce.value=l[7]),g=new Xe({props:ce}),ge.push(()=>$e(g,"value",ve));function be(o){l[23](o)}let fe={required:!0,error:!l[8],label:b("common.task-queue"),id:"task-queue",placeholder:b("nexus.task-queue-placeholder")};l[8]!==void 0&&(fe.value=l[8]),T=new Ve({props:fe}),ge.push(()=>$e(T,"value",be)),L=new rt({props:{isCloud:l[3],$$slots:{default:[mt]},$$scope:{ctx:l}}}),S=new tt({props:{$$slots:{default:[pt]},$$scope:{ctx:l}}});const me=[vt,gt],j=[];function de(o,i){return o[10]?0:1}D=de(l),E=j[D]=me[D](l);const u=l[20].footer,N=De(u,l,l[27],Fe);return P=new We({props:{title:(_e=l[1])==null?void 0:_e.statusText,intent:"error",hidden:!l[1],$$slots:{default:[bt]},$$scope:{ctx:l}}}),{c(){e=K("div"),V(t.$$.fragment),a=M(),s=K("div"),r=K("p"),c=se(_),f=M(),m=K("p"),d=se($),h=M(),V(g.$$.fragment),Y=M(),V(T.$$.fragment),W=M(),V(L.$$.fragment),p=M(),V(S.$$.fragment),x=M(),q=K("div"),E.c(),ee=M(),A=K("p"),A.textContent=te,ne=M(),N&&N.c(),G=M(),V(P.$$.fragment),this.h()},l(o){e=O(o,"DIV",{class:!0});var i=J(e);R(t.$$.fragment,i),a=I(i),s=O(i,"DIV",{class:!0});var Z=J(s);r=O(Z,"P",{class:!0});var le=J(r);c=ae(le,_),le.forEach(k),f=I(Z),m=O(Z,"P",{class:!0});var oe=J(m);d=ae(oe,$),oe.forEach(k),Z.forEach(k),h=I(i),R(g.$$.fragment,i),Y=I(i),R(T.$$.fragment,i),W=I(i),R(L.$$.fragment,i),p=I(i),R(S.$$.fragment,i),x=I(i),q=O(i,"DIV",{});var X=J(q);E.l(X),ee=I(X),A=O(X,"P",{class:!0,"data-svelte-h":!0}),Be(A)!=="svelte-11lgqx1"&&(A.textContent=te),X.forEach(k),ne=I(i),N&&N.l(i),i.forEach(k),G=I(o),R(P.$$.fragment,o),this.h()},h(){U(r,"class","text-base text-primary"),U(m,"class","text-xs text-secondary"),U(s,"class","flex flex-col gap-0"),U(A,"class","my-2 text-xs text-secondary"),U(e,"class","flex w-full flex-col gap-4 xl:w-1/2")},m(o,i){B(o,e,i),z(t,e,null),v(e,a),v(e,s),v(s,r),v(r,c),v(s,f),v(s,m),v(m,d),v(e,h),z(g,e,null),v(e,Y),z(T,e,null),v(e,W),z(L,e,null),v(e,p),z(S,e,null),v(e,x),v(e,q),j[D].m(q,null),v(q,ee),v(q,A),v(e,ne),N&&N.m(e,null),B(o,G,i),z(P,o,i),Q=!0},p(o,i){var Se;const Z={};i[0]&4&&(Z.disabled=o[2]),i[0]&2080&&(Z.error=!o[5]||!o[11](o[5])),i[0]&16&&(Z.hintText=o[4]),!n&&i[0]&32&&(n=!0,Z.value=o[5],ke(()=>n=!1)),t.$set(Z);const le={};i[0]&128&&(le.valid=!!o[7]),i[0]&1&&(le.options=o[0]),!H&&i[0]&128&&(H=!0,le.value=o[7],ke(()=>H=!1)),g.$set(le);const oe={};i[0]&256&&(oe.error=!o[8]),!y&&i[0]&256&&(y=!0,oe.value=o[8],ke(()=>y=!1)),T.$set(oe);const X={};i[0]&8&&(X.isCloud=o[3]),i[0]&134230528&&(X.$$scope={dirty:i,ctx:o}),L.$set(X);const Ie={};i[0]&134218752&&(Ie.$$scope={dirty:i,ctx:o}),S.$set(Ie);let he=D;D=de(o),D===he?j[D].p(o,i):(Qe(),w(j[he],1,1,()=>{j[he]=null}),je(),E=j[D],E?E.p(o,i):(E=j[D]=me[D](o),E.c()),C(E,1),E.m(q,ee)),N&&N.p&&(!Q||i[0]&134217728)&&Ee(N,u,o,o[27],Q?Le(u,o[27],i,ft):Te(o[27]),Fe);const pe={};i[0]&2&&(pe.title=(Se=o[1])==null?void 0:Se.statusText),i[0]&2&&(pe.hidden=!o[1]),i[0]&134217730&&(pe.$$scope={dirty:i,ctx:o}),P.$set(pe)},i(o){Q||(C(t.$$.fragment,o),C(g.$$.fragment,o),C(T.$$.fragment,o),C(L.$$.fragment,o),C(S.$$.fragment,o),C(E),C(N,o),C(P.$$.fragment,o),Q=!0)},o(o){w(t.$$.fragment,o),w(g.$$.fragment,o),w(T.$$.fragment,o),w(L.$$.fragment,o),w(S.$$.fragment,o),w(E),w(N,o),w(P.$$.fragment,o),Q=!1},d(o){o&&(k(e),k(G)),F(t),F(g),F(T),F(L),F(S),j[D].d(),N&&N.d(o),F(P,o)}}}const Ze={spec:{name:"",descriptionString:"",target:{worker:{namespace:"",taskQueue:""}},allowedCallerNamespaces:[]}},we=Je(Ze);function kt(l,e,t){let n,a,s,r,_=re;Ne(l,we,u=>t(37,r=u)),l.$$.on_destroy.push(()=>_());let{$$slots:c={},$$scope:f}=e;var m,$,d,h,g,H,Y,T,y,W,L;let{endpoint:p=void 0}=e,{targetNamespaceList:S=[]}=e,{callerNamespaceList:x=[]}=e,{error:q=void 0}=e,{nameDisabled:D=!1}=e,{isCloud:E=!0}=e,{nameHintText:ee=b("nexus.endpoint-name-hint")}=e,{nameRegexPattern:A=/^[A-Za-z_][A-Za-z0-9_]*$/}=e,te=((m=p==null?void 0:p.spec)===null||m===void 0?void 0:m.name)||"",ne=(($=p==null?void 0:p.spec)===null||$===void 0?void 0:$.descriptionString)||"",G=((g=(h=(d=p==null?void 0:p.spec)===null||d===void 0?void 0:d.target)===null||h===void 0?void 0:h.worker)===null||g===void 0?void 0:g.namespace)||"",P=((T=(Y=(H=p==null?void 0:p.spec)===null||H===void 0?void 0:H.target)===null||Y===void 0?void 0:Y.worker)===null||T===void 0?void 0:T.taskQueue)||"",Q=((y=p==null?void 0:p.spec)===null||y===void 0?void 0:y.allowedCallerNamespaces)||[],ie=!1;const ue=(u,N,_e,o,i)=>{Ae(we,r={spec:{name:u,descriptionString:N,target:{worker:{namespace:_e,taskQueue:o}},allowedCallerNamespaces:i}},r)},ve=u=>{t(9,Q=u.map(N=>N.value))};He(()=>{Ae(we,r=Ze,r)});function ce(u){te=u,t(5,te)}function be(u){G=u,t(7,G)}function fe(u){P=u,t(8,P)}const me=()=>t(10,ie=!1),j=()=>t(10,ie=!0),de=u=>t(6,ne=u.detail.value);return l.$$set=u=>{"endpoint"in u&&t(15,p=u.endpoint),"targetNamespaceList"in u&&t(0,S=u.targetNamespaceList),"callerNamespaceList"in u&&t(16,x=u.callerNamespaceList),"error"in u&&t(1,q=u.error),"nameDisabled"in u&&t(2,D=u.nameDisabled),"isCloud"in u&&t(3,E=u.isCloud),"nameHintText"in u&&t(4,ee=u.nameHintText),"nameRegexPattern"in u&&t(17,A=u.nameRegexPattern),"$$scope"in u&&t(27,f=u.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&992&&ue(te,ne,G,P,Q),l.$$.dirty[0]&65536&&t(13,n=x.map(u=>({value:u.namespace,label:u.namespace}))),l.$$.dirty[0]&819200&&t(12,a=(t(19,L=t(18,W=p==null?void 0:p.spec)===null||W===void 0?void 0:W.allowedCallerNamespaces)===null||L===void 0?void 0:L.map(u=>({value:u,label:u})))||[]),l.$$.dirty[0]&131072&&t(11,s=u=>A.test(u))},[S,q,D,E,ee,te,ne,G,P,Q,ie,s,a,n,ve,p,x,A,W,L,c,ce,be,fe,me,j,de,f]}class At extends Pe{constructor(e){super(),Me(this,e,kt,ht,Ce,{endpoint:15,targetNamespaceList:0,callerNamespaceList:16,error:1,nameDisabled:2,isCloud:3,nameHintText:4,nameRegexPattern:17},null,[-1,-1])}}export{At as N,we as e};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./index.RJsVUSS8.js","./preload-helper.0HuHagjb.js","../assets/index.baDiGdeK.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}

import{s as me,h as U,b as q,t as Y,j as O,k as Q,f as h,d as F,l as G,m as j,i as W,n as M,q as ne,c as J,v as fe,L as oe,T as le,M as ft,w as re,x as ce,y as at,a1 as Pt,a7 as it,S as Rt,ac as ut,a as ct,u as mt,g as pt,e as _t}from"../chunks/scheduler._Ej0PSBZ.js";import{S as pe,i as _e,c as T,a as P,m as R,t as p,b as w,d as S,f as se,g as x,e as ee,h as dt}from"../chunks/index.0e5JjaQh.js";import{p as Re}from"../chunks/stores.vLYHLPBz.js";import{v as St}from"../chunks/data-encoder-settings.8y44nlbx.js";import{L as Se}from"../chunks/link.tOUBDnwx.js";import{t as A}from"../chunks/translate.HrioCK44.js";import{w as gt,j as Wt,k as yt,l as Be,b as Vt}from"../chunks/workflows.kaxwHFAn.js";import{e as Te,s as He,b as ue,u as be,v as ve,w as Ee,c as Ie,x as Ce,y as De}from"../chunks/route-for.Yvhsb0z5.js";import{B as Mt}from"../chunks/button.bx0PRNnQ.js";import{L as Nt}from"../chunks/loading.GMrz8F9k.js";import{a as wt}from"../chunks/index.pvhOzPEG.js";import{e as Pe}from"../chunks/each.f4NHSvTf.js";import{w as $t,g as qe}from"../chunks/entry.f8mfZZkD.js";import{w as Bt,a as Ht,b as qt,C as Ft,T as Lt}from"../chunks/workflow-terminate-enabled.lw5Zf6pw.js";import{C as Ut}from"../chunks/checkbox.5GIjYM87.js";import{I as ht}from"../chunks/input.SiYZx5cc.js";import{M as kt}from"../chunks/modal.6-iFC5t7.js";import{R as Ot,a as Qt}from"../chunks/radio-input.b-bopnU9.js";import{R as Fe}from"../chunks/workflow-actions.-K4W_iAA.js";import{r as bt,f as Ae,b as Le,p as jt,c as Ue,t as Oe}from"../chunks/events.5ahdUIpe.js";import{p as zt}from"../chunks/persist-store.jBMCd8kq.js";import{i as vt}from"../chunks/is-network-error.IFy5ryNl.js";import{C as Jt}from"../chunks/code-block.2E86XM38.js";import{t as Yt}from"../chunks/toaster.Mgdh_d74.js";import{B as Gt}from"../chunks/button.19Zbaw1A.js";import{I as Kt}from"../chunks/icon.dbfEaerJ.js";import{c as Me}from"../chunks/menu.7sE9tIdw.js";import{M as Et}from"../chunks/menu-divider.WPR4yxx7.js";import{S as It}from"../chunks/split-button.JENdHRKd.js";import{T as Ct}from"../chunks/tooltip.quT3MrVB.js";import{c as Xt}from"../chunks/core-user.tiRbtddj.js";import{r as ke,w as he,i as Zt}from"../chunks/workflow-run.GWhmLivy.js";import{w as ye}from"../chunks/workflow-create-disabled.GoKFaz0i.js";import{W as xt}from"../chunks/workflow-status.Qd5oj75C.js";import{C as eo}from"../chunks/compatibility-badge.jmCQhalh.js";import{k as to,j as oo}from"../chunks/pollers-service.0yHKMv61.js";import{A as Dt}from"../chunks/alert.oCqvRV3h.js";import{B as We}from"../chunks/badge.7Gk8xMNm.js";import{C as ro}from"../chunks/index.inrpcjwV.js";import{T as no,a as lo,b as we}from"../chunks/tab.QA5t2VUS.js";import{n as so}from"../chunks/namespaces.S9hIiXbK.js";import{g as fo}from"../chunks/get-workflow-relationships.1yCPXFo_.js";import{h as ao}from"../chunks/has.BboW8cQC.js";import{e as io,d as uo}from"../chunks/decode-payload.MvJXwhPo.js";import{a as co}from"../chunks/auth-user.UmN-Adwa.js";import{r as mo}from"../chunks/is-http.jXq-vtaf.js";import{c as po}from"../chunks/copy-to-clipboard.YMUmtVHS.js";import{s as Ve}from"../chunks/parse-with-big-int.jPY5aC0s.js";function _o(n){let e=A("workflows.back-to-workflows")+"",o;return{c(){o=Y(e)},l(t){o=G(t,e)},m(t,r){W(t,o,r)},p:fe,d(t){t&&h(o)}}}function go(n){var g,I;let e,o,t,r,l,s,a=(((g=n[0])==null?void 0:g.statusCode)??"500")+"",f,i,c,d,E,$,m=(((I=n[0])==null?void 0:I.statusText)??"")+"",u,_;return t=new Se({props:{href:`${Te({namespace:n[2]})}?${n[3]}`,"data-testid":"back-to-workflows",icon:"chevron-left",$$slots:{default:[_o]},$$scope:{ctx:n}}}),{c(){e=U("header"),o=U("div"),T(t.$$.fragment),r=q(),l=U("div"),s=U("h1"),f=Y(a),i=q(),c=U("p"),d=Y(n[1]),E=q(),$=U("p"),u=Y(m),this.h()},l(v){e=O(v,"HEADER",{class:!0});var D=Q(e);o=O(D,"DIV",{class:!0});var V=Q(o);P(t.$$.fragment,V),V.forEach(h),D.forEach(h),r=F(v),l=O(v,"DIV",{class:!0});var k=Q(l);s=O(k,"H1",{class:!0});var C=Q(s);f=G(C,a),C.forEach(h),i=F(k),c=O(k,"P",{class:!0});var B=Q(c);d=G(B,n[1]),B.forEach(h),E=F(k),$=O(k,"P",{class:!0});var L=Q($);u=G(L,m),L.forEach(h),k.forEach(h),this.h()},h(){j(o,"class","mb-4 block"),j(e,"class","mb-4 flex flex-col gap-1"),j(s,"class","leading-0 text-[12rem] font-semibold"),j(c,"class","-mt-12 text-lg"),j($,"class","text-2xl font-bold text-red-700"),j(l,"class","text-center align-middle")},m(v,D){W(v,e,D),M(e,o),R(t,o,null),W(v,r,D),W(v,l,D),M(l,s),M(s,f),M(l,i),M(l,c),M(c,d),M(l,E),M(l,$),M($,u),_=!0},p(v,[D]){var k,C;const V={};D&12&&(V.href=`${Te({namespace:v[2]})}?${v[3]}`),D&32&&(V.$$scope={dirty:D,ctx:v}),t.$set(V),(!_||D&1)&&a!==(a=(((k=v[0])==null?void 0:k.statusCode)??"500")+"")&&ne(f,a),(!_||D&2)&&ne(d,v[1]),(!_||D&1)&&m!==(m=(((C=v[0])==null?void 0:C.statusText)??"")+"")&&ne(u,m)},i(v){_||(p(t.$$.fragment,v),_=!0)},o(v){w(t.$$.fragment,v),_=!1},d(v){v&&(h(e),h(r),h(l)),S(t)}}}function wo(n,e,o){let t,r,l,s;J(n,Re,f=>o(4,l=f)),J(n,gt,f=>o(3,s=f));let{error:a}=e;return n.$$set=f=>{"error"in f&&o(0,a=f.error)},n.$$.update=()=>{n.$$.dirty&16&&o(2,{namespace:t}=l.params,t),n.$$.dirty&1&&o(1,r=a.statusCode===404?A("workflows.workflow-404-title"):A("workflows.workflow-error-title"))},[a,r,t,s,l]}class $o extends pe{constructor(e){super(),_e(this,e,wo,go,me,{error:0})}}const At=zt("resetWorkflows",{});function Qe(n,e,o){const t=n.slice();return t[18]=e[o],t}function ho(n){let e,o=A("workflows.reset-modal-title")+"",t;return{c(){e=U("h3"),t=Y(o),this.h()},l(r){e=O(r,"H3",{slot:!0});var l=Q(e);t=G(l,o),l.forEach(h),this.h()},h(){j(e,"slot","title")},m(r,l){W(r,e,l),M(e,t)},p:fe,d(r){r&&h(e)}}}function je(n){let e,o;return e=new Qt({props:{id:"reset-event-"+n[18].id,value:n[18].id,label:n[18].id+" - "+n[18].eventType}}),{c(){T(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,r){R(e,t,r),o=!0},p(t,r){const l={};r&64&&(l.id="reset-event-"+t[18].id),r&64&&(l.value=t[18].id),r&64&&(l.label=t[18].id+" - "+t[18].eventType),e.$set(l)},i(t){o||(p(e.$$.fragment,t),o=!0)},o(t){w(e.$$.fragment,t),o=!1},d(t){S(e,t)}}}function ko(n){let e,o,t=Pe(n[6]),r=[];for(let s=0;s<t.length;s+=1)r[s]=je(Qe(n,t,s));const l=s=>w(r[s],1,1,()=>{r[s]=null});return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=ce()},l(s){for(let a=0;a<r.length;a+=1)r[a].l(s);e=ce()},m(s,a){for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(s,a);W(s,e,a),o=!0},p(s,a){if(a&64){t=Pe(s[6]);let f;for(f=0;f<t.length;f+=1){const i=Qe(s,t,f);r[f]?(r[f].p(i,a),p(r[f],1)):(r[f]=je(i),r[f].c(),p(r[f],1),r[f].m(e.parentNode,e))}for(x(),f=t.length;f<r.length;f+=1)l(f);ee()}},i(s){if(!o){for(let a=0;a<t.length;a+=1)p(r[a]);o=!0}},o(s){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)w(r[a]);o=!1},d(s){s&&h(e),at(r,s)}}}function bo(n){let e,o,t,r,l,s,a,f,i;o=new Ot({props:{name:"reset-event-id",group:n[7],class:"max-h-40 overflow-auto",description:A("workflows.reset-event-radio-group-description"),$$slots:{default:[ko]},$$scope:{ctx:n}}});function c(m){n[12](m)}let d={id:"reset-reapply-type-checkbox",label:A("workflows.reset-reapply-type-label")};n[5]!==void 0&&(d.checked=n[5]),r=new Ut({props:d}),oe.push(()=>se(r,"checked",c));function E(m){n[13](m)}let $={id:"reset-reason",label:A("common.reason")};return n[4]!==void 0&&($.value=n[4]),a=new ht({props:$}),oe.push(()=>se(a,"value",E)),{c(){e=U("div"),T(o.$$.fragment),t=q(),T(r.$$.fragment),s=q(),T(a.$$.fragment),this.h()},l(m){e=O(m,"DIV",{class:!0});var u=Q(e);P(o.$$.fragment,u),t=F(u),P(r.$$.fragment,u),s=F(u),P(a.$$.fragment,u),u.forEach(h),this.h()},h(){j(e,"class","flex w-full flex-col gap-4")},m(m,u){W(m,e,u),R(o,e,null),M(e,t),R(r,e,null),M(e,s),R(a,e,null),i=!0},p(m,u){const _={};u&2097216&&(_.$$scope={dirty:u,ctx:m}),o.$set(_);const g={};!l&&u&32&&(l=!0,g.checked=m[5],le(()=>l=!1)),r.$set(g);const I={};!f&&u&16&&(f=!0,I.value=m[4],le(()=>f=!1)),a.$set(I)},i(m){i||(p(o.$$.fragment,m),p(r.$$.fragment,m),p(a.$$.fragment,m),i=!0)},o(m){w(o.$$.fragment,m),w(r.$$.fragment,m),w(a.$$.fragment,m),i=!1},d(m){m&&h(e),S(o),S(r),S(a)}}}function vo(n){let e,o,t,r;function l(f){n[14](f)}function s(f){n[15](f)}let a={id:"reset-confirmation-modal","data-testid":"reset-confirmation-modal",confirmText:A("common.confirm"),cancelText:A("common.cancel"),loading:n[3],confirmDisabled:!n[7],$$slots:{content:[bo],title:[ho]},$$scope:{ctx:n}};return n[2]!==void 0&&(a.error=n[2]),n[0]!==void 0&&(a.open=n[0]),e=new kt({props:a}),oe.push(()=>se(e,"error",l)),oe.push(()=>se(e,"open",s)),e.$on("confirmModal",n[9]),e.$on("cancelModal",n[8]),{c(){T(e.$$.fragment)},l(f){P(e.$$.fragment,f)},m(f,i){R(e,f,i),r=!0},p(f,[i]){const c={};i&8&&(c.loading=f[3]),i&2097264&&(c.$$scope={dirty:i,ctx:f}),!o&&i&4&&(o=!0,c.error=f[2],le(()=>o=!1)),!t&&i&1&&(t=!0,c.open=f[0],le(()=>t=!1)),e.$set(c)},i(f){r||(p(e.$$.fragment,f),r=!0)},o(f){w(e.$$.fragment,f),r=!1},d(f){S(e,f)}}}function Eo(n,e,o){let t,r=fe,l=()=>(r(),r=ft(d,C=>o(16,t=C)),d),s,a;J(n,bt,C=>o(6,a=C)),n.$$.on_destroy.push(()=>r());let{open:f}=e,{workflow:i}=e,{namespace:c}=e,{refresh:d}=e;l();let E="",$=!1,m=$t("");J(n,m,C=>o(17,s=C));let u,_=!1;const g=()=>{o(0,f=!1),o(5,_=!1),re(m,s="",s),o(4,u="")},I=async()=>{o(2,E=""),o(3,$=!0);try{const C=await Wt({namespace:c,workflow:i,eventId:s,reason:u,reapplyType:_?Fe.Signal:Fe.None});C&&C.runId&&At.update(B=>({...B,[i.runId]:C.runId})),re(d,t=Date.now(),t),g()}catch(C){o(2,E=vt(C)?C.message:A("common.unknown-error"))}finally{o(3,$=!1)}g()};function v(C){_=C,o(5,_)}function D(C){u=C,o(4,u)}function V(C){E=C,o(2,E)}function k(C){f=C,o(0,f)}return n.$$set=C=>{"open"in C&&o(0,f=C.open),"workflow"in C&&o(10,i=C.workflow),"namespace"in C&&o(11,c=C.namespace),"refresh"in C&&l(o(1,d=C.refresh))},[f,d,E,$,u,_,a,m,g,I,i,c,v,D,V,k]}class Io extends pe{constructor(e){super(),_e(this,e,Eo,vo,me,{open:0,workflow:10,namespace:11,refresh:1})}}function Co(n){let e,o=A("workflows.signal-modal-title")+"",t;return{c(){e=U("h3"),t=Y(o),this.h()},l(r){e=O(r,"H3",{slot:!0});var l=Q(e);t=G(l,o),l.forEach(h),this.h()},h(){j(e,"slot","title")},m(r,l){W(r,e,l),M(e,t)},p:fe,d(r){r&&h(e)}}}function Do(n){let e,o,t,r,l,s,a=A("workflows.signal-payload-input-label")+"",f,i,c,d=A("workflows.signal-payload-input-label-hint")+"",E,$,m,u;function _(v){n[12](v)}let g={id:"signal-name",label:A("workflows.signal-name-label"),required:!0};n[4]!==void 0&&(g.value=n[4]),o=new ht({props:g}),oe.push(()=>se(o,"value",_));let I={maxHeight:320,content:n[5],editable:!0,copyable:!1};return m=new Jt({props:I}),n[13](m),m.$on("change",n[9]),{c(){e=U("div"),T(o.$$.fragment),r=q(),l=U("div"),s=U("span"),f=Y(a),i=q(),c=U("span"),E=Y(d),$=q(),T(m.$$.fragment),this.h()},l(v){e=O(v,"DIV",{slot:!0,class:!0});var D=Q(e);P(o.$$.fragment,D),r=F(D),l=O(D,"DIV",{});var V=Q(l);s=O(V,"SPAN",{class:!0});var k=Q(s);f=G(k,a),k.forEach(h),i=F(V),c=O(V,"SPAN",{class:!0});var C=Q(c);E=G(C,d),C.forEach(h),$=F(V),P(m.$$.fragment,V),V.forEach(h),D.forEach(h),this.h()},h(){j(s,"class","text-sm font-medium"),j(c,"class","text-xs font-light italic"),j(e,"slot","content"),j(e,"class","flex flex-col gap-4")},m(v,D){W(v,e,D),R(o,e,null),M(e,r),M(e,l),M(l,s),M(s,f),M(l,i),M(l,c),M(c,E),M(l,$),R(m,l,null),u=!0},p(v,D){const V={};!t&&D&16&&(t=!0,V.value=v[4],le(()=>t=!1)),o.$set(V);const k={};D&32&&(k.content=v[5]),m.$set(k)},i(v){u||(p(o.$$.fragment,v),p(m.$$.fragment,v),u=!0)},o(v){w(o.$$.fragment,v),w(m.$$.fragment,v),u=!1},d(v){v&&h(e),S(o),n[13](null),S(m)}}}function Ao(n){let e,o,t,r;function l(f){n[14](f)}function s(f){n[15](f)}let a={id:"signal-confirmation-modal","data-testid":"signal-confirmation-modal",loading:n[3],confirmText:A("common.submit"),cancelText:A("common.cancel"),confirmDisabled:!n[4],$$slots:{content:[Do],title:[Co]},$$scope:{ctx:n}};return n[2]!==void 0&&(a.error=n[2]),n[0]!==void 0&&(a.open=n[0]),e=new kt({props:a}),oe.push(()=>se(e,"error",l)),oe.push(()=>se(e,"open",s)),e.$on("cancelModal",n[7]),e.$on("confirmModal",n[8]),{c(){T(e.$$.fragment)},l(f){P(e.$$.fragment,f)},m(f,i){R(e,f,i),r=!0},p(f,[i]){const c={};i&8&&(c.loading=f[3]),i&16&&(c.confirmDisabled=!f[4]),i&131184&&(c.$$scope={dirty:i,ctx:f}),!o&&i&4&&(o=!0,c.error=f[2],le(()=>o=!1)),!t&&i&1&&(t=!0,c.open=f[0],le(()=>t=!1)),e.$set(c)},i(f){r||(p(e.$$.fragment,f),r=!0)},o(f){w(e.$$.fragment,f),r=!1},d(f){S(e,f)}}}function To(n,e,o){let t,r=fe,l=()=>(r(),r=ft(i,k=>o(16,t=k)),i);n.$$.on_destroy.push(()=>r());let{open:s}=e,{workflow:a}=e,{namespace:f}=e,{refresh:i}=e;l();let c="",d=!1,E="",$="",m;const u=()=>{o(0,s=!1),o(5,$=""),o(4,E=""),m==null||m.resetView($)},_=async()=>{o(2,c=""),o(3,d=!0);try{await yt({namespace:f,workflow:a,input:$,name:E}),re(i,t=Date.now(),t),Yt.push({message:A("workflows.signal-success"),id:"workflow-signal-success-toast"}),u()}catch(k){o(2,c=vt(k)?k.message:A("common.unknown-error"))}finally{o(3,d=!1)}},g=k=>{o(5,$=k.detail)};function I(k){E=k,o(4,E)}function v(k){oe[k?"unshift":"push"](()=>{m=k,o(6,m)})}function D(k){c=k,o(2,c)}function V(k){s=k,o(0,s)}return n.$$set=k=>{"open"in k&&o(0,s=k.open),"workflow"in k&&o(10,a=k.workflow),"namespace"in k&&o(11,f=k.namespace),"refresh"in k&&l(o(1,i=k.refresh))},[s,i,c,d,E,$,m,u,_,g,a,f,I,v,D,V]}class Po extends pe{constructor(e){super(),_e(this,e,To,Ao,me,{open:0,workflow:10,namespace:11,refresh:1})}}const Ro=(n,e,o)=>!n.disableWriteActions&&!n.workflowSignalDisabled&&!e.namespaceWriteDisabled(o);function ze(n,e,o){const t=n.slice();return t[31]=e[o].onClick,t[32]=e[o].destructive,t[33]=e[o].label,t[34]=e[o].enabled,t[35]=e[o].testId,t[36]=e[o].tooltip,t}function So(n){let e,o;return e=new Ct({props:{bottomRight:!0,width:200,text:n[4],hide:n[7],$$slots:{default:[Mo]},$$scope:{ctx:n}}}),{c(){T(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,r){R(e,t,r),o=!0},p(t,r){const l={};r[0]&16&&(l.text=t[4]),r[0]&128&&(l.hide=t[7]),r[0]&2176|r[1]&256&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){o||(p(e.$$.fragment,t),o=!0)},o(t){w(e.$$.fragment,t),o=!1},d(t){S(e,t)}}}function Wo(n){let e,o;return e=new It({props:{id:"workflow-actions",position:"right",primaryActionDisabled:!n[7],label:A("workflows.reset"),menuLabel:A("workflows.workflow-actions"),$$slots:{default:[Bo]},$$scope:{ctx:n}}}),e.$on("click",n[25]),{c(){T(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,r){R(e,t,r),o=!0},p(t,r){const l={};r[0]&128&&(l.primaryActionDisabled=!t[7]),r[0]&3|r[1]&256&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){o||(p(e.$$.fragment,t),o=!0)},o(t){w(e.$$.fragment,t),o=!1},d(t){S(e,t)}}}function yo(n){let e,o;return e=new It({props:{id:"workflow-actions",position:"right",disabled:n[14],primaryActionDisabled:!n[15]||n[2],label:A("workflows.request-cancellation"),menuLabel:A("workflows.workflow-actions"),$$slots:{default:[Lo]},$$scope:{ctx:n}}}),e.$on("click",n[23]),{c(){T(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,r){R(e,t,r),o=!0},p(t,r){const l={};r[0]&16384&&(l.disabled=t[14]),r[0]&32772&&(l.primaryActionDisabled=!t[15]||t[2]),r[0]&8451|r[1]&256&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){o||(p(e.$$.fragment,t),o=!0)},o(t){w(e.$$.fragment,t),o=!1},d(t){S(e,t)}}}function Vo(n){let e=A("workflows.reset")+"",o;return{c(){o=Y(e)},l(t){o=G(t,e)},m(t,r){W(t,o,r)},p:fe,d(t){t&&h(o)}}}function Mo(n){let e,o;return e=new Gt({props:{"aria-label":A("workflows.reset"),disabled:!n[7],variant:"primary","data-testid":"workflow-reset-button",$$slots:{default:[Vo]},$$scope:{ctx:n}}}),e.$on("click",n[26]),{c(){T(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,r){R(e,t,r),o=!0},p(t,r){const l={};r[0]&128&&(l.disabled=!t[7]),r[1]&256&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){o||(p(e.$$.fragment,t),o=!0)},o(t){w(e.$$.fragment,t),o=!1},d(t){S(e,t)}}}function No(n){let e=A("workflows.start-workflow-like-this-one")+"",o;return{c(){o=Y(e)},l(t){o=G(t,e)},m(t,r){W(t,o,r)},p:fe,d(t){t&&h(o)}}}function Bo(n){let e,o;return e=new Me({props:{"data-testid":"start-workflow-button",$$slots:{default:[No]},$$scope:{ctx:n}}}),e.$on("click",n[24]),{c(){T(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,r){R(e,t,r),o=!0},p(t,r){const l={};r[1]&256&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){o||(p(e.$$.fragment,t),o=!0)},o(t){w(e.$$.fragment,t),o=!1},d(t){S(e,t)}}}function Je(n){let e,o;return e=new Et({}),{c(){T(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,r){R(e,t,r),o=!0},i(t){o||(p(e.$$.fragment,t),o=!0)},o(t){w(e.$$.fragment,t),o=!1},d(t){S(e,t)}}}function Ho(n){let e=n[33]+"",o;return{c(){o=Y(e)},l(t){o=G(t,e)},m(t,r){W(t,o,r)},p(t,r){r[0]&8192&&e!==(e=t[33]+"")&&ne(o,e)},d(t){t&&h(o)}}}function qo(n){let e,o;return e=new Me({props:{destructive:n[32],disabled:!n[34],"data-testid":n[35],$$slots:{default:[Ho]},$$scope:{ctx:n}}}),e.$on("click",function(){Pt(n[31])&&n[31].apply(this,arguments)}),{c(){T(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,r){R(e,t,r),o=!0},p(t,r){n=t;const l={};r[0]&8192&&(l.destructive=n[32]),r[0]&8192&&(l.disabled=!n[34]),r[0]&8192&&(l["data-testid"]=n[35]),r[0]&8192|r[1]&256&&(l.$$scope={dirty:r,ctx:n}),e.$set(l)},i(t){o||(p(e.$$.fragment,t),o=!0)},o(t){w(e.$$.fragment,t),o=!1},d(t){S(e,t)}}}function Ye(n){let e,o,t,r=n[32]&&Je();return o=new Ct({props:{text:n[36],hide:!n[36],width:200,left:!0,$$slots:{default:[qo]},$$scope:{ctx:n}}}),{c(){r&&r.c(),e=q(),T(o.$$.fragment)},l(l){r&&r.l(l),e=F(l),P(o.$$.fragment,l)},m(l,s){r&&r.m(l,s),W(l,e,s),R(o,l,s),t=!0},p(l,s){l[32]?r?s[0]&8192&&p(r,1):(r=Je(),r.c(),p(r,1),r.m(e.parentNode,e)):r&&(x(),w(r,1,1,()=>{r=null}),ee());const a={};s[0]&8192&&(a.text=l[36]),s[0]&8192&&(a.hide=!l[36]),s[0]&8192|s[1]&256&&(a.$$scope={dirty:s,ctx:l}),o.$set(a)},i(l){t||(p(r),p(o.$$.fragment,l),t=!0)},o(l){w(r),w(o.$$.fragment,l),t=!1},d(l){l&&h(e),r&&r.d(l),S(o,l)}}}function Ge(n){let e,o,t,r;return e=new Et({}),t=new Me({props:{"data-testid":"start-workflow-button",$$slots:{default:[Fo]},$$scope:{ctx:n}}}),t.$on("click",n[22]),{c(){T(e.$$.fragment),o=q(),T(t.$$.fragment)},l(l){P(e.$$.fragment,l),o=F(l),P(t.$$.fragment,l)},m(l,s){R(e,l,s),W(l,o,s),R(t,l,s),r=!0},p(l,s){const a={};s[1]&256&&(a.$$scope={dirty:s,ctx:l}),t.$set(a)},i(l){r||(p(e.$$.fragment,l),p(t.$$.fragment,l),r=!0)},o(l){w(e.$$.fragment,l),w(t.$$.fragment,l),r=!1},d(l){l&&h(o),S(e,l),S(t,l)}}}function Fo(n){let e=A("workflows.start-workflow-like-this-one")+"",o;return{c(){o=Y(e)},l(t){o=G(t,e)},m(t,r){W(t,o,r)},p:fe,d(t){t&&h(o)}}}function Lo(n){let e,o=!ye(n[8]),t,r,l=Pe(n[13]),s=[];for(let i=0;i<l.length;i+=1)s[i]=Ye(ze(n,l,i));const a=i=>w(s[i],1,1,()=>{s[i]=null});let f=o&&Ge(n);return{c(){for(let i=0;i<s.length;i+=1)s[i].c();e=q(),f&&f.c(),t=ce()},l(i){for(let c=0;c<s.length;c+=1)s[c].l(i);e=F(i),f&&f.l(i),t=ce()},m(i,c){for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(i,c);W(i,e,c),f&&f.m(i,c),W(i,t,c),r=!0},p(i,c){if(c[0]&8192){l=Pe(i[13]);let d;for(d=0;d<l.length;d+=1){const E=ze(i,l,d);s[d]?(s[d].p(E,c),p(s[d],1)):(s[d]=Ye(E),s[d].c(),p(s[d],1),s[d].m(e.parentNode,e))}for(x(),d=l.length;d<s.length;d+=1)a(d);ee()}c[0]&256&&(o=!ye(i[8])),o?f?(f.p(i,c),c[0]&256&&p(f,1)):(f=Ge(i),f.c(),p(f,1),f.m(t.parentNode,t)):f&&(x(),w(f,1,1,()=>{f=null}),ee())},i(i){if(!r){for(let c=0;c<l.length;c+=1)p(s[c]);p(f),r=!0}},o(i){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)w(s[c]);w(f),r=!1},d(i){i&&(h(e),h(t)),at(s,i),f&&f.d(i)}}}function Ke(n){let e,o,t;function r(s){n[27](s)}let l={refresh:ke,workflow:n[0],namespace:n[1]};return n[11]!==void 0&&(l.open=n[11]),e=new Io({props:l}),oe.push(()=>se(e,"open",r)),{c(){T(e.$$.fragment)},l(s){P(e.$$.fragment,s)},m(s,a){R(e,s,a),t=!0},p(s,a){const f={};a[0]&1&&(f.workflow=s[0]),a[0]&2&&(f.namespace=s[1]),!o&&a[0]&2048&&(o=!0,f.open=s[11],le(()=>o=!1)),e.$set(f)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){w(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Xe(n){let e,o,t;function r(s){n[28](s)}let l={refresh:ke,workflow:n[0],namespace:n[1]};return n[12]!==void 0&&(l.open=n[12]),e=new Po({props:l}),oe.push(()=>se(e,"open",r)),{c(){T(e.$$.fragment)},l(s){P(e.$$.fragment,s)},m(s,a){R(e,s,a),t=!0},p(s,a){const f={};a[0]&1&&(f.workflow=s[0]),a[0]&2&&(f.namespace=s[1]),!o&&a[0]&4096&&(o=!0,f.open=s[12],le(()=>o=!1)),e.$set(f)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){w(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Ze(n){let e,o,t;function r(s){n[29](s)}let l={refresh:ke,workflow:n[0],namespace:n[1]};return n[9]!==void 0&&(l.open=n[9]),e=new Ft({props:l}),oe.push(()=>se(e,"open",r)),{c(){T(e.$$.fragment)},l(s){P(e.$$.fragment,s)},m(s,a){R(e,s,a),t=!0},p(s,a){const f={};a[0]&1&&(f.workflow=s[0]),a[0]&2&&(f.namespace=s[1]),!o&&a[0]&512&&(o=!0,f.open=s[9],le(()=>o=!1)),e.$set(f)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){w(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function xe(n){let e,o,t;function r(s){n[30](s)}let l={refresh:ke,workflow:n[0],namespace:n[1]};return n[10]!==void 0&&(l.open=n[10]),e=new Lt({props:l}),oe.push(()=>se(e,"open",r)),{c(){T(e.$$.fragment)},l(s){P(e.$$.fragment,s)},m(s,a){R(e,s,a),t=!0},p(s,a){const f={};a[0]&1&&(f.workflow=s[0]),a[0]&2&&(f.namespace=s[1]),!o&&a[0]&1024&&(o=!0,f.open=s[10],le(()=>o=!1)),e.$set(f)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){w(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Uo(n){let e,o,t,r,l,s,a,f,i;const c=[yo,Wo,So],d=[];function E(g,I){return I[0]&256&&(e=null),g[3]?0:(e==null&&(e=!ye(g[8])),e?1:2)}o=E(n,[-1,-1]),t=d[o]=c[o](n);let $=n[7]&&Ke(n),m=n[6]&&Xe(n),u=n[15]&&Ze(n),_=n[5]&&xe(n);return{c(){t.c(),r=q(),$&&$.c(),l=q(),m&&m.c(),s=q(),u&&u.c(),a=q(),_&&_.c(),f=ce()},l(g){t.l(g),r=F(g),$&&$.l(g),l=F(g),m&&m.l(g),s=F(g),u&&u.l(g),a=F(g),_&&_.l(g),f=ce()},m(g,I){d[o].m(g,I),W(g,r,I),$&&$.m(g,I),W(g,l,I),m&&m.m(g,I),W(g,s,I),u&&u.m(g,I),W(g,a,I),_&&_.m(g,I),W(g,f,I),i=!0},p(g,I){let v=o;o=E(g,I),o===v?d[o].p(g,I):(x(),w(d[v],1,1,()=>{d[v]=null}),ee(),t=d[o],t?t.p(g,I):(t=d[o]=c[o](g),t.c()),p(t,1),t.m(r.parentNode,r)),g[7]?$?($.p(g,I),I[0]&128&&p($,1)):($=Ke(g),$.c(),p($,1),$.m(l.parentNode,l)):$&&(x(),w($,1,1,()=>{$=null}),ee()),g[6]?m?(m.p(g,I),I[0]&64&&p(m,1)):(m=Xe(g),m.c(),p(m,1),m.m(s.parentNode,s)):m&&(x(),w(m,1,1,()=>{m=null}),ee()),g[15]?u?(u.p(g,I),I[0]&32768&&p(u,1)):(u=Ze(g),u.c(),p(u,1),u.m(a.parentNode,a)):u&&(x(),w(u,1,1,()=>{u=null}),ee()),g[5]?_?(_.p(g,I),I[0]&32&&p(_,1)):(_=xe(g),_.c(),p(_,1),_.m(f.parentNode,f)):_&&(x(),w(_,1,1,()=>{_=null}),ee())},i(g){i||(p(t),p($),p(m),p(u),p(_),i=!0)},o(g){w(t),w($),w(m),w(u),w(_),i=!1},d(g){g&&(h(r),h(l),h(s),h(a),h(f)),d[o].d(g),$&&$.d(g),m&&m.d(g),u&&u.d(g),_&&_.d(g)}}}function Oo(n,e,o){let t,r,l,s,a,f,i,c,d;J(n,bt,H=>o(20,i=H)),J(n,Re,H=>o(8,d=H));var E,$;let{workflow:m}=e,{namespace:u}=e,{cancelInProgress:_}=e,{isRunning:g}=e,I=!1,v=!1,D=!1,V=!1,k,C=Xt();J(n,C,H=>o(21,c=H));let B;const L=()=>qe(He({namespace:u,workflowId:m.id,taskQueue:m.taskQueue,workflowType:m.name})),N=()=>o(9,I=!0),z=()=>qe(He({namespace:u,workflowId:m.id,taskQueue:m.taskQueue,workflowType:m.name})),$e=()=>o(11,D=!0),de=()=>o(11,D=!0);function y(H){D=H,o(11,D),o(7,a),o(4,k),o(6,r),o(5,l),o(19,s),o(0,m),o(20,i),o(17,E),o(18,$),o(8,d),o(21,c),o(1,u)}function b(H){V=H,o(12,V),o(7,a),o(4,k),o(6,r),o(5,l),o(19,s),o(0,m),o(20,i),o(17,E),o(18,$),o(8,d),o(21,c),o(1,u)}function K(H){I=H,o(9,I)}function Z(H){v=H,o(10,v),o(7,a),o(4,k),o(6,r),o(5,l),o(19,s),o(0,m),o(20,i),o(17,E),o(18,$),o(8,d),o(21,c),o(1,u)}return n.$$set=H=>{"workflow"in H&&o(0,m=H.workflow),"namespace"in H&&o(1,u=H.namespace),"cancelInProgress"in H&&o(2,_=H.cancelInProgress),"isRunning"in H&&o(3,g=H.isRunning)},n.$$.update=()=>{n.$$.dirty[0]&2097410&&o(15,t=Bt(d.data.settings,c,u)),n.$$.dirty[0]&2097410&&o(6,r=Ro(d.data.settings,c,u)),n.$$.dirty[0]&2097410&&o(5,l=Ht(d.data.settings,c,u)),n.$$.dirty[0]&2097410&&o(19,s=qt(d.data.settings,c,u)),n.$$.dirty[0]&1572865&&o(7,a=s&&m.pendingChildren.length===0&&i.length>0),n.$$.dirty[0]&224&&o(14,f=!a&&!r&&!l),n.$$.dirty[0]&1966081&&(s?s&&(o(17,E=m==null?void 0:m.pendingChildren)===null||E===void 0?void 0:E.length)>0?o(4,k=A("workflows.reset-disabled-pending-children")):s&&(o(18,$=m==null?void 0:m.pendingChildren)===null||$===void 0?void 0:$.length)===0&&i.length===0&&o(4,k=A("workflows.reset-disabled-no-events")):o(4,k=A("workflows.reset-disabled-unauthorized"))),n.$$.dirty[0]&240&&o(13,B=[{label:A("workflows.reset"),onClick:()=>o(11,D=!0),testId:"reset-button",enabled:a,tooltip:a?"":k},{label:A("workflows.signal"),onClick:()=>o(12,V=!0),testId:"signal-button",enabled:r,tooltip:r?"":A("workflows.signal-disabled")},{label:A("workflows.terminate"),onClick:()=>o(10,v=!0),testId:"terminate-button",enabled:l,destructive:!0,tooltip:l?"":A("workflows.terminate-disabled")}])},[m,u,_,g,k,l,r,a,d,I,v,D,V,B,f,t,C,E,$,s,i,c,L,N,z,$e,de,y,b,K,Z]}class Qo extends pe{constructor(e){super(),_e(this,e,Oo,Uo,me,{workflow:0,namespace:1,cancelInProgress:2,isRunning:3},null,[-1,-1])}}function jo(n){let e,o,t=A("workers.buildId")+"",r,l,s;return l=new eo({props:{active:!0,buildId:n[0]}}),{c(){e=U("p"),o=U("span"),r=Y(t),T(l.$$.fragment),this.h()},l(a){e=O(a,"P",{class:!0});var f=Q(e);o=O(f,"SPAN",{});var i=Q(o);r=G(i,t),i.forEach(h),P(l.$$.fragment,f),f.forEach(h),this.h()},h(){j(e,"class","flex items-center gap-1")},m(a,f){W(a,e,f),M(e,o),M(o,r),R(l,e,null),s=!0},p(a,[f]){const i={};f&1&&(i.buildId=a[0]),l.$set(i)},i(a){s||(p(l.$$.fragment,a),s=!0)},o(a){w(l.$$.fragment,a),s=!1},d(a){a&&h(e),S(l)}}}function zo(n,e,o){let t,{workflow:r}=e;return n.$$set=l=>{"workflow"in l&&o(1,r=l.workflow)},n.$$.update=()=>{n.$$.dirty&2&&o(0,t=to(r))},[t,r]}class Jo extends pe{constructor(e){super(),_e(this,e,zo,jo,me,{workflow:1})}}const Yo=(n,e)=>{const o=n==="Running",t=e==null?void 0:e.some(r=>(r==null?void 0:r.eventType)==="WorkflowExecutionCancelRequested");return o&&t},et=n=>{const e=n==null?void 0:n.indexOf("?");return e>-1?n.slice(0,e):n},te=(n,e,o=!1)=>{const t=et(n).split("/"),r=et(e).split("/");if(o&&t.length!==r.length)return!1;for(let l=0;l<t.length;l++){const s=t[l],a=r[l];if(s!==a)return!1}return!0};function Go(n){let e=(n[12]?A("common.workflows"):A("workflows.back-to-workflows"))+"",o;return{c(){o=Y(e)},l(t){o=G(t,e)},m(t,r){W(t,o,r)},p(t,r){r&4096&&e!==(e=(t[12]?A("common.workflows"):A("workflows.back-to-workflows"))+"")&&ne(o,e)},d(t){t&&h(o)}}}function tt(n){let e,o;return e=new Se({props:{href:ue({...n[11]}),"data-testid":"back-to-workflow-execution",icon:"chevron-left",$$slots:{default:[Ko]},$$scope:{ctx:n}}}),{c(){T(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,r){R(e,t,r),o=!0},p(t,r){const l={};r&2048&&(l.href=ue({...t[11]})),r&8388610&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){o||(p(e.$$.fragment,t),o=!0)},o(t){w(e.$$.fragment,t),o=!1},d(t){S(e,t)}}}function Ko(n){var t;let e=((t=n[1])==null?void 0:t.runId)+"",o;return{c(){o=Y(e)},l(r){o=G(r,e)},m(r,l){W(r,o,l)},p(r,l){var s;l&2&&e!==(e=((s=r[1])==null?void 0:s.runId)+"")&&ne(o,e)},d(r){r&&h(o)}}}function ot(n){let e,o;return e=new Jo({props:{workflow:n[1]}}),{c(){T(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,r){R(e,t,r),o=!0},p(t,r){const l={};r&2&&(l.workflow=t[1]),e.$set(l)},i(t){o||(p(e.$$.fragment,t),o=!0)},o(t){w(e.$$.fragment,t),o=!1},d(t){S(e,t)}}}function Xo(n){var t;let e=((t=n[1])==null?void 0:t.historyEvents)+"",o;return{c(){o=Y(e)},l(r){o=G(r,e)},m(r,l){W(r,o,l)},p(r,l){var s;l&2&&e!==(e=((s=r[1])==null?void 0:s.historyEvents)+"")&&ne(o,e)},d(r){r&&h(o)}}}function Zo(n){let e,o;return e=new We({props:{type:"primary",class:"px-2 py-0",$$slots:{default:[Xo]},$$scope:{ctx:n}}}),{c(){T(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,r){R(e,t,r),o=!0},p(t,r){const l={};r&8388610&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){o||(p(e.$$.fragment,t),o=!0)},o(t){w(e.$$.fragment,t),o=!1},d(t){S(e,t)}}}function xo(n){var t,r;let e=((r=(t=n[13])==null?void 0:t.pollers)==null?void 0:r.length)+"",o;return{c(){o=Y(e)},l(l){o=G(l,e)},m(l,s){W(l,o,s)},p(l,s){var a,f;s&8192&&e!==(e=((f=(a=l[13])==null?void 0:a.pollers)==null?void 0:f.length)+"")&&ne(o,e)},d(l){l&&h(o)}}}function er(n){let e,o;return e=new We({props:{type:"primary",class:"px-2 py-0",$$slots:{default:[xo]},$$scope:{ctx:n}}}),{c(){T(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,r){R(e,t,r),o=!0},p(t,r){const l={};r&8396800&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){o||(p(e.$$.fragment,t),o=!0)},o(t){w(e.$$.fragment,t),o=!1},d(t){S(e,t)}}}function tr(n){let e=n[5].relationshipCount+"",o;return{c(){o=Y(e)},l(t){o=G(t,e)},m(t,r){W(t,o,r)},p(t,r){r&32&&e!==(e=t[5].relationshipCount+"")&&ne(o,e)},d(t){t&&h(o)}}}function or(n){let e,o;return e=new We({props:{type:"primary",class:"px-2 py-0",$$slots:{default:[tr]},$$scope:{ctx:n}}}),{c(){T(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,r){R(e,t,r),o=!0},p(t,r){const l={};r&8388640&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){o||(p(e.$$.fragment,t),o=!0)},o(t){w(e.$$.fragment,t),o=!1},d(t){S(e,t)}}}function rt(n){let e,o;return e=new Kt({props:{name:"canceled"}}),{c(){T(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,r){R(e,t,r),o=!0},i(t){o||(p(e.$$.fragment,t),o=!0)},o(t){w(e.$$.fragment,t),o=!1},d(t){S(e,t)}}}function rr(n){var a,f;let e,o,t=((f=(a=n[1])==null?void 0:a.pendingActivities)==null?void 0:f.length)+"",r,l,s=n[9]&&rt();return{c(){e=U("div"),s&&s.c(),o=q(),r=Y(t),this.h()},l(i){e=O(i,"DIV",{class:!0});var c=Q(e);s&&s.l(c),o=F(c),r=G(c,t),c.forEach(h),this.h()},h(){j(e,"class","flex items-center gap-1")},m(i,c){W(i,e,c),s&&s.m(e,null),M(e,o),M(e,r),l=!0},p(i,c){var d,E;i[9]?s?c&512&&p(s,1):(s=rt(),s.c(),p(s,1),s.m(e,o)):s&&(x(),w(s,1,1,()=>{s=null}),ee()),(!l||c&2)&&t!==(t=((E=(d=i[1])==null?void 0:d.pendingActivities)==null?void 0:E.length)+"")&&ne(r,t)},i(i){l||(p(s),l=!0)},o(i){w(s),l=!1},d(i){i&&h(e),s&&s.d()}}}function nr(n){let e,o;return e=new We({props:{type:n[9]?"warning":"primary",class:"px-2 py-0",$$slots:{default:[rr]},$$scope:{ctx:n}}}),{c(){T(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,r){R(e,t,r),o=!0},p(t,r){const l={};r&512&&(l.type=t[9]?"warning":"primary"),r&8389122&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){o||(p(e.$$.fragment,t),o=!0)},o(t){w(e.$$.fragment,t),o=!1},d(t){S(e,t)}}}function lr(n){let e,o,t,r,l,s,a,f,i,c,d,E,$,m;return e=new we({props:{label:A("workflows.history-tab"),id:"history-tab",href:ue({...n[11]}),active:te(n[4].url.pathname,ue({...n[11]})),$$slots:{default:[Zo]},$$scope:{ctx:n}}}),t=new we({props:{label:A("workflows.workers-tab"),id:"workers-tab",href:be(n[11]),active:te(n[4].url.pathname,be(n[11])),$$slots:{default:[er]},$$scope:{ctx:n}}}),l=new we({props:{label:A("workflows.relationships"),id:"relationships-tab",href:ve(n[11]),active:te(n[4].url.pathname,ve(n[11])),$$slots:{default:[or]},$$scope:{ctx:n}}}),a=new we({props:{label:A("workflows.pending-activities-tab"),id:"pending-activities-tab",href:Ee(n[11]),active:te(n[4].url.pathname,Ee(n[11])),$$slots:{default:[nr]},$$scope:{ctx:n}}}),i=new we({props:{label:A("workflows.call-stack-tab"),id:"call-stack-tab",href:Ie(n[11]),active:te(n[4].url.pathname,Ie(n[11]))}}),d=new we({props:{label:A("workflows.queries-tab"),id:"queries-tab",href:Ce(n[11]),active:te(n[4].url.pathname,Ce(n[11]))}}),$=new we({props:{label:A("workflows.metadata-tab"),id:"metadata-tab",href:De(n[11]),active:te(n[4].url.pathname,De(n[11]))}}),{c(){T(e.$$.fragment),o=q(),T(t.$$.fragment),r=q(),T(l.$$.fragment),s=q(),T(a.$$.fragment),f=q(),T(i.$$.fragment),c=q(),T(d.$$.fragment),E=q(),T($.$$.fragment)},l(u){P(e.$$.fragment,u),o=F(u),P(t.$$.fragment,u),r=F(u),P(l.$$.fragment,u),s=F(u),P(a.$$.fragment,u),f=F(u),P(i.$$.fragment,u),c=F(u),P(d.$$.fragment,u),E=F(u),P($.$$.fragment,u)},m(u,_){R(e,u,_),W(u,o,_),R(t,u,_),W(u,r,_),R(l,u,_),W(u,s,_),R(a,u,_),W(u,f,_),R(i,u,_),W(u,c,_),R(d,u,_),W(u,E,_),R($,u,_),m=!0},p(u,_){const g={};_&2048&&(g.href=ue({...u[11]})),_&2064&&(g.active=te(u[4].url.pathname,ue({...u[11]}))),_&8388610&&(g.$$scope={dirty:_,ctx:u}),e.$set(g);const I={};_&2048&&(I.href=be(u[11])),_&2064&&(I.active=te(u[4].url.pathname,be(u[11]))),_&8396800&&(I.$$scope={dirty:_,ctx:u}),t.$set(I);const v={};_&2048&&(v.href=ve(u[11])),_&2064&&(v.active=te(u[4].url.pathname,ve(u[11]))),_&8388640&&(v.$$scope={dirty:_,ctx:u}),l.$set(v);const D={};_&2048&&(D.href=Ee(u[11])),_&2064&&(D.active=te(u[4].url.pathname,Ee(u[11]))),_&8389122&&(D.$$scope={dirty:_,ctx:u}),a.$set(D);const V={};_&2048&&(V.href=Ie(u[11])),_&2064&&(V.active=te(u[4].url.pathname,Ie(u[11]))),i.$set(V);const k={};_&2048&&(k.href=Ce(u[11])),_&2064&&(k.active=te(u[4].url.pathname,Ce(u[11]))),d.$set(k);const C={};_&2048&&(C.href=De(u[11])),_&2064&&(C.active=te(u[4].url.pathname,De(u[11]))),$.$set(C)},i(u){m||(p(e.$$.fragment,u),p(t.$$.fragment,u),p(l.$$.fragment,u),p(a.$$.fragment,u),p(i.$$.fragment,u),p(d.$$.fragment,u),p($.$$.fragment,u),m=!0)},o(u){w(e.$$.fragment,u),w(t.$$.fragment,u),w(l.$$.fragment,u),w(a.$$.fragment,u),w(i.$$.fragment,u),w(d.$$.fragment,u),w($.$$.fragment,u),m=!1},d(u){u&&(h(o),h(r),h(s),h(f),h(c),h(E)),S(e,u),S(t,u),S(l,u),S(a,u),S(i,u),S(d,u),S($,u)}}}function sr(n){let e,o;return e=new lo({props:{class:"flex flex-wrap gap-6 p-4 pl-0",label:"workflow detail",$$slots:{default:[lr]},$$scope:{ctx:n}}}),{c(){T(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,r){R(e,t,r),o=!0},p(t,r){const l={};r&8399410&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){o||(p(e.$$.fragment,t),o=!0)},o(t){w(e.$$.fragment,t),o=!1},d(t){S(e,t)}}}function nt(n){let e,o,t,r;return o=new Dt({props:{icon:"info",intent:"info",title:A("workflows.cancel-request-sent"),$$slots:{default:[fr]},$$scope:{ctx:n}}}),{c(){e=U("div"),T(o.$$.fragment)},l(l){e=O(l,"DIV",{});var s=Q(e);P(o.$$.fragment,s),s.forEach(h)},m(l,s){W(l,e,s),R(o,e,null),r=!0},p(l,s){const a={};s&8388608&&(a.$$scope={dirty:s,ctx:l}),o.$set(a)},i(l){r||(p(o.$$.fragment,l),l&&(t||it(()=>{t=dt(e,wt,{duration:200,delay:100}),t.start()})),r=!0)},o(l){w(o.$$.fragment,l),r=!1},d(l){l&&h(e),S(o)}}}function fr(n){let e=A("workflows.cancel-request-sent-description")+"",o;return{c(){o=Y(e)},l(t){o=G(t,e)},m(t,r){W(t,o,r)},p:fe,d(t){t&&h(o)}}}function lt(n){let e,o,t,r;return o=new Dt({props:{icon:"info",intent:"info","data-testid":"workflow-reset-alert",title:A("workflows.reset-success-alert-title"),$$slots:{default:[ir]},$$scope:{ctx:n}}}),{c(){e=U("div"),T(o.$$.fragment)},l(l){e=O(l,"DIV",{});var s=Q(e);P(o.$$.fragment,s),s.forEach(h)},m(l,s){W(l,e,s),R(o,e,null),r=!0},p(l,s){const a={};s&8388621&&(a.$$scope={dirty:s,ctx:l}),o.$set(a)},i(l){r||(p(o.$$.fragment,l),l&&(t||it(()=>{t=dt(e,wt,{duration:200,delay:100}),t.start()})),r=!0)},o(l){w(o.$$.fragment,l),r=!1},d(l){l&&h(e),S(o)}}}function ar(n){let e;return{c(){e=Y("here")},l(o){e=G(o,"here")},m(o,t){W(o,e,t)},d(o){o&&h(e)}}}function ir(n){var l,s,a,f;let e,o,t,r;return o=new Se({props:{href:ue({namespace:n[0],workflow:(s=(l=n[2])==null?void 0:l.workflow)==null?void 0:s.id,run:n[3][(f=(a=n[2])==null?void 0:a.workflow)==null?void 0:f.runId]}),$$slots:{default:[ar]},$$scope:{ctx:n}}}),{c(){e=Y("You can find the resulting Workflow Execution "),T(o.$$.fragment),t=Y(".")},l(i){e=G(i,"You can find the resulting Workflow Execution "),P(o.$$.fragment,i),t=G(i,".")},m(i,c){W(i,e,c),R(o,i,c),W(i,t,c),r=!0},p(i,c){var E,$,m,u;const d={};c&13&&(d.href=ue({namespace:i[0],workflow:($=(E=i[2])==null?void 0:E.workflow)==null?void 0:$.id,run:i[3][(u=(m=i[2])==null?void 0:m.workflow)==null?void 0:u.runId]})),c&8388608&&(d.$$scope={dirty:c,ctx:i}),o.$set(d)},i(i){r||(p(o.$$.fragment,i),r=!0)},o(i){w(o.$$.fragment,i),r=!1},d(i){i&&(h(e),h(t)),S(o,i)}}}function ur(n){var $e,de;let e,o,t,r,l,s,a,f,i,c,d,E,$,m,u,_,g,I,v,D,V,k,C;t=new Se({props:{href:`${Te({namespace:n[0]})}?${n[14]}`,"data-testid":"back-to-workflows",icon:"chevron-left",$$slots:{default:[Go]},$$scope:{ctx:n}}});let B=n[12]&&tt(n);c=new xt({props:{status:($e=n[1])==null?void 0:$e.status,big:!0}}),m=new ro({props:{copyIconTitle:A("common.copy-icon-title"),copySuccessIconTitle:A("common.copy-success-icon-title"),content:(de=n[1])==null?void 0:de.id,clickAllToCopy:!0,"container-class":"w-full",class:"overflow-hidden text-ellipsis"}});let L=n[6]&&ot(n);I=new Qo({props:{isRunning:n[10],cancelInProgress:n[8],workflow:n[1],namespace:n[0]}}),D=new no({props:{$$slots:{default:[sr]},$$scope:{ctx:n}}});let N=n[8]&&nt(n),z=n[7]&&lt(n);return{c(){e=U("div"),o=U("div"),T(t.$$.fragment),r=q(),B&&B.c(),l=q(),s=U("header"),a=U("div"),f=U("div"),i=U("div"),T(c.$$.fragment),d=q(),E=U("div"),$=U("h1"),T(m.$$.fragment),u=q(),L&&L.c(),_=q(),g=U("div"),T(I.$$.fragment),v=q(),T(D.$$.fragment),V=q(),N&&N.c(),k=q(),z&&z.c(),this.h()},l(y){e=O(y,"DIV",{class:!0});var b=Q(e);o=O(b,"DIV",{class:!0});var K=Q(o);P(t.$$.fragment,K),r=F(K),B&&B.l(K),K.forEach(h),b.forEach(h),l=F(y),s=O(y,"HEADER",{class:!0});var Z=Q(s);a=O(Z,"DIV",{class:!0});var H=Q(a);f=O(H,"DIV",{class:!0});var X=Q(f);i=O(X,"DIV",{class:!0});var ie=Q(i);P(c.$$.fragment,ie),ie.forEach(h),d=F(X),E=O(X,"DIV",{class:!0});var ae=Q(E);$=O(ae,"H1",{"data-testid":!0,class:!0});var ge=Q($);P(m.$$.fragment,ge),ge.forEach(h),u=F(ae),L&&L.l(ae),ae.forEach(h),X.forEach(h),_=F(H),g=O(H,"DIV",{class:!0});var Ne=Q(g);P(I.$$.fragment,Ne),Ne.forEach(h),H.forEach(h),v=F(Z),P(D.$$.fragment,Z),V=F(Z),N&&N.l(Z),k=F(Z),z&&z.l(Z),Z.forEach(h),this.h()},h(){j(o,"class","flex items-center gap-2"),j(e,"class","flex items-center justify-between pb-4"),j(i,"class","px-2"),j($,"data-testid","workflow-id-heading"),j($,"class","gap-0 overflow-hidden"),j(E,"class","flex flex-col flex-wrap gap-0"),j(f,"class","flex flex-col items-center gap-4 lg:flex-row"),j(g,"class","px-2"),j(a,"class","flex flex-col items-center justify-between gap-4 lg:flex-row"),j(s,"class","rounded-top flex flex-col gap-0")},m(y,b){W(y,e,b),M(e,o),R(t,o,null),M(o,r),B&&B.m(o,null),W(y,l,b),W(y,s,b),M(s,a),M(a,f),M(f,i),R(c,i,null),M(f,d),M(f,E),M(E,$),R(m,$,null),M(E,u),L&&L.m(E,null),M(a,_),M(a,g),R(I,g,null),M(s,v),R(D,s,null),M(s,V),N&&N.m(s,null),M(s,k),z&&z.m(s,null),C=!0},p(y,[b]){var ae,ge;const K={};b&16385&&(K.href=`${Te({namespace:y[0]})}?${y[14]}`),b&8392704&&(K.$$scope={dirty:b,ctx:y}),t.$set(K),y[12]?B?(B.p(y,b),b&4096&&p(B,1)):(B=tt(y),B.c(),p(B,1),B.m(o,null)):B&&(x(),w(B,1,1,()=>{B=null}),ee());const Z={};b&2&&(Z.status=(ae=y[1])==null?void 0:ae.status),c.$set(Z);const H={};b&2&&(H.content=(ge=y[1])==null?void 0:ge.id),m.$set(H),y[6]?L?(L.p(y,b),b&64&&p(L,1)):(L=ot(y),L.c(),p(L,1),L.m(E,null)):L&&(x(),w(L,1,1,()=>{L=null}),ee());const X={};b&1024&&(X.isRunning=y[10]),b&256&&(X.cancelInProgress=y[8]),b&2&&(X.workflow=y[1]),b&1&&(X.namespace=y[0]),I.$set(X);const ie={};b&8399410&&(ie.$$scope={dirty:b,ctx:y}),D.$set(ie),y[8]?N?(N.p(y,b),b&256&&p(N,1)):(N=nt(y),N.c(),p(N,1),N.m(s,k)):N&&(x(),w(N,1,1,()=>{N=null}),ee()),y[7]?z?(z.p(y,b),b&128&&p(z,1)):(z=lt(y),z.c(),p(z,1),z.m(s,null)):z&&(x(),w(z,1,1,()=>{z=null}),ee())},i(y){C||(p(t.$$.fragment,y),p(B),p(c.$$.fragment,y),p(m.$$.fragment,y),p(L),p(I.$$.fragment,y),p(D.$$.fragment,y),p(N),p(z),C=!0)},o(y){w(t.$$.fragment,y),w(B),w(c.$$.fragment,y),w(m.$$.fragment,y),w(L),w(I.$$.fragment,y),w(D.$$.fragment,y),w(N),w(z),C=!1},d(y){y&&(h(e),h(l),h(s)),S(t),B&&B.d(),S(c),S(m),L&&L.d(),S(I),S(D),N&&N.d(),z&&z.d()}}}function cr(n,e,o){let t,r,l,s,a,f,i,c,d,E,$,m,u,_,g,I;J(n,so,N=>o(21,$=N)),J(n,Ae,N=>o(22,m=N)),J(n,he,N=>o(2,u=N)),J(n,At,N=>o(3,_=N)),J(n,Re,N=>o(4,g=N)),J(n,gt,N=>o(14,I=N));var v,D,V,k,C,B;let{namespace:L}=e;return n.$$set=N=>{"namespace"in N&&o(0,L=N.namespace)},n.$$.update=()=>{n.$$.dirty&4&&o(1,{workflow:t,workers:r}=u,t,(o(13,r),o(2,u))),n.$$.dirty&16&&o(12,l=g.params.id),n.$$.dirty&3&&o(11,s={namespace:L,workflow:t==null?void 0:t.id,run:t==null?void 0:t.runId}),n.$$.dirty&32772&&o(10,a=o(15,v=u==null?void 0:u.workflow)===null||v===void 0?void 0:v.isRunning),n.$$.dirty&65540&&o(9,f=["Terminated","TimedOut","Canceled"].includes(o(16,D=u.workflow)===null||D===void 0?void 0:D.status)),n.$$.dirty&4325380&&o(8,i=Yo(o(17,V=u==null?void 0:u.workflow)===null||V===void 0?void 0:V.status,m)),n.$$.dirty&262156&&o(7,c=ao(_,o(18,k=u==null?void 0:u.workflow)===null||k===void 0?void 0:k.runId)),n.$$.dirty&1572866&&o(6,d=o(19,C=t==null?void 0:t.assignedBuildId)!==null&&C!==void 0?C:o(20,B=t==null?void 0:t.mostRecentWorkerVersionStamp)===null||B===void 0?void 0:B.useVersioning),n.$$.dirty&6291458&&o(5,E=fo(t,m,$))},[L,t,u,_,g,E,d,c,i,f,a,s,l,r,I,v,D,V,k,C,B,$,m]}class mr extends pe{constructor(e){super(),_e(this,e,cr,ur,me,{namespace:0})}}async function pr({activity:n,namespace:e,settings:o,accessToken:t},{convertWithCodec:r=io,decodeAttributes:l=uo}={}){const s=await r({attributes:n,namespace:e,settings:o,accessToken:t});return l(s)}const _r=async({activity:n,namespace:e,settings:o,accessToken:t})=>await pr({activity:n,namespace:e,settings:o,accessToken:t}),st=async(n,e,o,t)=>{const r=(n==null?void 0:n.pendingActivities)??[],l=[];for(const s of r){const a=await _r({activity:s,namespace:e,settings:o,accessToken:t});l.push(a)}return l};function dr(n){let e,o,t,r,l;const s=[hr,$r,wr],a=[];function f(i,c){return i[2]?0:i[1].workflow?2:1}return o=f(n),t=a[o]=s[o](n),{c(){e=U("div"),t.c(),this.h()},l(i){e=O(i,"DIV",{class:!0});var c=Q(e);t.l(c),c.forEach(h),this.h()},h(){j(e,"class",r="absolute bottom-0 left-0 right-0 "+(n[6]?"top-[540px]":"top-0")+" } flex h-full flex-col gap-0")},m(i,c){W(i,e,c),a[o].m(e,null),l=!0},p(i,c){let d=o;o=f(i),o===d?a[o].p(i,c):(x(),w(a[d],1,1,()=>{a[d]=null}),ee(),t=a[o],t?t.p(i,c):(t=a[o]=s[o](i),t.c()),p(t,1),t.m(e,null)),(!l||c&64&&r!==(r="absolute bottom-0 left-0 right-0 "+(i[6]?"top-[540px]":"top-0")+" } flex h-full flex-col gap-0"))&&j(e,"class",r)},i(i){l||(p(t),l=!0)},o(i){w(t),l=!1},d(i){i&&h(e),a[o].d()}}}function gr(n){let e,o,t,r=Ve(n[3],null,2)+"",l,s;return o=new Mt({props:{copyIconTitle:A("common.copy-icon-title"),copySuccessIconTitle:A("common.copy-success-icon-title"),class:"absolute right-1 top-1",copied:n[5]}}),o.$on("click",n[8]),{c(){e=U("div"),T(o.$$.fragment),t=q(),l=Y(r),this.h()},l(a){e=O(a,"DIV",{class:!0});var f=Q(e);P(o.$$.fragment,f),t=F(f),l=G(f,r),f.forEach(h),this.h()},h(){j(e,"class","relative h-auto whitespace-break-spaces break-words rounded bg-primary p-4")},m(a,f){W(a,e,f),R(o,e,null),M(e,t),M(e,l),s=!0},p(a,f){const i={};f&32&&(i.copied=a[5]),o.$set(i),(!s||f&8)&&r!==(r=Ve(a[3],null,2)+"")&&ne(l,r)},i(a){s||(p(o.$$.fragment,a),s=!0)},o(a){w(o.$$.fragment,a),s=!1},d(a){a&&h(e),S(o)}}}function wr(n){let e,o,t,r;o=new mr({props:{namespace:n[0].params.namespace}});const l=n[16].default,s=ct(l,n,n[15],null);return{c(){e=U("div"),T(o.$$.fragment),t=q(),s&&s.c(),this.h()},l(a){e=O(a,"DIV",{class:!0});var f=Q(e);P(o.$$.fragment,f),f.forEach(h),t=F(a),s&&s.l(a),this.h()},h(){j(e,"class","px-8 pt-8 md:pt-20")},m(a,f){W(a,e,f),R(o,e,null),W(a,t,f),s&&s.m(a,f),r=!0},p(a,f){const i={};f&1&&(i.namespace=a[0].params.namespace),o.$set(i),s&&s.p&&(!r||f&32768)&&mt(s,l,a,a[15],r?_t(l,a[15],f,null):pt(a[15]),null)},i(a){r||(p(o.$$.fragment,a),p(s,a),r=!0)},o(a){w(o.$$.fragment,a),w(s,a),r=!1},d(a){a&&(h(e),h(t)),S(o),s&&s.d(a)}}}function $r(n){let e,o;return e=new Nt({props:{class:"pt-24"}}),{c(){T(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,r){R(e,t,r),o=!0},p:fe,i(t){o||(p(e.$$.fragment,t),o=!0)},o(t){w(e.$$.fragment,t),o=!1},d(t){S(e,t)}}}function hr(n){let e,o;return e=new $o({props:{error:n[2]}}),{c(){T(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,r){R(e,t,r),o=!0},p(t,r){const l={};r&4&&(l.error=t[2]),e.$set(l)},i(t){o||(p(e.$$.fragment,t),o=!0)},o(t){w(e.$$.fragment,t),o=!1},d(t){S(e,t)}}}function kr(n){let e,o,t,r;const l=[gr,dr],s=[];function a(f,i){return f[4]?0:1}return e=a(n),o=s[e]=l[e](n),{c(){o.c(),t=ce()},l(f){o.l(f),t=ce()},m(f,i){s[e].m(f,i),W(f,t,i),r=!0},p(f,[i]){let c=e;e=a(f),e===c?s[e].p(f,i):(x(),w(s[c],1,1,()=>{s[c]=null}),ee(),o=s[e],o?o.p(f,i):(o=s[e]=l[e](f),o.c()),p(o,1),o.m(t.parentNode,t))},i(f){r||(p(o),r=!0)},o(f){w(o),r=!1},d(f){f&&h(t),s[e].d(f)}}}function br(n,e,o){let t,r,l,s,a,f,i,c,d,E,$,m,u,_,g,I;J(n,Le,b=>o(18,f=b)),J(n,Re,b=>o(0,i=b)),J(n,jt,b=>o(12,c=b)),J(n,Ae,b=>o(13,d=b)),J(n,Ue,b=>o(19,E=b)),J(n,ke,b=>o(14,$=b)),J(n,he,b=>o(1,m=b)),J(n,Oe,b=>o(20,u=b)),J(n,co,b=>o(21,_=b)),J(n,St,b=>o(6,I=b));let{$$slots:v={},$$scope:D}=e,V,k;const{copy:C,copied:B}=po();J(n,B,b=>o(5,g=b));const L=b=>{C(b,Ve(a))},N=async(b,K,Z)=>{const{settings:H}=i.data,{workflow:X,error:ie}=await Be({namespace:b,workflowId:K,runId:Z});if(ie){o(2,V=ie);return}const{taskQueue:ae}=X,ge=await oo({queue:ae,namespace:b});X.pendingActivities=await st(X,b,H,_==null?void 0:_.accessToken),re(he,m={workflow:X,workers:ge},m),k=new AbortController,re(Ae,d=await Vt({namespace:b,workflowId:K,runId:Z,sort:"ascending",signal:k.signal,historySize:X.historyEvents}),d)},z=async b=>{var K;if(b&&(!((K=m==null?void 0:m.workflow)===null||K===void 0)&&K.isRunning)){const{settings:Z}=i.data,{workflow:H,error:X}=await Be({namespace:t,workflowId:r,runId:l});if(X){o(2,V=X);return}H.pendingActivities=await st(H,t,Z,_==null?void 0:_.accessToken),re(he,m={...m,workflow:H},m)}},$e=()=>{re(Ae,d=[],d),k&&k.abort()},de=()=>{re(Oe,u=null,u),re(he,m=Zt,m),o(2,V=void 0),$e(),mo()},y=(b,K)=>{K||re(Ue,E=b,E)};return Rt(()=>{const b=i.url.searchParams.get("sort");b&&re(Le,f=b,f)}),ut(()=>{de()}),n.$$set=b=>{"$$scope"in b&&o(15,D=b.$$scope)},n.$$.update=()=>{n.$$.dirty&1&&o(11,{namespace:t,workflow:r,run:l}=i.params,t,(o(10,r),o(0,i)),(o(9,l),o(0,i))),n.$$.dirty&1&&o(4,s=i.url.searchParams.has("json")),n.$$.dirty&8194&&o(3,a={...m,eventHistory:d}),n.$$.dirty&512&&de(),n.$$.dirty&3584&&N(t,r,l),n.$$.dirty&16384&&z($),n.$$.dirty&12288&&y(d,c)},[i,m,V,a,s,g,I,B,L,l,r,t,c,d,$,D,v]}class vr extends pe{constructor(e){super(),_e(this,e,br,kr,me,{})}}const Tt={namespace:null,workflowId:null,runId:null,rawPayloads:null,sort:null},Er=$t(Tt),Ir=()=>{Er.set(Tt)};function Cr(n){let e;const o=n[0].default,t=ct(o,n,n[1],null);return{c(){t&&t.c()},l(r){t&&t.l(r)},m(r,l){t&&t.m(r,l),e=!0},p(r,l){t&&t.p&&(!e||l&2)&&mt(t,o,r,r[1],e?_t(o,r[1],l,null):pt(r[1]),null)},i(r){e||(p(t,r),e=!0)},o(r){w(t,r),e=!1},d(r){t&&t.d(r)}}}function Dr(n){let e,o;return e=new vr({props:{$$slots:{default:[Cr]},$$scope:{ctx:n}}}),{c(){T(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,r){R(e,t,r),o=!0},p(t,[r]){const l={};r&2&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){o||(p(e.$$.fragment,t),o=!0)},o(t){w(e.$$.fragment,t),o=!1},d(t){S(e,t)}}}function Ar(n,e,o){let{$$slots:t={},$$scope:r}=e;return ut(()=>{Ir()}),n.$$set=l=>{"$$scope"in l&&o(1,r=l.$$scope)},[t,r]}class En extends pe{constructor(e){super(),_e(this,e,Ar,Dr,me,{})}}export{En as component};

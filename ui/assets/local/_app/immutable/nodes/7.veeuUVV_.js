import{s as me,h as O,b as F,t as G,j as Q,k as j,f as h,d as L,l as K,m as z,i as y,n as M,q as le,c as Y,v as ie,L as oe,T as se,M as ft,w as ne,x as ce,y as at,a1 as Rt,a7 as it,S as Pt,ac as ut,a as ct,u as mt,g as pt,e as _t}from"../chunks/scheduler.QPr9T_9m.js";import{S as pe,i as _e,c as A,a as T,m as R,t as p,b as w,d as P,f as fe,g as x,e as ee,h as dt}from"../chunks/index.InrFPQ3N.js";import{p as Se}from"../chunks/stores.Shlsi1F6.js";import{v as St}from"../chunks/data-encoder-settings.uINzth0T.js";import{L as We}from"../chunks/link.huaSYVjr.js";import{t as D}from"../chunks/translate.HrioCK44.js";import{w as gt,j as Wt,k as yt,l as Vt,m as Be,b as Mt}from"../chunks/workflows.9RGe0ckC.js";import{e as Re,s as He,b as ue,u as ve,v as Ee,w as Ie,c as Ce,x as De,y as Ae}from"../chunks/route-for.2cJY6huW.js";import{B as Nt}from"../chunks/button.oBrIWO9B.js";import{L as Bt}from"../chunks/loading.fV2UyEJG.js";import{a as wt}from"../chunks/index.i7f-FHed.js";import{e as Pe}from"../chunks/each.h9bIy8OL.js";import{w as $t,g as qe}from"../chunks/entry.1dvm2pHP.js";import{w as Ht,a as qt,b as Ft,C as Lt,T as Ut}from"../chunks/workflow-terminate-enabled.DUW6HWXn.js";import{C as Ot}from"../chunks/checkbox.dl3PTr3y.js";import{I as ht}from"../chunks/input.XCuXoilF.js";import{M as kt}from"../chunks/modal.mnLHmsCU.js";import{R as Qt,a as jt}from"../chunks/radio-input.FpWily6q.js";import{R as Fe}from"../chunks/workflow-actions.-K4W_iAA.js";import{r as bt,f as Te,b as Le,p as zt,c as Ue,t as Oe}from"../chunks/events.wT1ao4UG.js";import{p as Jt}from"../chunks/persist-store.deNGunIt.js";import{i as vt}from"../chunks/is-network-error.IFy5ryNl.js";import{C as Yt}from"../chunks/code-block.VrAPlZz7.js";import{t as Gt}from"../chunks/toaster.7kGGBOe9.js";import{B as Kt}from"../chunks/button.R13wuqbG.js";import{I as Xt}from"../chunks/icon.X1VhljBl.js";import{c as Ne}from"../chunks/menu.nm85xTG-.js";import{M as Et}from"../chunks/menu-divider.KCgGBHKV.js";import{S as It}from"../chunks/split-button.CMZH0da6.js";import{T as Ct}from"../chunks/tooltip.BAgIs7nl.js";import{c as Zt}from"../chunks/core-user.mHDyzD0R.js";import{r as ke,w as he,i as xt}from"../chunks/workflow-run.rgohdhyW.js";import{w as Ve}from"../chunks/workflow-create-disabled.NNlp79xT.js";import{W as er}from"../chunks/workflow-status.5I2RWe08.js";import{C as tr}from"../chunks/compatibility-badge.bp5i3TtA.js";import{k as rr,j as or}from"../chunks/pollers-service.VWaEV-N-.js";import{A as Dt}from"../chunks/alert.HWSXvk54.js";import{B as ye}from"../chunks/badge.h1mAqJR8.js";import{C as nr}from"../chunks/index.FhF01PvG.js";import{T as lr,a as sr,b as ge}from"../chunks/tab.bkVbyatl.js";import{n as fr}from"../chunks/namespaces.LNzQHh4R.js";import{g as ar}from"../chunks/get-workflow-relationships.1yCPXFo_.js";import{h as ir}from"../chunks/has.BboW8cQC.js";import{e as ur,d as cr}from"../chunks/decode-payload.78PWIVhK.js";import{a as mr}from"../chunks/auth-user.uBRyYaJt.js";import{r as pr}from"../chunks/is-http.KV7W7aqN.js";import{c as _r}from"../chunks/copy-to-clipboard.VjUU4UhS.js";import{s as Me}from"../chunks/parse-with-big-int.jPY5aC0s.js";function dr(n){let e=D("workflows.back-to-workflows")+"",r;return{c(){r=G(e)},l(t){r=K(t,e)},m(t,o){y(t,r,o)},p:ie,d(t){t&&h(r)}}}function gr(n){var g,E;let e,r,t,o,l,s,a=(((g=n[0])==null?void 0:g.statusCode)??"500")+"",f,i,c,d,v,$,m=(((E=n[0])==null?void 0:E.statusText)??"")+"",u,_;return t=new We({props:{href:`${Re({namespace:n[2]})}?${n[3]}`,"data-testid":"back-to-workflows",icon:"chevron-left",$$slots:{default:[dr]},$$scope:{ctx:n}}}),{c(){e=O("header"),r=O("div"),A(t.$$.fragment),o=F(),l=O("div"),s=O("h1"),f=G(a),i=F(),c=O("p"),d=G(n[1]),v=F(),$=O("p"),u=G(m),this.h()},l(b){e=Q(b,"HEADER",{class:!0});var C=j(e);r=Q(C,"DIV",{class:!0});var V=j(r);T(t.$$.fragment,V),V.forEach(h),C.forEach(h),o=L(b),l=Q(b,"DIV",{class:!0});var k=j(l);s=Q(k,"H1",{class:!0});var I=j(s);f=K(I,a),I.forEach(h),i=L(k),c=Q(k,"P",{class:!0});var B=j(c);d=K(B,n[1]),B.forEach(h),v=L(k),$=Q(k,"P",{class:!0});var q=j($);u=K(q,m),q.forEach(h),k.forEach(h),this.h()},h(){z(r,"class","mb-4 block"),z(e,"class","mb-4 flex flex-col gap-1"),z(s,"class","leading-0 text-[12rem] font-semibold"),z(c,"class","-mt-12 text-lg"),z($,"class","text-2xl font-bold text-red-700"),z(l,"class","text-center align-middle")},m(b,C){y(b,e,C),M(e,r),R(t,r,null),y(b,o,C),y(b,l,C),M(l,s),M(s,f),M(l,i),M(l,c),M(c,d),M(l,v),M(l,$),M($,u),_=!0},p(b,[C]){var k,I;const V={};C&12&&(V.href=`${Re({namespace:b[2]})}?${b[3]}`),C&32&&(V.$$scope={dirty:C,ctx:b}),t.$set(V),(!_||C&1)&&a!==(a=(((k=b[0])==null?void 0:k.statusCode)??"500")+"")&&le(f,a),(!_||C&2)&&le(d,b[1]),(!_||C&1)&&m!==(m=(((I=b[0])==null?void 0:I.statusText)??"")+"")&&le(u,m)},i(b){_||(p(t.$$.fragment,b),_=!0)},o(b){w(t.$$.fragment,b),_=!1},d(b){b&&(h(e),h(o),h(l)),P(t)}}}function wr(n,e,r){let t,o,l,s;Y(n,Se,f=>r(4,l=f)),Y(n,gt,f=>r(3,s=f));let{error:a}=e;return n.$$set=f=>{"error"in f&&r(0,a=f.error)},n.$$.update=()=>{n.$$.dirty&16&&r(2,{namespace:t}=l.params,t),n.$$.dirty&1&&r(1,o=a.statusCode===404?D("workflows.workflow-404-title"):D("workflows.workflow-error-title"))},[a,o,t,s,l]}class $r extends pe{constructor(e){super(),_e(this,e,wr,gr,me,{error:0})}}const At=Jt("resetWorkflows",{});function Qe(n,e,r){const t=n.slice();return t[18]=e[r],t}function hr(n){let e,r=D("workflows.reset-modal-title")+"",t;return{c(){e=O("h3"),t=G(r),this.h()},l(o){e=Q(o,"H3",{slot:!0});var l=j(e);t=K(l,r),l.forEach(h),this.h()},h(){z(e,"slot","title")},m(o,l){y(o,e,l),M(e,t)},p:ie,d(o){o&&h(e)}}}function je(n){let e,r;return e=new jt({props:{id:"reset-event-"+n[18].id,value:n[18].id,label:n[18].id+" - "+n[18].eventType}}),{c(){A(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,o){R(e,t,o),r=!0},p(t,o){const l={};o&64&&(l.id="reset-event-"+t[18].id),o&64&&(l.value=t[18].id),o&64&&(l.label=t[18].id+" - "+t[18].eventType),e.$set(l)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),r=!1},d(t){P(e,t)}}}function kr(n){let e,r,t=Pe(n[6]),o=[];for(let s=0;s<t.length;s+=1)o[s]=je(Qe(n,t,s));const l=s=>w(o[s],1,1,()=>{o[s]=null});return{c(){for(let s=0;s<o.length;s+=1)o[s].c();e=ce()},l(s){for(let a=0;a<o.length;a+=1)o[a].l(s);e=ce()},m(s,a){for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(s,a);y(s,e,a),r=!0},p(s,a){if(a&64){t=Pe(s[6]);let f;for(f=0;f<t.length;f+=1){const i=Qe(s,t,f);o[f]?(o[f].p(i,a),p(o[f],1)):(o[f]=je(i),o[f].c(),p(o[f],1),o[f].m(e.parentNode,e))}for(x(),f=t.length;f<o.length;f+=1)l(f);ee()}},i(s){if(!r){for(let a=0;a<t.length;a+=1)p(o[a]);r=!0}},o(s){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)w(o[a]);r=!1},d(s){s&&h(e),at(o,s)}}}function br(n){let e,r,t,o,l,s,a,f,i;r=new Qt({props:{name:"reset-event-id",group:n[7],class:"max-h-40 overflow-auto",description:D("workflows.reset-event-radio-group-description"),$$slots:{default:[kr]},$$scope:{ctx:n}}});function c(m){n[12](m)}let d={id:"reset-reapply-type-checkbox",label:D("workflows.reset-reapply-type-label")};n[5]!==void 0&&(d.checked=n[5]),o=new Ot({props:d}),oe.push(()=>fe(o,"checked",c));function v(m){n[13](m)}let $={id:"reset-reason",label:D("common.reason")};return n[4]!==void 0&&($.value=n[4]),a=new ht({props:$}),oe.push(()=>fe(a,"value",v)),{c(){e=O("div"),A(r.$$.fragment),t=F(),A(o.$$.fragment),s=F(),A(a.$$.fragment),this.h()},l(m){e=Q(m,"DIV",{class:!0});var u=j(e);T(r.$$.fragment,u),t=L(u),T(o.$$.fragment,u),s=L(u),T(a.$$.fragment,u),u.forEach(h),this.h()},h(){z(e,"class","flex w-full flex-col gap-4")},m(m,u){y(m,e,u),R(r,e,null),M(e,t),R(o,e,null),M(e,s),R(a,e,null),i=!0},p(m,u){const _={};u&2097216&&(_.$$scope={dirty:u,ctx:m}),r.$set(_);const g={};!l&&u&32&&(l=!0,g.checked=m[5],se(()=>l=!1)),o.$set(g);const E={};!f&&u&16&&(f=!0,E.value=m[4],se(()=>f=!1)),a.$set(E)},i(m){i||(p(r.$$.fragment,m),p(o.$$.fragment,m),p(a.$$.fragment,m),i=!0)},o(m){w(r.$$.fragment,m),w(o.$$.fragment,m),w(a.$$.fragment,m),i=!1},d(m){m&&h(e),P(r),P(o),P(a)}}}function vr(n){let e,r,t,o;function l(f){n[14](f)}function s(f){n[15](f)}let a={id:"reset-confirmation-modal","data-testid":"reset-confirmation-modal",confirmText:D("common.confirm"),cancelText:D("common.cancel"),loading:n[3],confirmDisabled:!n[7],$$slots:{content:[br],title:[hr]},$$scope:{ctx:n}};return n[2]!==void 0&&(a.error=n[2]),n[0]!==void 0&&(a.open=n[0]),e=new kt({props:a}),oe.push(()=>fe(e,"error",l)),oe.push(()=>fe(e,"open",s)),e.$on("confirmModal",n[9]),e.$on("cancelModal",n[8]),{c(){A(e.$$.fragment)},l(f){T(e.$$.fragment,f)},m(f,i){R(e,f,i),o=!0},p(f,[i]){const c={};i&8&&(c.loading=f[3]),i&2097264&&(c.$$scope={dirty:i,ctx:f}),!r&&i&4&&(r=!0,c.error=f[2],se(()=>r=!1)),!t&&i&1&&(t=!0,c.open=f[0],se(()=>t=!1)),e.$set(c)},i(f){o||(p(e.$$.fragment,f),o=!0)},o(f){w(e.$$.fragment,f),o=!1},d(f){P(e,f)}}}function Er(n,e,r){let t,o=ie,l=()=>(o(),o=ft(d,I=>r(16,t=I)),d),s,a;Y(n,bt,I=>r(6,a=I)),n.$$.on_destroy.push(()=>o());let{open:f}=e,{workflow:i}=e,{namespace:c}=e,{refresh:d}=e;l();let v="",$=!1,m=$t("");Y(n,m,I=>r(17,s=I));let u,_=!1;const g=()=>{r(0,f=!1),r(5,_=!1),ne(m,s="",s),r(4,u="")},E=async()=>{r(2,v=""),r(3,$=!0);try{const I=await Wt({namespace:c,workflow:i,eventId:s,reason:u,reapplyType:_?Fe.Signal:Fe.None});I&&I.runId&&At.update(B=>({...B,[i.runId]:I.runId})),ne(d,t=Date.now(),t),g()}catch(I){r(2,v=vt(I)?I.message:D("common.unknown-error"))}finally{r(3,$=!1)}g()};function b(I){_=I,r(5,_)}function C(I){u=I,r(4,u)}function V(I){v=I,r(2,v)}function k(I){f=I,r(0,f)}return n.$$set=I=>{"open"in I&&r(0,f=I.open),"workflow"in I&&r(10,i=I.workflow),"namespace"in I&&r(11,c=I.namespace),"refresh"in I&&l(r(1,d=I.refresh))},[f,d,v,$,u,_,a,m,g,E,i,c,b,C,V,k]}class Ir extends pe{constructor(e){super(),_e(this,e,Er,vr,me,{open:0,workflow:10,namespace:11,refresh:1})}}function Cr(n){let e,r=D("workflows.signal-modal-title")+"",t;return{c(){e=O("h3"),t=G(r),this.h()},l(o){e=Q(o,"H3",{slot:!0});var l=j(e);t=K(l,r),l.forEach(h),this.h()},h(){z(e,"slot","title")},m(o,l){y(o,e,l),M(e,t)},p:ie,d(o){o&&h(e)}}}function Dr(n){let e,r,t,o,l,s,a=D("workflows.signal-payload-input-label")+"",f,i,c,d=D("workflows.signal-payload-input-label-hint")+"",v,$,m,u;function _(b){n[12](b)}let g={id:"signal-name",label:D("workflows.signal-name-label"),required:!0};n[4]!==void 0&&(g.value=n[4]),r=new ht({props:g}),oe.push(()=>fe(r,"value",_));let E={maxHeight:320,content:n[5],editable:!0,copyable:!1};return m=new Yt({props:E}),n[13](m),m.$on("change",n[9]),{c(){e=O("div"),A(r.$$.fragment),o=F(),l=O("div"),s=O("span"),f=G(a),i=F(),c=O("span"),v=G(d),$=F(),A(m.$$.fragment),this.h()},l(b){e=Q(b,"DIV",{slot:!0,class:!0});var C=j(e);T(r.$$.fragment,C),o=L(C),l=Q(C,"DIV",{});var V=j(l);s=Q(V,"SPAN",{class:!0});var k=j(s);f=K(k,a),k.forEach(h),i=L(V),c=Q(V,"SPAN",{class:!0});var I=j(c);v=K(I,d),I.forEach(h),$=L(V),T(m.$$.fragment,V),V.forEach(h),C.forEach(h),this.h()},h(){z(s,"class","text-sm font-medium"),z(c,"class","text-xs font-light italic"),z(e,"slot","content"),z(e,"class","flex flex-col gap-4")},m(b,C){y(b,e,C),R(r,e,null),M(e,o),M(e,l),M(l,s),M(s,f),M(l,i),M(l,c),M(c,v),M(l,$),R(m,l,null),u=!0},p(b,C){const V={};!t&&C&16&&(t=!0,V.value=b[4],se(()=>t=!1)),r.$set(V);const k={};C&32&&(k.content=b[5]),m.$set(k)},i(b){u||(p(r.$$.fragment,b),p(m.$$.fragment,b),u=!0)},o(b){w(r.$$.fragment,b),w(m.$$.fragment,b),u=!1},d(b){b&&h(e),P(r),n[13](null),P(m)}}}function Ar(n){let e,r,t,o;function l(f){n[14](f)}function s(f){n[15](f)}let a={id:"signal-confirmation-modal","data-testid":"signal-confirmation-modal",loading:n[3],confirmText:D("common.submit"),cancelText:D("common.cancel"),confirmDisabled:!n[4],$$slots:{content:[Dr],title:[Cr]},$$scope:{ctx:n}};return n[2]!==void 0&&(a.error=n[2]),n[0]!==void 0&&(a.open=n[0]),e=new kt({props:a}),oe.push(()=>fe(e,"error",l)),oe.push(()=>fe(e,"open",s)),e.$on("cancelModal",n[7]),e.$on("confirmModal",n[8]),{c(){A(e.$$.fragment)},l(f){T(e.$$.fragment,f)},m(f,i){R(e,f,i),o=!0},p(f,[i]){const c={};i&8&&(c.loading=f[3]),i&16&&(c.confirmDisabled=!f[4]),i&131184&&(c.$$scope={dirty:i,ctx:f}),!r&&i&4&&(r=!0,c.error=f[2],se(()=>r=!1)),!t&&i&1&&(t=!0,c.open=f[0],se(()=>t=!1)),e.$set(c)},i(f){o||(p(e.$$.fragment,f),o=!0)},o(f){w(e.$$.fragment,f),o=!1},d(f){P(e,f)}}}function Tr(n,e,r){let t,o=ie,l=()=>(o(),o=ft(i,k=>r(16,t=k)),i);n.$$.on_destroy.push(()=>o());let{open:s}=e,{workflow:a}=e,{namespace:f}=e,{refresh:i}=e;l();let c="",d=!1,v="",$="",m;const u=()=>{r(0,s=!1),r(5,$=""),r(4,v=""),m==null||m.resetView($)},_=async()=>{r(2,c=""),r(3,d=!0);try{await yt({namespace:f,workflow:a,input:$,name:v}),ne(i,t=Date.now(),t),Gt.push({message:D("workflows.signal-success"),id:"workflow-signal-success-toast"}),u()}catch(k){r(2,c=vt(k)?k.message:D("common.unknown-error"))}finally{r(3,d=!1)}},g=k=>{r(5,$=k.detail)};function E(k){v=k,r(4,v)}function b(k){oe[k?"unshift":"push"](()=>{m=k,r(6,m)})}function C(k){c=k,r(2,c)}function V(k){s=k,r(0,s)}return n.$$set=k=>{"open"in k&&r(0,s=k.open),"workflow"in k&&r(10,a=k.workflow),"namespace"in k&&r(11,f=k.namespace),"refresh"in k&&l(r(1,i=k.refresh))},[s,i,c,d,v,$,m,u,_,g,a,f,E,b,C,V]}class Rr extends pe{constructor(e){super(),_e(this,e,Tr,Ar,me,{open:0,workflow:10,namespace:11,refresh:1})}}const Pr=(n,e,r)=>!n.disableWriteActions&&!n.workflowSignalDisabled&&!e.namespaceWriteDisabled(r);function ze(n,e,r){const t=n.slice();return t[31]=e[r].onClick,t[32]=e[r].destructive,t[33]=e[r].label,t[34]=e[r].enabled,t[35]=e[r].testId,t[36]=e[r].tooltip,t}function Sr(n){let e,r;return e=new Ct({props:{bottomRight:!0,width:200,text:n[4],hide:n[7],$$slots:{default:[Mr]},$$scope:{ctx:n}}}),{c(){A(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,o){R(e,t,o),r=!0},p(t,o){const l={};o[0]&16&&(l.text=t[4]),o[0]&128&&(l.hide=t[7]),o[0]&2176|o[1]&256&&(l.$$scope={dirty:o,ctx:t}),e.$set(l)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),r=!1},d(t){P(e,t)}}}function Wr(n){let e,r;return e=new It({props:{id:"workflow-actions",position:"right",primaryActionDisabled:!n[7],label:D("workflows.reset"),menuLabel:D("workflows.workflow-actions"),$$slots:{default:[Br]},$$scope:{ctx:n}}}),e.$on("click",n[25]),{c(){A(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,o){R(e,t,o),r=!0},p(t,o){const l={};o[0]&128&&(l.primaryActionDisabled=!t[7]),o[0]&3|o[1]&256&&(l.$$scope={dirty:o,ctx:t}),e.$set(l)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),r=!1},d(t){P(e,t)}}}function yr(n){let e,r;return e=new It({props:{id:"workflow-actions",position:"right",disabled:n[14],primaryActionDisabled:!n[15]||n[2],label:D("workflows.request-cancellation"),menuLabel:D("workflows.workflow-actions"),$$slots:{default:[Lr]},$$scope:{ctx:n}}}),e.$on("click",n[23]),{c(){A(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,o){R(e,t,o),r=!0},p(t,o){const l={};o[0]&16384&&(l.disabled=t[14]),o[0]&32772&&(l.primaryActionDisabled=!t[15]||t[2]),o[0]&8451|o[1]&256&&(l.$$scope={dirty:o,ctx:t}),e.$set(l)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),r=!1},d(t){P(e,t)}}}function Vr(n){let e=D("workflows.reset")+"",r;return{c(){r=G(e)},l(t){r=K(t,e)},m(t,o){y(t,r,o)},p:ie,d(t){t&&h(r)}}}function Mr(n){let e,r;return e=new Kt({props:{"aria-label":D("workflows.reset"),disabled:!n[7],variant:"primary","data-testid":"workflow-reset-button",$$slots:{default:[Vr]},$$scope:{ctx:n}}}),e.$on("click",n[26]),{c(){A(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,o){R(e,t,o),r=!0},p(t,o){const l={};o[0]&128&&(l.disabled=!t[7]),o[1]&256&&(l.$$scope={dirty:o,ctx:t}),e.$set(l)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),r=!1},d(t){P(e,t)}}}function Nr(n){let e=D("workflows.start-workflow-like-this-one")+"",r;return{c(){r=G(e)},l(t){r=K(t,e)},m(t,o){y(t,r,o)},p:ie,d(t){t&&h(r)}}}function Br(n){let e,r;return e=new Ne({props:{"data-testid":"start-workflow-button",$$slots:{default:[Nr]},$$scope:{ctx:n}}}),e.$on("click",n[24]),{c(){A(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,o){R(e,t,o),r=!0},p(t,o){const l={};o[1]&256&&(l.$$scope={dirty:o,ctx:t}),e.$set(l)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),r=!1},d(t){P(e,t)}}}function Je(n){let e,r;return e=new Et({}),{c(){A(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,o){R(e,t,o),r=!0},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),r=!1},d(t){P(e,t)}}}function Hr(n){let e=n[33]+"",r;return{c(){r=G(e)},l(t){r=K(t,e)},m(t,o){y(t,r,o)},p(t,o){o[0]&8192&&e!==(e=t[33]+"")&&le(r,e)},d(t){t&&h(r)}}}function qr(n){let e,r;return e=new Ne({props:{destructive:n[32],disabled:!n[34],"data-testid":n[35],$$slots:{default:[Hr]},$$scope:{ctx:n}}}),e.$on("click",function(){Rt(n[31])&&n[31].apply(this,arguments)}),{c(){A(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,o){R(e,t,o),r=!0},p(t,o){n=t;const l={};o[0]&8192&&(l.destructive=n[32]),o[0]&8192&&(l.disabled=!n[34]),o[0]&8192&&(l["data-testid"]=n[35]),o[0]&8192|o[1]&256&&(l.$$scope={dirty:o,ctx:n}),e.$set(l)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),r=!1},d(t){P(e,t)}}}function Ye(n){let e,r,t,o=n[32]&&Je();return r=new Ct({props:{text:n[36],hide:!n[36],width:200,left:!0,$$slots:{default:[qr]},$$scope:{ctx:n}}}),{c(){o&&o.c(),e=F(),A(r.$$.fragment)},l(l){o&&o.l(l),e=L(l),T(r.$$.fragment,l)},m(l,s){o&&o.m(l,s),y(l,e,s),R(r,l,s),t=!0},p(l,s){l[32]?o?s[0]&8192&&p(o,1):(o=Je(),o.c(),p(o,1),o.m(e.parentNode,e)):o&&(x(),w(o,1,1,()=>{o=null}),ee());const a={};s[0]&8192&&(a.text=l[36]),s[0]&8192&&(a.hide=!l[36]),s[0]&8192|s[1]&256&&(a.$$scope={dirty:s,ctx:l}),r.$set(a)},i(l){t||(p(o),p(r.$$.fragment,l),t=!0)},o(l){w(o),w(r.$$.fragment,l),t=!1},d(l){l&&h(e),o&&o.d(l),P(r,l)}}}function Ge(n){let e,r,t,o;return e=new Et({}),t=new Ne({props:{"data-testid":"start-workflow-button",$$slots:{default:[Fr]},$$scope:{ctx:n}}}),t.$on("click",n[22]),{c(){A(e.$$.fragment),r=F(),A(t.$$.fragment)},l(l){T(e.$$.fragment,l),r=L(l),T(t.$$.fragment,l)},m(l,s){R(e,l,s),y(l,r,s),R(t,l,s),o=!0},p(l,s){const a={};s[1]&256&&(a.$$scope={dirty:s,ctx:l}),t.$set(a)},i(l){o||(p(e.$$.fragment,l),p(t.$$.fragment,l),o=!0)},o(l){w(e.$$.fragment,l),w(t.$$.fragment,l),o=!1},d(l){l&&h(r),P(e,l),P(t,l)}}}function Fr(n){let e=D("workflows.start-workflow-like-this-one")+"",r;return{c(){r=G(e)},l(t){r=K(t,e)},m(t,o){y(t,r,o)},p:ie,d(t){t&&h(r)}}}function Lr(n){let e,r=!Ve(n[8]),t,o,l=Pe(n[13]),s=[];for(let i=0;i<l.length;i+=1)s[i]=Ye(ze(n,l,i));const a=i=>w(s[i],1,1,()=>{s[i]=null});let f=r&&Ge(n);return{c(){for(let i=0;i<s.length;i+=1)s[i].c();e=F(),f&&f.c(),t=ce()},l(i){for(let c=0;c<s.length;c+=1)s[c].l(i);e=L(i),f&&f.l(i),t=ce()},m(i,c){for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(i,c);y(i,e,c),f&&f.m(i,c),y(i,t,c),o=!0},p(i,c){if(c[0]&8192){l=Pe(i[13]);let d;for(d=0;d<l.length;d+=1){const v=ze(i,l,d);s[d]?(s[d].p(v,c),p(s[d],1)):(s[d]=Ye(v),s[d].c(),p(s[d],1),s[d].m(e.parentNode,e))}for(x(),d=l.length;d<s.length;d+=1)a(d);ee()}c[0]&256&&(r=!Ve(i[8])),r?f?(f.p(i,c),c[0]&256&&p(f,1)):(f=Ge(i),f.c(),p(f,1),f.m(t.parentNode,t)):f&&(x(),w(f,1,1,()=>{f=null}),ee())},i(i){if(!o){for(let c=0;c<l.length;c+=1)p(s[c]);p(f),o=!0}},o(i){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)w(s[c]);w(f),o=!1},d(i){i&&(h(e),h(t)),at(s,i),f&&f.d(i)}}}function Ke(n){let e,r,t;function o(s){n[27](s)}let l={refresh:ke,workflow:n[0],namespace:n[1]};return n[11]!==void 0&&(l.open=n[11]),e=new Ir({props:l}),oe.push(()=>fe(e,"open",o)),{c(){A(e.$$.fragment)},l(s){T(e.$$.fragment,s)},m(s,a){R(e,s,a),t=!0},p(s,a){const f={};a[0]&1&&(f.workflow=s[0]),a[0]&2&&(f.namespace=s[1]),!r&&a[0]&2048&&(r=!0,f.open=s[11],se(()=>r=!1)),e.$set(f)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){w(e.$$.fragment,s),t=!1},d(s){P(e,s)}}}function Xe(n){let e,r,t;function o(s){n[28](s)}let l={refresh:ke,workflow:n[0],namespace:n[1]};return n[12]!==void 0&&(l.open=n[12]),e=new Rr({props:l}),oe.push(()=>fe(e,"open",o)),{c(){A(e.$$.fragment)},l(s){T(e.$$.fragment,s)},m(s,a){R(e,s,a),t=!0},p(s,a){const f={};a[0]&1&&(f.workflow=s[0]),a[0]&2&&(f.namespace=s[1]),!r&&a[0]&4096&&(r=!0,f.open=s[12],se(()=>r=!1)),e.$set(f)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){w(e.$$.fragment,s),t=!1},d(s){P(e,s)}}}function Ze(n){let e,r,t;function o(s){n[29](s)}let l={refresh:ke,workflow:n[0],namespace:n[1]};return n[9]!==void 0&&(l.open=n[9]),e=new Lt({props:l}),oe.push(()=>fe(e,"open",o)),{c(){A(e.$$.fragment)},l(s){T(e.$$.fragment,s)},m(s,a){R(e,s,a),t=!0},p(s,a){const f={};a[0]&1&&(f.workflow=s[0]),a[0]&2&&(f.namespace=s[1]),!r&&a[0]&512&&(r=!0,f.open=s[9],se(()=>r=!1)),e.$set(f)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){w(e.$$.fragment,s),t=!1},d(s){P(e,s)}}}function xe(n){let e,r,t;function o(s){n[30](s)}let l={refresh:ke,workflow:n[0],namespace:n[1]};return n[10]!==void 0&&(l.open=n[10]),e=new Ut({props:l}),oe.push(()=>fe(e,"open",o)),{c(){A(e.$$.fragment)},l(s){T(e.$$.fragment,s)},m(s,a){R(e,s,a),t=!0},p(s,a){const f={};a[0]&1&&(f.workflow=s[0]),a[0]&2&&(f.namespace=s[1]),!r&&a[0]&1024&&(r=!0,f.open=s[10],se(()=>r=!1)),e.$set(f)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){w(e.$$.fragment,s),t=!1},d(s){P(e,s)}}}function Ur(n){let e,r,t,o,l,s,a,f,i;const c=[yr,Wr,Sr],d=[];function v(g,E){return E[0]&256&&(e=null),g[3]?0:(e==null&&(e=!Ve(g[8])),e?1:2)}r=v(n,[-1,-1]),t=d[r]=c[r](n);let $=n[7]&&Ke(n),m=n[6]&&Xe(n),u=n[15]&&Ze(n),_=n[5]&&xe(n);return{c(){t.c(),o=F(),$&&$.c(),l=F(),m&&m.c(),s=F(),u&&u.c(),a=F(),_&&_.c(),f=ce()},l(g){t.l(g),o=L(g),$&&$.l(g),l=L(g),m&&m.l(g),s=L(g),u&&u.l(g),a=L(g),_&&_.l(g),f=ce()},m(g,E){d[r].m(g,E),y(g,o,E),$&&$.m(g,E),y(g,l,E),m&&m.m(g,E),y(g,s,E),u&&u.m(g,E),y(g,a,E),_&&_.m(g,E),y(g,f,E),i=!0},p(g,E){let b=r;r=v(g,E),r===b?d[r].p(g,E):(x(),w(d[b],1,1,()=>{d[b]=null}),ee(),t=d[r],t?t.p(g,E):(t=d[r]=c[r](g),t.c()),p(t,1),t.m(o.parentNode,o)),g[7]?$?($.p(g,E),E[0]&128&&p($,1)):($=Ke(g),$.c(),p($,1),$.m(l.parentNode,l)):$&&(x(),w($,1,1,()=>{$=null}),ee()),g[6]?m?(m.p(g,E),E[0]&64&&p(m,1)):(m=Xe(g),m.c(),p(m,1),m.m(s.parentNode,s)):m&&(x(),w(m,1,1,()=>{m=null}),ee()),g[15]?u?(u.p(g,E),E[0]&32768&&p(u,1)):(u=Ze(g),u.c(),p(u,1),u.m(a.parentNode,a)):u&&(x(),w(u,1,1,()=>{u=null}),ee()),g[5]?_?(_.p(g,E),E[0]&32&&p(_,1)):(_=xe(g),_.c(),p(_,1),_.m(f.parentNode,f)):_&&(x(),w(_,1,1,()=>{_=null}),ee())},i(g){i||(p(t),p($),p(m),p(u),p(_),i=!0)},o(g){w(t),w($),w(m),w(u),w(_),i=!1},d(g){g&&(h(o),h(l),h(s),h(a),h(f)),d[r].d(g),$&&$.d(g),m&&m.d(g),u&&u.d(g),_&&_.d(g)}}}function Or(n,e,r){let t,o,l,s,a,f,i,c,d;Y(n,bt,H=>r(20,i=H)),Y(n,Se,H=>r(8,d=H));var v,$;let{workflow:m}=e,{namespace:u}=e,{cancelInProgress:_}=e,{isRunning:g}=e,E=!1,b=!1,C=!1,V=!1,k,I=Zt();Y(n,I,H=>r(21,c=H));let B;const q=()=>qe(He({namespace:u,workflowId:m.id,taskQueue:m.taskQueue,workflowType:m.name})),N=()=>r(9,E=!0),J=()=>qe(He({namespace:u,workflowId:m.id,taskQueue:m.taskQueue,workflowType:m.name})),we=()=>r(11,C=!0),$e=()=>r(11,C=!0);function S(H){C=H,r(11,C),r(7,a),r(4,k),r(6,o),r(5,l),r(19,s),r(0,m),r(20,i),r(17,v),r(18,$),r(8,d),r(21,c),r(1,u)}function U(H){V=H,r(12,V),r(7,a),r(4,k),r(6,o),r(5,l),r(19,s),r(0,m),r(20,i),r(17,v),r(18,$),r(8,d),r(21,c),r(1,u)}function W(H){E=H,r(9,E)}function X(H){b=H,r(10,b),r(7,a),r(4,k),r(6,o),r(5,l),r(19,s),r(0,m),r(20,i),r(17,v),r(18,$),r(8,d),r(21,c),r(1,u)}return n.$$set=H=>{"workflow"in H&&r(0,m=H.workflow),"namespace"in H&&r(1,u=H.namespace),"cancelInProgress"in H&&r(2,_=H.cancelInProgress),"isRunning"in H&&r(3,g=H.isRunning)},n.$$.update=()=>{n.$$.dirty[0]&2097410&&r(15,t=Ht(d.data.settings,c,u)),n.$$.dirty[0]&2097410&&r(6,o=Pr(d.data.settings,c,u)),n.$$.dirty[0]&2097410&&r(5,l=qt(d.data.settings,c,u)),n.$$.dirty[0]&2097410&&r(19,s=Ft(d.data.settings,c,u)),n.$$.dirty[0]&1572865&&r(7,a=s&&m.pendingChildren.length===0&&i.length>0),n.$$.dirty[0]&224&&r(14,f=!a&&!o&&!l),n.$$.dirty[0]&1966081&&(s?s&&(r(17,v=m==null?void 0:m.pendingChildren)===null||v===void 0?void 0:v.length)>0?r(4,k=D("workflows.reset-disabled-pending-children")):s&&(r(18,$=m==null?void 0:m.pendingChildren)===null||$===void 0?void 0:$.length)===0&&i.length===0&&r(4,k=D("workflows.reset-disabled-no-events")):r(4,k=D("workflows.reset-disabled-unauthorized"))),n.$$.dirty[0]&240&&r(13,B=[{label:D("workflows.reset"),onClick:()=>r(11,C=!0),testId:"reset-button",enabled:a,tooltip:a?"":k},{label:D("workflows.signal"),onClick:()=>r(12,V=!0),testId:"signal-button",enabled:o,tooltip:o?"":D("workflows.signal-disabled")},{label:D("workflows.terminate"),onClick:()=>r(10,b=!0),testId:"terminate-button",enabled:l,destructive:!0,tooltip:l?"":D("workflows.terminate-disabled")}])},[m,u,_,g,k,l,o,a,d,E,b,C,V,B,f,t,I,v,$,s,i,c,q,N,J,we,$e,S,U,W,X]}class Qr extends pe{constructor(e){super(),_e(this,e,Or,Ur,me,{workflow:0,namespace:1,cancelInProgress:2,isRunning:3},null,[-1,-1])}}function jr(n){let e,r,t=D("workers.buildId")+"",o,l,s;return l=new tr({props:{active:!0,buildId:n[0]}}),{c(){e=O("p"),r=O("span"),o=G(t),A(l.$$.fragment),this.h()},l(a){e=Q(a,"P",{class:!0});var f=j(e);r=Q(f,"SPAN",{});var i=j(r);o=K(i,t),i.forEach(h),T(l.$$.fragment,f),f.forEach(h),this.h()},h(){z(e,"class","flex items-center gap-1")},m(a,f){y(a,e,f),M(e,r),M(r,o),R(l,e,null),s=!0},p(a,[f]){const i={};f&1&&(i.buildId=a[0]),l.$set(i)},i(a){s||(p(l.$$.fragment,a),s=!0)},o(a){w(l.$$.fragment,a),s=!1},d(a){a&&h(e),P(l)}}}function zr(n,e,r){let t,{workflow:o}=e;return n.$$set=l=>{"workflow"in l&&r(1,o=l.workflow)},n.$$.update=()=>{n.$$.dirty&2&&r(0,t=rr(o))},[t,o]}class Jr extends pe{constructor(e){super(),_e(this,e,zr,jr,me,{workflow:1})}}const Yr=(n,e)=>{const r=n==="Running",t=e==null?void 0:e.some(o=>(o==null?void 0:o.eventType)==="WorkflowExecutionCancelRequested");return r&&t},et=n=>{const e=n==null?void 0:n.indexOf("?");return e>-1?n.slice(0,e):n},re=(n,e,r=!1)=>{const t=et(n).split("/"),o=et(e).split("/");if(r&&t.length!==o.length)return!1;for(let l=0;l<t.length;l++){const s=t[l],a=o[l];if(s!==a)return!1}return!0};function Gr(n){let e=(n[12]?D("common.workflows"):D("workflows.back-to-workflows"))+"",r;return{c(){r=G(e)},l(t){r=K(t,e)},m(t,o){y(t,r,o)},p(t,o){o&4096&&e!==(e=(t[12]?D("common.workflows"):D("workflows.back-to-workflows"))+"")&&le(r,e)},d(t){t&&h(r)}}}function tt(n){let e,r;return e=new We({props:{href:ue({...n[11]}),"data-testid":"back-to-workflow-execution",icon:"chevron-left",$$slots:{default:[Kr]},$$scope:{ctx:n}}}),{c(){A(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,o){R(e,t,o),r=!0},p(t,o){const l={};o&2048&&(l.href=ue({...t[11]})),o&8388610&&(l.$$scope={dirty:o,ctx:t}),e.$set(l)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),r=!1},d(t){P(e,t)}}}function Kr(n){var t;let e=((t=n[1])==null?void 0:t.runId)+"",r;return{c(){r=G(e)},l(o){r=K(o,e)},m(o,l){y(o,r,l)},p(o,l){var s;l&2&&e!==(e=((s=o[1])==null?void 0:s.runId)+"")&&le(r,e)},d(o){o&&h(r)}}}function rt(n){let e,r;return e=new Jr({props:{workflow:n[1]}}),{c(){A(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,o){R(e,t,o),r=!0},p(t,o){const l={};o&2&&(l.workflow=t[1]),e.$set(l)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),r=!1},d(t){P(e,t)}}}function Xr(n){var t;let e=((t=n[1])==null?void 0:t.historyEvents)+"",r;return{c(){r=G(e)},l(o){r=K(o,e)},m(o,l){y(o,r,l)},p(o,l){var s;l&2&&e!==(e=((s=o[1])==null?void 0:s.historyEvents)+"")&&le(r,e)},d(o){o&&h(r)}}}function Zr(n){let e,r;return e=new ye({props:{type:"primary",class:"px-2 py-0",$$slots:{default:[Xr]},$$scope:{ctx:n}}}),{c(){A(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,o){R(e,t,o),r=!0},p(t,o){const l={};o&8388610&&(l.$$scope={dirty:o,ctx:t}),e.$set(l)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),r=!1},d(t){P(e,t)}}}function xr(n){var t,o;let e=((o=(t=n[13])==null?void 0:t.pollers)==null?void 0:o.length)+"",r;return{c(){r=G(e)},l(l){r=K(l,e)},m(l,s){y(l,r,s)},p(l,s){var a,f;s&8192&&e!==(e=((f=(a=l[13])==null?void 0:a.pollers)==null?void 0:f.length)+"")&&le(r,e)},d(l){l&&h(r)}}}function eo(n){let e,r;return e=new ye({props:{type:"primary",class:"px-2 py-0",$$slots:{default:[xr]},$$scope:{ctx:n}}}),{c(){A(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,o){R(e,t,o),r=!0},p(t,o){const l={};o&8396800&&(l.$$scope={dirty:o,ctx:t}),e.$set(l)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),r=!1},d(t){P(e,t)}}}function to(n){let e=n[5].relationshipCount+"",r;return{c(){r=G(e)},l(t){r=K(t,e)},m(t,o){y(t,r,o)},p(t,o){o&32&&e!==(e=t[5].relationshipCount+"")&&le(r,e)},d(t){t&&h(r)}}}function ro(n){let e,r;return e=new ye({props:{type:"primary",class:"px-2 py-0",$$slots:{default:[to]},$$scope:{ctx:n}}}),{c(){A(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,o){R(e,t,o),r=!0},p(t,o){const l={};o&8388640&&(l.$$scope={dirty:o,ctx:t}),e.$set(l)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),r=!1},d(t){P(e,t)}}}function ot(n){let e,r;return e=new Xt({props:{name:"canceled"}}),{c(){A(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,o){R(e,t,o),r=!0},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),r=!1},d(t){P(e,t)}}}function oo(n){var a,f;let e,r,t=((f=(a=n[1])==null?void 0:a.pendingActivities)==null?void 0:f.length)+"",o,l,s=n[9]&&ot();return{c(){e=O("div"),s&&s.c(),r=F(),o=G(t),this.h()},l(i){e=Q(i,"DIV",{class:!0});var c=j(e);s&&s.l(c),r=L(c),o=K(c,t),c.forEach(h),this.h()},h(){z(e,"class","flex items-center gap-1")},m(i,c){y(i,e,c),s&&s.m(e,null),M(e,r),M(e,o),l=!0},p(i,c){var d,v;i[9]?s?c&512&&p(s,1):(s=ot(),s.c(),p(s,1),s.m(e,r)):s&&(x(),w(s,1,1,()=>{s=null}),ee()),(!l||c&2)&&t!==(t=((v=(d=i[1])==null?void 0:d.pendingActivities)==null?void 0:v.length)+"")&&le(o,t)},i(i){l||(p(s),l=!0)},o(i){w(s),l=!1},d(i){i&&h(e),s&&s.d()}}}function no(n){let e,r;return e=new ye({props:{type:n[9]?"warning":"primary",class:"px-2 py-0",$$slots:{default:[oo]},$$scope:{ctx:n}}}),{c(){A(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,o){R(e,t,o),r=!0},p(t,o){const l={};o&512&&(l.type=t[9]?"warning":"primary"),o&8389122&&(l.$$scope={dirty:o,ctx:t}),e.$set(l)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),r=!1},d(t){P(e,t)}}}function lo(n){let e,r,t,o,l,s,a,f,i,c,d,v,$,m;return e=new ge({props:{label:D("workflows.history-tab"),id:"history-tab",href:ue({...n[11]}),active:re(n[4].url.pathname,ue({...n[11]})),$$slots:{default:[Zr]},$$scope:{ctx:n}}}),t=new ge({props:{label:D("workflows.workers-tab"),id:"workers-tab",href:ve(n[11]),active:re(n[4].url.pathname,ve(n[11])),$$slots:{default:[eo]},$$scope:{ctx:n}}}),l=new ge({props:{label:D("workflows.relationships"),id:"relationships-tab",href:Ee(n[11]),active:re(n[4].url.pathname,Ee(n[11])),$$slots:{default:[ro]},$$scope:{ctx:n}}}),a=new ge({props:{label:D("workflows.pending-activities-tab"),id:"pending-activities-tab",href:Ie(n[11]),active:re(n[4].url.pathname,Ie(n[11])),$$slots:{default:[no]},$$scope:{ctx:n}}}),i=new ge({props:{label:D("workflows.call-stack-tab"),id:"call-stack-tab",href:Ce(n[11]),active:re(n[4].url.pathname,Ce(n[11]))}}),d=new ge({props:{label:D("workflows.queries-tab"),id:"queries-tab",href:De(n[11]),active:re(n[4].url.pathname,De(n[11]))}}),$=new ge({props:{label:D("workflows.metadata-tab"),id:"metadata-tab",href:Ae(n[11]),active:re(n[4].url.pathname,Ae(n[11]))}}),{c(){A(e.$$.fragment),r=F(),A(t.$$.fragment),o=F(),A(l.$$.fragment),s=F(),A(a.$$.fragment),f=F(),A(i.$$.fragment),c=F(),A(d.$$.fragment),v=F(),A($.$$.fragment)},l(u){T(e.$$.fragment,u),r=L(u),T(t.$$.fragment,u),o=L(u),T(l.$$.fragment,u),s=L(u),T(a.$$.fragment,u),f=L(u),T(i.$$.fragment,u),c=L(u),T(d.$$.fragment,u),v=L(u),T($.$$.fragment,u)},m(u,_){R(e,u,_),y(u,r,_),R(t,u,_),y(u,o,_),R(l,u,_),y(u,s,_),R(a,u,_),y(u,f,_),R(i,u,_),y(u,c,_),R(d,u,_),y(u,v,_),R($,u,_),m=!0},p(u,_){const g={};_&2048&&(g.href=ue({...u[11]})),_&2064&&(g.active=re(u[4].url.pathname,ue({...u[11]}))),_&8388610&&(g.$$scope={dirty:_,ctx:u}),e.$set(g);const E={};_&2048&&(E.href=ve(u[11])),_&2064&&(E.active=re(u[4].url.pathname,ve(u[11]))),_&8396800&&(E.$$scope={dirty:_,ctx:u}),t.$set(E);const b={};_&2048&&(b.href=Ee(u[11])),_&2064&&(b.active=re(u[4].url.pathname,Ee(u[11]))),_&8388640&&(b.$$scope={dirty:_,ctx:u}),l.$set(b);const C={};_&2048&&(C.href=Ie(u[11])),_&2064&&(C.active=re(u[4].url.pathname,Ie(u[11]))),_&8389122&&(C.$$scope={dirty:_,ctx:u}),a.$set(C);const V={};_&2048&&(V.href=Ce(u[11])),_&2064&&(V.active=re(u[4].url.pathname,Ce(u[11]))),i.$set(V);const k={};_&2048&&(k.href=De(u[11])),_&2064&&(k.active=re(u[4].url.pathname,De(u[11]))),d.$set(k);const I={};_&2048&&(I.href=Ae(u[11])),_&2064&&(I.active=re(u[4].url.pathname,Ae(u[11]))),$.$set(I)},i(u){m||(p(e.$$.fragment,u),p(t.$$.fragment,u),p(l.$$.fragment,u),p(a.$$.fragment,u),p(i.$$.fragment,u),p(d.$$.fragment,u),p($.$$.fragment,u),m=!0)},o(u){w(e.$$.fragment,u),w(t.$$.fragment,u),w(l.$$.fragment,u),w(a.$$.fragment,u),w(i.$$.fragment,u),w(d.$$.fragment,u),w($.$$.fragment,u),m=!1},d(u){u&&(h(r),h(o),h(s),h(f),h(c),h(v)),P(e,u),P(t,u),P(l,u),P(a,u),P(i,u),P(d,u),P($,u)}}}function so(n){let e,r;return e=new sr({props:{class:"flex flex-wrap gap-6 p-4 pl-0",label:"workflow detail",$$slots:{default:[lo]},$$scope:{ctx:n}}}),{c(){A(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,o){R(e,t,o),r=!0},p(t,o){const l={};o&8399410&&(l.$$scope={dirty:o,ctx:t}),e.$set(l)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),r=!1},d(t){P(e,t)}}}function nt(n){let e,r,t,o;return r=new Dt({props:{icon:"info",intent:"info",title:D("workflows.cancel-request-sent"),$$slots:{default:[fo]},$$scope:{ctx:n}}}),{c(){e=O("div"),A(r.$$.fragment)},l(l){e=Q(l,"DIV",{});var s=j(e);T(r.$$.fragment,s),s.forEach(h)},m(l,s){y(l,e,s),R(r,e,null),o=!0},p(l,s){const a={};s&8388608&&(a.$$scope={dirty:s,ctx:l}),r.$set(a)},i(l){o||(p(r.$$.fragment,l),l&&(t||it(()=>{t=dt(e,wt,{duration:200,delay:100}),t.start()})),o=!0)},o(l){w(r.$$.fragment,l),o=!1},d(l){l&&h(e),P(r)}}}function fo(n){let e=D("workflows.cancel-request-sent-description")+"",r;return{c(){r=G(e)},l(t){r=K(t,e)},m(t,o){y(t,r,o)},p:ie,d(t){t&&h(r)}}}function lt(n){let e,r,t,o;return r=new Dt({props:{icon:"info",intent:"info","data-testid":"workflow-reset-alert",title:D("workflows.reset-success-alert-title"),$$slots:{default:[io]},$$scope:{ctx:n}}}),{c(){e=O("div"),A(r.$$.fragment)},l(l){e=Q(l,"DIV",{});var s=j(e);T(r.$$.fragment,s),s.forEach(h)},m(l,s){y(l,e,s),R(r,e,null),o=!0},p(l,s){const a={};s&8388621&&(a.$$scope={dirty:s,ctx:l}),r.$set(a)},i(l){o||(p(r.$$.fragment,l),l&&(t||it(()=>{t=dt(e,wt,{duration:200,delay:100}),t.start()})),o=!0)},o(l){w(r.$$.fragment,l),o=!1},d(l){l&&h(e),P(r)}}}function ao(n){let e;return{c(){e=G("here")},l(r){e=K(r,"here")},m(r,t){y(r,e,t)},d(r){r&&h(e)}}}function io(n){var l,s,a,f;let e,r,t,o;return r=new We({props:{href:ue({namespace:n[0],workflow:(s=(l=n[2])==null?void 0:l.workflow)==null?void 0:s.id,run:n[3][(f=(a=n[2])==null?void 0:a.workflow)==null?void 0:f.runId]}),$$slots:{default:[ao]},$$scope:{ctx:n}}}),{c(){e=G("You can find the resulting Workflow Execution "),A(r.$$.fragment),t=G(".")},l(i){e=K(i,"You can find the resulting Workflow Execution "),T(r.$$.fragment,i),t=K(i,".")},m(i,c){y(i,e,c),R(r,i,c),y(i,t,c),o=!0},p(i,c){var v,$,m,u;const d={};c&13&&(d.href=ue({namespace:i[0],workflow:($=(v=i[2])==null?void 0:v.workflow)==null?void 0:$.id,run:i[3][(u=(m=i[2])==null?void 0:m.workflow)==null?void 0:u.runId]})),c&8388608&&(d.$$scope={dirty:c,ctx:i}),r.$set(d)},i(i){o||(p(r.$$.fragment,i),o=!0)},o(i){w(r.$$.fragment,i),o=!1},d(i){i&&(h(e),h(t)),P(r,i)}}}function uo(n){var we,$e;let e,r,t,o,l,s,a,f,i,c,d,v,$,m,u,_,g,E,b,C,V,k,I;t=new We({props:{href:`${Re({namespace:n[0]})}?${n[14]}`,"data-testid":"back-to-workflows",icon:"chevron-left",$$slots:{default:[Gr]},$$scope:{ctx:n}}});let B=n[12]&&tt(n);c=new er({props:{status:(we=n[1])==null?void 0:we.status,big:!0}}),m=new nr({props:{copyIconTitle:D("common.copy-icon-title"),copySuccessIconTitle:D("common.copy-success-icon-title"),content:($e=n[1])==null?void 0:$e.id,clickAllToCopy:!0,"container-class":"w-full",class:"overflow-hidden text-ellipsis"}});let q=n[6]&&rt(n);E=new Qr({props:{isRunning:n[10],cancelInProgress:n[8],workflow:n[1],namespace:n[0]}}),C=new lr({props:{$$slots:{default:[so]},$$scope:{ctx:n}}});let N=n[8]&&nt(n),J=n[7]&&lt(n);return{c(){e=O("div"),r=O("div"),A(t.$$.fragment),o=F(),B&&B.c(),l=F(),s=O("header"),a=O("div"),f=O("div"),i=O("div"),A(c.$$.fragment),d=F(),v=O("div"),$=O("h1"),A(m.$$.fragment),u=F(),q&&q.c(),_=F(),g=O("div"),A(E.$$.fragment),b=F(),A(C.$$.fragment),V=F(),N&&N.c(),k=F(),J&&J.c(),this.h()},l(S){e=Q(S,"DIV",{class:!0});var U=j(e);r=Q(U,"DIV",{class:!0});var W=j(r);T(t.$$.fragment,W),o=L(W),B&&B.l(W),W.forEach(h),U.forEach(h),l=L(S),s=Q(S,"HEADER",{class:!0});var X=j(s);a=Q(X,"DIV",{class:!0});var H=j(a);f=Q(H,"DIV",{class:!0});var Z=j(f);i=Q(Z,"DIV",{class:!0});var te=j(i);T(c.$$.fragment,te),te.forEach(h),d=L(Z),v=Q(Z,"DIV",{class:!0});var ae=j(v);$=Q(ae,"H1",{"data-testid":!0,class:!0});var de=j($);T(m.$$.fragment,de),de.forEach(h),u=L(ae),q&&q.l(ae),ae.forEach(h),Z.forEach(h),_=L(H),g=Q(H,"DIV",{class:!0});var be=j(g);T(E.$$.fragment,be),be.forEach(h),H.forEach(h),b=L(X),T(C.$$.fragment,X),V=L(X),N&&N.l(X),k=L(X),J&&J.l(X),X.forEach(h),this.h()},h(){z(r,"class","flex items-center gap-2"),z(e,"class","flex items-center justify-between pb-4"),z(i,"class","px-2"),z($,"data-testid","workflow-id-heading"),z($,"class","gap-0 overflow-hidden"),z(v,"class","flex flex-col flex-wrap gap-0"),z(f,"class","flex flex-col items-center gap-4 lg:flex-row"),z(g,"class","px-2"),z(a,"class","flex flex-col items-center justify-between gap-4 lg:flex-row"),z(s,"class","rounded-top flex flex-col gap-0")},m(S,U){y(S,e,U),M(e,r),R(t,r,null),M(r,o),B&&B.m(r,null),y(S,l,U),y(S,s,U),M(s,a),M(a,f),M(f,i),R(c,i,null),M(f,d),M(f,v),M(v,$),R(m,$,null),M(v,u),q&&q.m(v,null),M(a,_),M(a,g),R(E,g,null),M(s,b),R(C,s,null),M(s,V),N&&N.m(s,null),M(s,k),J&&J.m(s,null),I=!0},p(S,[U]){var ae,de;const W={};U&16385&&(W.href=`${Re({namespace:S[0]})}?${S[14]}`),U&8392704&&(W.$$scope={dirty:U,ctx:S}),t.$set(W),S[12]?B?(B.p(S,U),U&4096&&p(B,1)):(B=tt(S),B.c(),p(B,1),B.m(r,null)):B&&(x(),w(B,1,1,()=>{B=null}),ee());const X={};U&2&&(X.status=(ae=S[1])==null?void 0:ae.status),c.$set(X);const H={};U&2&&(H.content=(de=S[1])==null?void 0:de.id),m.$set(H),S[6]?q?(q.p(S,U),U&64&&p(q,1)):(q=rt(S),q.c(),p(q,1),q.m(v,null)):q&&(x(),w(q,1,1,()=>{q=null}),ee());const Z={};U&1024&&(Z.isRunning=S[10]),U&256&&(Z.cancelInProgress=S[8]),U&2&&(Z.workflow=S[1]),U&1&&(Z.namespace=S[0]),E.$set(Z);const te={};U&8399410&&(te.$$scope={dirty:U,ctx:S}),C.$set(te),S[8]?N?(N.p(S,U),U&256&&p(N,1)):(N=nt(S),N.c(),p(N,1),N.m(s,k)):N&&(x(),w(N,1,1,()=>{N=null}),ee()),S[7]?J?(J.p(S,U),U&128&&p(J,1)):(J=lt(S),J.c(),p(J,1),J.m(s,null)):J&&(x(),w(J,1,1,()=>{J=null}),ee())},i(S){I||(p(t.$$.fragment,S),p(B),p(c.$$.fragment,S),p(m.$$.fragment,S),p(q),p(E.$$.fragment,S),p(C.$$.fragment,S),p(N),p(J),I=!0)},o(S){w(t.$$.fragment,S),w(B),w(c.$$.fragment,S),w(m.$$.fragment,S),w(q),w(E.$$.fragment,S),w(C.$$.fragment,S),w(N),w(J),I=!1},d(S){S&&(h(e),h(l),h(s)),P(t),B&&B.d(),P(c),P(m),q&&q.d(),P(E),P(C),N&&N.d(),J&&J.d()}}}function co(n,e,r){let t,o,l,s,a,f,i,c,d,v,$,m,u,_,g,E;Y(n,fr,N=>r(21,$=N)),Y(n,Te,N=>r(22,m=N)),Y(n,he,N=>r(2,u=N)),Y(n,At,N=>r(3,_=N)),Y(n,Se,N=>r(4,g=N)),Y(n,gt,N=>r(14,E=N));var b,C,V,k,I,B;let{namespace:q}=e;return n.$$set=N=>{"namespace"in N&&r(0,q=N.namespace)},n.$$.update=()=>{n.$$.dirty&4&&r(1,{workflow:t,workers:o}=u,t,(r(13,o),r(2,u))),n.$$.dirty&16&&r(12,l=g.params.id),n.$$.dirty&3&&r(11,s={namespace:q,workflow:t==null?void 0:t.id,run:t==null?void 0:t.runId}),n.$$.dirty&32772&&r(10,a=r(15,b=u==null?void 0:u.workflow)===null||b===void 0?void 0:b.isRunning),n.$$.dirty&65540&&r(9,f=["Terminated","TimedOut","Canceled"].includes(r(16,C=u.workflow)===null||C===void 0?void 0:C.status)),n.$$.dirty&4325380&&r(8,i=Yr(r(17,V=u==null?void 0:u.workflow)===null||V===void 0?void 0:V.status,m)),n.$$.dirty&262156&&r(7,c=ir(_,r(18,k=u==null?void 0:u.workflow)===null||k===void 0?void 0:k.runId)),n.$$.dirty&1572866&&r(6,d=r(19,I=t==null?void 0:t.assignedBuildId)!==null&&I!==void 0?I:r(20,B=t==null?void 0:t.mostRecentWorkerVersionStamp)===null||B===void 0?void 0:B.useVersioning),n.$$.dirty&6291458&&r(5,v=ar(t,m,$))},[q,t,u,_,g,v,d,c,i,f,a,s,l,o,E,b,C,V,k,I,B,$,m]}class mo extends pe{constructor(e){super(),_e(this,e,co,uo,me,{namespace:0})}}async function po({activity:n,namespace:e,settings:r,accessToken:t},{convertWithCodec:o=ur,decodeAttributes:l=cr}={}){const s=await o({attributes:n,namespace:e,settings:r,accessToken:t});return l(s)}const _o=async({activity:n,namespace:e,settings:r,accessToken:t})=>await po({activity:n,namespace:e,settings:r,accessToken:t}),st=async(n,e,r,t)=>{const o=(n==null?void 0:n.pendingActivities)??[],l=[];for(const s of o){const a=await _o({activity:s,namespace:e,settings:r,accessToken:t});l.push(a)}return l};function go(n){let e,r,t,o,l;const s=[ko,ho,$o],a=[];function f(i,c){return i[2]?0:i[1].workflow?2:1}return r=f(n),t=a[r]=s[r](n),{c(){e=O("div"),t.c(),this.h()},l(i){e=Q(i,"DIV",{class:!0});var c=j(e);t.l(c),c.forEach(h),this.h()},h(){z(e,"class",o="absolute bottom-0 left-0 right-0 "+(n[6]?"top-[540px]":"top-0")+" } flex h-full flex-col gap-0")},m(i,c){y(i,e,c),a[r].m(e,null),l=!0},p(i,c){let d=r;r=f(i),r===d?a[r].p(i,c):(x(),w(a[d],1,1,()=>{a[d]=null}),ee(),t=a[r],t?t.p(i,c):(t=a[r]=s[r](i),t.c()),p(t,1),t.m(e,null)),(!l||c&64&&o!==(o="absolute bottom-0 left-0 right-0 "+(i[6]?"top-[540px]":"top-0")+" } flex h-full flex-col gap-0"))&&z(e,"class",o)},i(i){l||(p(t),l=!0)},o(i){w(t),l=!1},d(i){i&&h(e),a[r].d()}}}function wo(n){let e,r,t,o=Me(n[3],null,2)+"",l,s;return r=new Nt({props:{copyIconTitle:D("common.copy-icon-title"),copySuccessIconTitle:D("common.copy-success-icon-title"),class:"absolute right-1 top-1",copied:n[5]}}),r.$on("click",n[8]),{c(){e=O("div"),A(r.$$.fragment),t=F(),l=G(o),this.h()},l(a){e=Q(a,"DIV",{class:!0});var f=j(e);T(r.$$.fragment,f),t=L(f),l=K(f,o),f.forEach(h),this.h()},h(){z(e,"class","relative h-auto whitespace-break-spaces break-words rounded bg-primary p-4")},m(a,f){y(a,e,f),R(r,e,null),M(e,t),M(e,l),s=!0},p(a,f){const i={};f&32&&(i.copied=a[5]),r.$set(i),(!s||f&8)&&o!==(o=Me(a[3],null,2)+"")&&le(l,o)},i(a){s||(p(r.$$.fragment,a),s=!0)},o(a){w(r.$$.fragment,a),s=!1},d(a){a&&h(e),P(r)}}}function $o(n){let e,r,t,o;r=new mo({props:{namespace:n[0].params.namespace}});const l=n[16].default,s=ct(l,n,n[15],null);return{c(){e=O("div"),A(r.$$.fragment),t=F(),s&&s.c(),this.h()},l(a){e=Q(a,"DIV",{class:!0});var f=j(e);T(r.$$.fragment,f),f.forEach(h),t=L(a),s&&s.l(a),this.h()},h(){z(e,"class","px-8 pt-8 md:pt-20")},m(a,f){y(a,e,f),R(r,e,null),y(a,t,f),s&&s.m(a,f),o=!0},p(a,f){const i={};f&1&&(i.namespace=a[0].params.namespace),r.$set(i),s&&s.p&&(!o||f&32768)&&mt(s,l,a,a[15],o?_t(l,a[15],f,null):pt(a[15]),null)},i(a){o||(p(r.$$.fragment,a),p(s,a),o=!0)},o(a){w(r.$$.fragment,a),w(s,a),o=!1},d(a){a&&(h(e),h(t)),P(r),s&&s.d(a)}}}function ho(n){let e,r;return e=new Bt({props:{class:"pt-24"}}),{c(){A(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,o){R(e,t,o),r=!0},p:ie,i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),r=!1},d(t){P(e,t)}}}function ko(n){let e,r;return e=new $r({props:{error:n[2]}}),{c(){A(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,o){R(e,t,o),r=!0},p(t,o){const l={};o&4&&(l.error=t[2]),e.$set(l)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),r=!1},d(t){P(e,t)}}}function bo(n){let e,r,t,o;const l=[wo,go],s=[];function a(f,i){return f[4]?0:1}return e=a(n),r=s[e]=l[e](n),{c(){r.c(),t=ce()},l(f){r.l(f),t=ce()},m(f,i){s[e].m(f,i),y(f,t,i),o=!0},p(f,[i]){let c=e;e=a(f),e===c?s[e].p(f,i):(x(),w(s[c],1,1,()=>{s[c]=null}),ee(),r=s[e],r?r.p(f,i):(r=s[e]=l[e](f),r.c()),p(r,1),r.m(t.parentNode,t))},i(f){o||(p(r),o=!0)},o(f){w(r),o=!1},d(f){f&&h(t),s[e].d(f)}}}function vo(n,e,r){let t,o,l,s,a,f,i,c,d,v,$,m,u,_,g,E;Y(n,Le,W=>r(19,f=W)),Y(n,Se,W=>r(0,i=W)),Y(n,zt,W=>r(12,c=W)),Y(n,Te,W=>r(13,d=W)),Y(n,Ue,W=>r(20,v=W)),Y(n,ke,W=>r(14,$=W)),Y(n,he,W=>r(1,m=W)),Y(n,Oe,W=>r(21,u=W)),Y(n,mr,W=>r(22,_=W)),Y(n,St,W=>r(6,E=W));let{$$slots:b={},$$scope:C}=e,V,k,I;const{copy:B,copied:q}=_r();Y(n,q,W=>r(5,g=W));const N=W=>{B(W,Me(a))},J=async(W,X,H)=>{const{settings:Z}=i.data,{workflow:te,error:ae}=await Be({namespace:W,workflowId:X,runId:H});if(ae){r(2,V=ae);return}const{taskQueue:de}=te,be=await or({queue:de,namespace:W});te.pendingActivities=await st(te,W,Z,_==null?void 0:_.accessToken),ne(he,m={workflow:te,workers:be},m),k=new AbortController,ne(Te,d=await Mt({namespace:W,workflowId:X,runId:H,sort:"ascending",signal:k.signal,historySize:te.historyEvents}),d)},we=async W=>{var X;if(W&&(!((X=m==null?void 0:m.workflow)===null||X===void 0)&&X.isRunning)){const{settings:H}=i.data,{workflow:Z,error:te}=await Be({namespace:t,workflowId:o,runId:l});if(te){r(2,V=te);return}Z.pendingActivities=await st(Z,t,H,_==null?void 0:_.accessToken),ne(he,m={...m,workflow:Z},m)}},$e=()=>{ne(Te,d=[],d),k&&k.abort()},S=()=>{ne(Oe,u=null,u),ne(he,m=xt,m),r(2,V=void 0),$e(),pr(),clearInterval(I),I=null},U=(W,X)=>{X||ne(Ue,v=W,v)};return Pt(()=>{const W=i.url.searchParams.get("sort");W&&ne(Le,f=W,f),I=setInterval(()=>{Vt()},1e4)}),ut(()=>{S()}),n.$$set=W=>{"$$scope"in W&&r(15,C=W.$$scope)},n.$$.update=()=>{n.$$.dirty&1&&r(11,{namespace:t,workflow:o,run:l}=i.params,t,(r(10,o),r(0,i)),(r(9,l),r(0,i))),n.$$.dirty&1&&r(4,s=i.url.searchParams.has("json")),n.$$.dirty&8194&&r(3,a={...m,eventHistory:d}),n.$$.dirty&512&&S(),n.$$.dirty&3584&&J(t,o,l),n.$$.dirty&16384&&we($),n.$$.dirty&12288&&U(d,c)},[i,m,V,a,s,g,E,q,N,l,o,t,c,d,$,C,b]}class Eo extends pe{constructor(e){super(),_e(this,e,vo,bo,me,{})}}const Tt={namespace:null,workflowId:null,runId:null,rawPayloads:null,sort:null},Io=$t(Tt),Co=()=>{Io.set(Tt)};function Do(n){let e;const r=n[0].default,t=ct(r,n,n[1],null);return{c(){t&&t.c()},l(o){t&&t.l(o)},m(o,l){t&&t.m(o,l),e=!0},p(o,l){t&&t.p&&(!e||l&2)&&mt(t,r,o,o[1],e?_t(r,o[1],l,null):pt(o[1]),null)},i(o){e||(p(t,o),e=!0)},o(o){w(t,o),e=!1},d(o){t&&t.d(o)}}}function Ao(n){let e,r;return e=new Eo({props:{$$slots:{default:[Do]},$$scope:{ctx:n}}}),{c(){A(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,o){R(e,t,o),r=!0},p(t,[o]){const l={};o&2&&(l.$$scope={dirty:o,ctx:t}),e.$set(l)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),r=!1},d(t){P(e,t)}}}function To(n,e,r){let{$$slots:t={},$$scope:o}=e;return ut(()=>{Co()}),n.$$set=l=>{"$$scope"in l&&r(1,o=l.$$scope)},[t,o]}class In extends pe{constructor(e){super(),_e(this,e,To,Ao,me,{})}}export{In as component};

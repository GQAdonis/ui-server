import{s as re,h as w,t as F,b as q,j as v,k as I,l as S,f as c,d as N,m as b,i as $,n as R,c as ee,x as W,q as Y,v as D,y as ze,I as pe,o as x,a as Ue,u as Ge,g as Je,e as Xe}from"../chunks/scheduler.1T9hOnFr.js";import{S as se,i as ae,c as H,a as P,m as B,t as g,b as T,d as V,g as K,e as L}from"../chunks/index.cVovwi_s.js";import{p as _e}from"../chunks/stores.xJ5vr7c8.js";import{P as Ze}from"../chunks/page-title.YnYjoVKm.js";import{h as te,u as me}from"../chunks/await_block.phqp6y2-.js";import{P as he,W as xe}from"../chunks/worker-table.s6Lg_vKB.js";import{T as et,a as tt,b as be}from"../chunks/tab.kyN17c-X.js";import{t as j}from"../chunks/translate.HrioCK44.js";import{g as lt,a as rt,b as st,c as at,d as ke,e as ge,f as we,p as nt,h as it,i as ve,j as Te}from"../chunks/pollers-service.QNCjV4yJ.js";import{e as X,u as oe,o as fe}from"../chunks/each.QHpLJPfe.js";import{B as ot}from"../chunks/badge.kH3kuYyU.js";import{C as de}from"../chunks/compatibility-badge.3B0gY0M5.js";import{E as ue}from"../chunks/empty-state.e2HBTKUT.js";import{T as ie,a as ce}from"../chunks/table-header-row.8AKDWknn.js";import{T as ne}from"../chunks/table-row.EPGn_fnl.js";import{t as Le,r as ft,f as le}from"../chunks/time-format.V13ohtlm.js";import"../chunks/auth-user.588znb9A.js";import"../chunks/toaster.GTLhnFKi.js";import"../chunks/paths.gNl71DLz.js";import"../chunks/entry.pigIa5Xh.js";import{T as Ye}from"../chunks/table.o71n5m6N.js";function Ee(o,t,r){const e=o.slice();e[8]=t[r];const s=st(e[8]);e[9]=s;const l=at(e[2],e[0],e[9]);return e[10]=l,e}function Ce(o,t,r){const e=o.slice();return e[13]=t[r],e[15]=r,e}function Ie(o,t,r){const e=o.slice();return e[9]=t[r],e}function ye(o){let t,r,e,s,l;return e=new ue({props:{title:j("workers.no-version-sets-found")}}),{c(){t=w("tr"),r=w("td"),H(e.$$.fragment),s=q(),this.h()},l(i){t=v(i,"TR",{class:!0});var a=I(t);r=v(a,"TD",{colspan:!0});var f=I(r);P(e.$$.fragment,f),f.forEach(c),s=N(a),a.forEach(c),this.h()},h(){b(r,"colspan","6"),b(t,"class","w-full")},m(i,a){$(i,t,a),R(t,r),B(e,r,null),R(t,s),l=!0},p:D,i(i){l||(g(e.$$.fragment,i),l=!0)},o(i){T(e.$$.fragment,i),l=!1},d(i){i&&c(t),V(e)}}}function De(o){let t=j("workers.overall")+"",r;return{c(){r=F(t)},l(e){r=S(e,t)},m(e,s){$(e,r,s)},p:D,d(e){e&&c(r)}}}function ut(o){let t,r=o[15]===0&&De();return{c(){r&&r.c(),t=W()},l(e){r&&r.l(e),t=W()},m(e,s){r&&r.m(e,s),$(e,t,s)},p(e,s){e[15]===0?r?r.p(e,s):(r=De(),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(e){e&&c(t),r&&r.d(e)}}}function ct(o){let t=j("workers.default")+"",r;return{c(){r=F(t)},l(e){r=S(e,t)},m(e,s){$(e,r,s)},p:D,d(e){e&&c(r)}}}function _t(o){let t=j("workers.default")+"",r,e;return{c(){r=F(t),e=q()},l(s){r=S(s,t),e=N(s)},m(s,l){$(s,r,l),$(s,e,l)},p:D,d(s){s&&(c(r),c(e))}}}function Re(o){let t,r;return t=new de({props:{active:!1,buildId:o[9],$$slots:{"default-worker":[_t]},$$scope:{ctx:o}}}),{c(){H(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,s){B(t,e,s),r=!0},p(e,s){const l={};s&16&&(l.buildId=e[9]),s&262144&&(l.$$scope={dirty:s,ctx:e}),t.$set(l)},i(e){r||(g(t.$$.fragment,e),r=!0)},o(e){T(t.$$.fragment,e),r=!1},d(e){V(t,e)}}}function mt(o){let t,r,e,s,l,i,a;r=new de({props:{defaultVersion:!0,active:o[15]===0,buildId:ke(o[13].buildIds),$$slots:{"default-worker":[ct],"overall-default-worker":[ut]},$$scope:{ctx:o}}});let f=X(ge(o[13].buildIds)),n=[];for(let u=0;u<f.length;u+=1)n[u]=Re(Ie(o,f,u));const _=u=>T(n[u],1,1,()=>{n[u]=null});return{c(){t=w("td"),H(r.$$.fragment),e=q(),s=w("td"),l=w("div");for(let u=0;u<n.length;u+=1)n[u].c();i=q(),this.h()},l(u){t=v(u,"TD",{class:!0,"data-testid":!0});var m=I(t);P(r.$$.fragment,m),m.forEach(c),e=N(u),s=v(u,"TD",{class:!0,"data-testid":!0});var d=I(s);l=v(d,"DIV",{class:!0});var p=I(l);for(let h=0;h<n.length;h+=1)n[h].l(p);p.forEach(c),d.forEach(c),i=N(u),this.h()},h(){b(t,"class","text-left"),b(t,"data-testid","version-default"),b(l,"class","flex flex-wrap gap-2 font-mono"),b(s,"class","text-left"),b(s,"data-testid","version-compatible-builds")},m(u,m){$(u,t,m),B(r,t,null),$(u,e,m),$(u,s,m),R(s,l);for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(l,null);$(u,i,m),a=!0},p(u,m){const d={};if(m&16&&(d.active=u[15]===0),m&16&&(d.buildId=ke(u[13].buildIds)),m&262160&&(d.$$scope={dirty:m,ctx:u}),r.$set(d),m&16){f=X(ge(u[13].buildIds));let p;for(p=0;p<f.length;p+=1){const h=Ie(u,f,p);n[p]?(n[p].p(h,m),g(n[p],1)):(n[p]=Re(h),n[p].c(),g(n[p],1),n[p].m(l,null))}for(K(),p=f.length;p<n.length;p+=1)_(p);L()}},i(u){if(!a){g(r.$$.fragment,u);for(let m=0;m<f.length;m+=1)g(n[m]);a=!0}},o(u){T(r.$$.fragment,u),n=n.filter(Boolean);for(let m=0;m<n.length;m+=1)T(n[m]);a=!1},d(u){u&&(c(t),c(e),c(s),c(i)),V(r),ze(n,u)}}}function qe(o,t){let r,e,s;return e=new ne({props:{"data-testid":"version-row",$$slots:{default:[mt]},$$scope:{ctx:t}}}),{key:o,first:null,c(){r=W(),H(e.$$.fragment),this.h()},l(l){r=W(),P(e.$$.fragment,l),this.h()},h(){this.first=r},m(l,i){$(l,r,i),B(e,l,i),s=!0},p(l,i){t=l;const a={};i&262160&&(a.$$scope={dirty:i,ctx:t}),e.$set(a)},i(l){s||(g(e.$$.fragment,l),s=!0)},o(l){T(e.$$.fragment,l),s=!1},d(l){l&&c(r),V(e,l)}}}function dt(o){let t=[],r=new Map,e,s,l=X(o[4]);const i=f=>f[15];for(let f=0;f<l.length;f+=1){let n=Ce(o,l,f),_=i(n);r.set(_,t[f]=qe(_,n))}let a=null;return l.length||(a=ye()),{c(){for(let f=0;f<t.length;f+=1)t[f].c();e=W(),a&&a.c()},l(f){for(let n=0;n<t.length;n+=1)t[n].l(f);e=W(),a&&a.l(f)},m(f,n){for(let _=0;_<t.length;_+=1)t[_]&&t[_].m(f,n);$(f,e,n),a&&a.m(f,n),s=!0},p(f,n){n&16&&(l=X(f[4]),K(),t=oe(t,n,i,1,f,l,r,e.parentNode,fe,qe,e,Ce),L(),!l.length&&a?a.p(f,n):l.length?a&&(K(),T(a,1,1,()=>{a=null}),L()):(a=ye(),a.c(),g(a,1),a.m(e.parentNode,e)))},i(f){if(!s){for(let n=0;n<l.length;n+=1)g(t[n]);s=!0}},o(f){for(let n=0;n<t.length;n+=1)T(t[n]);s=!1},d(f){f&&c(e);for(let n=0;n<t.length;n+=1)t[n].d(f);a&&a.d(f)}}}function $t(o){let t,r=j("workers.default")+"",e,s,l,i=j("workers.compatible-build-ids")+"",a;return{c(){t=w("th"),e=F(r),s=q(),l=w("th"),a=F(i),this.h()},l(f){t=v(f,"TH",{class:!0});var n=I(t);e=S(n,r),n.forEach(c),s=N(f),l=v(f,"TH",{class:!0});var _=I(l);a=S(_,i),_.forEach(c),this.h()},h(){b(t,"class","w-3/12"),b(l,"class","w-9/12")},m(f,n){$(f,t,n),R(t,e),$(f,s,n),$(f,l,n),R(l,a)},p:D,d(f){f&&(c(t),c(s),c(l))}}}function pt(o){let t,r;return t=new ce({props:{slot:"headers",$$slots:{default:[$t]},$$scope:{ctx:o}}}),{c(){H(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,s){B(t,e,s),r=!0},p(e,s){const l={};s&262144&&(l.$$scope={dirty:s,ctx:e}),t.$set(l)},i(e){r||(g(t.$$.fragment,e),r=!0)},o(e){T(t.$$.fragment,e),r=!1},d(e){V(t,e)}}}function ht(o){var e,s;let t=(((s=(e=o[1])==null?void 0:e.pollers)==null?void 0:s.length)||0)+"",r;return{c(){r=F(t)},l(l){r=S(l,t)},m(l,i){$(l,r,i)},p(l,i){var a,f;i&2&&t!==(t=(((f=(a=l[1])==null?void 0:a.pollers)==null?void 0:f.length)||0)+"")&&Y(r,t)},d(l){l&&c(r)}}}function Ne(o){let t,r,e,s,l,i;return e=new ue({props:{title:j("workflows.workers-empty-state")}}),{c(){t=w("tr"),r=w("td"),H(e.$$.fragment),l=q(),this.h()},l(a){t=v(a,"TR",{class:!0});var f=I(t);r=v(f,"TD",{colspan:!0});var n=I(r);P(e.$$.fragment,n),n.forEach(c),l=N(f),f.forEach(c),this.h()},h(){var a,f;b(r,"colspan",s=(f=(a=o[2])==null?void 0:a.buildIdReachability)!=null&&f.length?8:6),b(t,"class","w-full")},m(a,f){$(a,t,f),R(t,r),B(e,r,null),R(t,l),i=!0},p(a,f){var n,_;(!i||f&4&&s!==(s=(_=(n=a[2])==null?void 0:n.buildIdReachability)!=null&&_.length?8:6))&&b(r,"colspan",s)},i(a){i||(g(e.$$.fragment,a),i=!0)},o(a){T(e.$$.fragment,a),i=!1},d(a){a&&c(t),V(e)}}}function Qe(o){let t,r,e,s,l,i,a,f=o[10]+"",n,_;return e=new de({props:{defaultVersion:o[9]===o[3],active:o[9]===o[3],buildId:o[9],$$slots:{"default-worker":[kt],"overall-default-worker":[bt]},$$scope:{ctx:o}}}),{c(){t=w("td"),r=w("p"),H(e.$$.fragment),s=q(),l=w("td"),i=w("p"),a=w("span"),n=F(f),this.h()},l(u){t=v(u,"TD",{class:!0,"data-testid":!0});var m=I(t);r=v(m,"P",{class:!0});var d=I(r);P(e.$$.fragment,d),d.forEach(c),m.forEach(c),s=N(u),l=v(u,"TD",{class:!0,"data-testid":!0});var p=I(l);i=v(p,"P",{});var h=I(i);a=v(h,"SPAN",{class:!0});var k=I(a);n=S(k,f),k.forEach(c),h.forEach(c),p.forEach(c),this.h()},h(){b(r,"class","select-all"),b(t,"class","text-left"),b(t,"data-testid","worker-identity"),b(a,"class","svelte-kdqm2r"),pe(a,"reachability",!!o[10]),b(l,"class","text-left"),b(l,"data-testid","worker-last-access-time")},m(u,m){$(u,t,m),R(t,r),B(e,r,null),$(u,s,m),$(u,l,m),R(l,i),R(i,a),R(a,n),_=!0},p(u,m){const d={};m&10&&(d.defaultVersion=u[9]===u[3]),m&10&&(d.active=u[9]===u[3]),m&2&&(d.buildId=u[9]),m&262154&&(d.$$scope={dirty:m,ctx:u}),e.$set(d),(!_||m&7)&&f!==(f=u[10]+"")&&Y(n,f),(!_||m&7)&&pe(a,"reachability",!!u[10])},i(u){_||(g(e.$$.fragment,u),_=!0)},o(u){T(e.$$.fragment,u),_=!1},d(u){u&&(c(t),c(s),c(l)),V(e)}}}function He(o){let t=j("workers.overall")+"",r;return{c(){r=F(t)},l(e){r=S(e,t)},m(e,s){$(e,r,s)},p:D,d(e){e&&c(r)}}}function bt(o){let t,r=o[9]===o[3]&&He();return{c(){r&&r.c(),t=W()},l(e){r&&r.l(e),t=W()},m(e,s){r&&r.m(e,s),$(e,t,s)},p(e,s){e[9]===e[3]?r?r.p(e,s):(r=He(),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(e){e&&c(t),r&&r.d(e)}}}function kt(o){let t=j("workers.default")+"",r;return{c(){r=F(t)},l(e){r=S(e,t)},m(e,s){$(e,r,s)},p:D,d(e){e&&c(r)}}}function gt(o){var Q,z;let t,r,e=o[8].identity+"",s,l,i,a,f,n=le(o[8].lastAccessTime,o[5],{relative:o[6]})+"",_,u,m,d,p,h,k,A,M,C=((z=(Q=o[2])==null?void 0:Q.buildIdReachability)==null?void 0:z.length)&&Qe(o);return d=new he({props:{includesTaskQueueType:o[8].taskQueueTypes.includes("WORKFLOW")}}),k=new he({props:{includesTaskQueueType:o[8].taskQueueTypes.includes("ACTIVITY")}}),{c(){t=w("td"),r=w("p"),s=F(e),l=q(),C&&C.c(),i=q(),a=w("td"),f=w("p"),_=F(n),u=q(),m=w("td"),H(d.$$.fragment),p=q(),h=w("td"),H(k.$$.fragment),A=q(),this.h()},l(y){t=v(y,"TD",{class:!0,"data-testid":!0});var E=I(t);r=v(E,"P",{class:!0});var O=I(r);s=S(O,e),O.forEach(c),E.forEach(c),l=N(y),C&&C.l(y),i=N(y),a=v(y,"TD",{class:!0,"data-testid":!0});var U=I(a);f=v(U,"P",{class:!0});var G=I(f);_=S(G,n),G.forEach(c),U.forEach(c),u=N(y),m=v(y,"TD",{"data-testid":!0});var J=I(m);P(d.$$.fragment,J),J.forEach(c),p=N(y),h=v(y,"TD",{"data-testid":!0});var Z=I(h);P(k.$$.fragment,Z),Z.forEach(c),A=N(y),this.h()},h(){b(r,"class","select-all"),b(t,"class","text-left"),b(t,"data-testid","worker-identity"),b(f,"class","select-all"),b(a,"class","text-left"),b(a,"data-testid","worker-last-access-time"),b(m,"data-testid","workflow-poller"),b(h,"data-testid","activity-poller")},m(y,E){$(y,t,E),R(t,r),R(r,s),$(y,l,E),C&&C.m(y,E),$(y,i,E),$(y,a,E),R(a,f),R(f,_),$(y,u,E),$(y,m,E),B(d,m,null),$(y,p,E),$(y,h,E),B(k,h,null),$(y,A,E),M=!0},p(y,E){var G,J;(!M||E&2)&&e!==(e=y[8].identity+"")&&Y(s,e),(J=(G=y[2])==null?void 0:G.buildIdReachability)!=null&&J.length?C?(C.p(y,E),E&4&&g(C,1)):(C=Qe(y),C.c(),g(C,1),C.m(i.parentNode,i)):C&&(K(),T(C,1,1,()=>{C=null}),L()),(!M||E&98)&&n!==(n=le(y[8].lastAccessTime,y[5],{relative:y[6]})+"")&&Y(_,n);const O={};E&2&&(O.includesTaskQueueType=y[8].taskQueueTypes.includes("WORKFLOW")),d.$set(O);const U={};E&2&&(U.includesTaskQueueType=y[8].taskQueueTypes.includes("ACTIVITY")),k.$set(U)},i(y){M||(g(C),g(d.$$.fragment,y),g(k.$$.fragment,y),M=!0)},o(y){T(C),T(d.$$.fragment,y),T(k.$$.fragment,y),M=!1},d(y){y&&(c(t),c(l),c(i),c(a),c(u),c(m),c(p),c(h),c(A)),C&&C.d(y),V(d),V(k)}}}function Pe(o,t){let r,e,s;return e=new ne({props:{"data-testid":"worker-row",$$slots:{default:[gt]},$$scope:{ctx:t}}}),{key:o,first:null,c(){r=W(),H(e.$$.fragment),this.h()},l(l){r=W(),P(e.$$.fragment,l),this.h()},h(){this.first=r},m(l,i){$(l,r,i),B(e,l,i),s=!0},p(l,i){t=l;const a={};i&262255&&(a.$$scope={dirty:i,ctx:t}),e.$set(a)},i(l){s||(g(e.$$.fragment,l),s=!0)},o(l){T(e.$$.fragment,l),s=!1},d(l){l&&c(r),V(e,l)}}}function wt(o){var f;let t=[],r=new Map,e,s,l=X((f=o[1])==null?void 0:f.pollers);const i=n=>n[8].identity;for(let n=0;n<l.length;n+=1){let _=Ee(o,l,n),u=i(_);r.set(u,t[n]=Pe(u,_))}let a=null;return l.length||(a=Ne(o)),{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=W(),a&&a.c()},l(n){for(let _=0;_<t.length;_+=1)t[_].l(n);e=W(),a&&a.l(n)},m(n,_){for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(n,_);$(n,e,_),a&&a.m(n,_),s=!0},p(n,_){var u;_&111&&(l=X((u=n[1])==null?void 0:u.pollers),K(),t=oe(t,_,i,1,n,l,r,e.parentNode,fe,Pe,e,Ee),L(),!l.length&&a?a.p(n,_):l.length?a&&(K(),T(a,1,1,()=>{a=null}),L()):(a=Ne(n),a.c(),g(a,1),a.m(e.parentNode,e)))},i(n){if(!s){for(let _=0;_<l.length;_+=1)g(t[_]);s=!0}},o(n){for(let _=0;_<t.length;_+=1)T(t[_]);s=!1},d(n){n&&c(e);for(let _=0;_<t.length;_+=1)t[_].d(n);a&&a.d(n)}}}function vt(o){let t,r=j("workflows.workers-tab")+"",e;return{c(){t=w("caption"),e=F(r),this.h()},l(s){t=v(s,"CAPTION",{class:!0,slot:!0});var l=I(t);e=S(l,r),l.forEach(c),this.h()},h(){b(t,"class","sr-only"),b(t,"slot","caption")},m(s,l){$(s,t,l),R(t,e)},p:D,d(s){s&&c(t)}}}function Be(o){let t,r=j("workers.version")+"",e,s,l,i=j("workers.retirability")+"",a;return{c(){t=w("th"),e=F(r),s=q(),l=w("th"),a=F(i),this.h()},l(f){t=v(f,"TH",{class:!0});var n=I(t);e=S(n,r),n.forEach(c),s=N(f),l=v(f,"TH",{class:!0});var _=I(l);a=S(_,i),_.forEach(c),this.h()},h(){b(t,"class","w-3/12"),b(l,"class","w-2/12")},m(f,n){$(f,t,n),R(t,e),$(f,s,n),$(f,l,n),R(l,a)},p:D,d(f){f&&(c(t),c(s),c(l))}}}function Tt(o){var z,y;let t,r=j("common.id")+"",e,s,l,i,a,f=j("workflows.last-accessed")+"",n,_,u,m,d=j("workflows.workflow-task-handler")+"",p,h,k,A,M=j("workflows.activity-handler")+"",C,Q=((y=(z=o[2])==null?void 0:z.buildIdReachability)==null?void 0:y.length)&&Be();return{c(){t=w("th"),e=F(r),l=q(),Q&&Q.c(),i=q(),a=w("th"),n=F(f),_=q(),u=w("th"),m=w("p"),p=F(d),h=q(),k=w("th"),A=w("p"),C=F(M),this.h()},l(E){t=v(E,"TH",{class:!0});var O=I(t);e=S(O,r),O.forEach(c),l=N(E),Q&&Q.l(E),i=N(E),a=v(E,"TH",{class:!0});var U=I(a);n=S(U,f),U.forEach(c),_=N(E),u=v(E,"TH",{class:!0});var G=I(u);m=v(G,"P",{class:!0});var J=I(m);p=S(J,d),J.forEach(c),G.forEach(c),h=N(E),k=v(E,"TH",{class:!0});var Z=I(k);A=v(Z,"P",{class:!0});var $e=I(A);C=S($e,M),$e.forEach(c),Z.forEach(c),this.h()},h(){var E,O;b(t,"class",s=(O=(E=o[2])==null?void 0:E.buildIdReachability)!=null&&O.length?"w-3/12":"w-6/12"),b(a,"class","w-2/12"),b(m,"class","text-center"),b(u,"class","w-2/12"),b(A,"class","text-center"),b(k,"class","w-2/12 text-center")},m(E,O){$(E,t,O),R(t,e),$(E,l,O),Q&&Q.m(E,O),$(E,i,O),$(E,a,O),R(a,n),$(E,_,O),$(E,u,O),R(u,m),R(m,p),$(E,h,O),$(E,k,O),R(k,A),R(A,C)},p(E,O){var U,G,J,Z;O&4&&s!==(s=(G=(U=E[2])==null?void 0:U.buildIdReachability)!=null&&G.length?"w-3/12":"w-6/12")&&b(t,"class",s),(Z=(J=E[2])==null?void 0:J.buildIdReachability)!=null&&Z.length?Q?Q.p(E,O):(Q=Be(),Q.c(),Q.m(i.parentNode,i)):Q&&(Q.d(1),Q=null)},d(E){E&&(c(t),c(l),c(i),c(a),c(_),c(u),c(h),c(k)),Q&&Q.d(E)}}}function Et(o){let t,r;return t=new ce({props:{slot:"headers",$$slots:{default:[Tt]},$$scope:{ctx:o}}}),{c(){H(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,s){B(t,e,s),r=!0},p(e,s){const l={};s&262148&&(l.$$scope={dirty:s,ctx:e}),t.$set(l)},i(e){r||(g(t.$$.fragment,e),r=!0)},o(e){T(t.$$.fragment,e),r=!1},d(e){V(t,e)}}}function Ct(o){let t,r=j("workers.version-sets")+"",e,s,l,i,a,f=j("workers.workers")+"",n,_,u,m,d,p;return l=new ie({props:{class:"mb-6 w-full min-w-[600px] table-fixed",$$slots:{headers:[pt],default:[dt]},$$scope:{ctx:o}}}),u=new ot({props:{type:"count",class:"rounded-sm",$$slots:{default:[ht]},$$scope:{ctx:o}}}),d=new ie({props:{class:"mb-6 w-full min-w-[600px] table-fixed",$$slots:{headers:[Et],caption:[vt],default:[wt]},$$scope:{ctx:o}}}),{c(){t=w("h2"),e=F(r),s=q(),H(l.$$.fragment),i=q(),a=w("h2"),n=F(f),_=q(),H(u.$$.fragment),m=q(),H(d.$$.fragment),this.h()},l(h){t=v(h,"H2",{"data-testid":!0});var k=I(t);e=S(k,r),k.forEach(c),s=N(h),P(l.$$.fragment,h),i=N(h),a=v(h,"H2",{class:!0,"data-testid":!0});var A=I(a);n=S(A,f),_=N(A),P(u.$$.fragment,A),A.forEach(c),m=N(h),P(d.$$.fragment,h),this.h()},h(){b(t,"data-testid","version-sets"),b(a,"class","flex items-center gap-2"),b(a,"data-testid","workers")},m(h,k){$(h,t,k),R(t,e),$(h,s,k),B(l,h,k),$(h,i,k),$(h,a,k),R(a,n),R(a,_),B(u,a,null),$(h,m,k),B(d,h,k),p=!0},p(h,[k]){const A={};k&262160&&(A.$$scope={dirty:k,ctx:h}),l.$set(A);const M={};k&262146&&(M.$$scope={dirty:k,ctx:h}),u.$set(M);const C={};k&262255&&(C.$$scope={dirty:k,ctx:h}),d.$set(C)},i(h){p||(g(l.$$.fragment,h),g(u.$$.fragment,h),g(d.$$.fragment,h),p=!0)},o(h){T(l.$$.fragment,h),T(u.$$.fragment,h),T(d.$$.fragment,h),p=!1},d(h){h&&(c(t),c(s),c(i),c(a),c(m)),V(l,h),V(u),V(d,h)}}}function It(o,t,r){let e,s,l,i;ee(o,Le,u=>r(5,l=u)),ee(o,ft,u=>r(6,i=u));let{taskQueue:a}=t,{workers:f}=t,{reachability:n=void 0}=t,{compatibility:_=void 0}=t;return o.$$set=u=>{"taskQueue"in u&&r(0,a=u.taskQueue),"workers"in u&&r(1,f=u.workers),"reachability"in u&&r(2,n=u.reachability),"compatibility"in u&&r(7,_=u.compatibility)},o.$$.update=()=>{o.$$.dirty&128&&r(4,e=lt(_)),o.$$.dirty&128&&r(3,s=rt(_))},[a,f,n,s,e,l,i,_]}class yt extends se{constructor(t){super(),ae(this,t,It,Ct,re,{taskQueue:0,workers:1,reachability:2,compatibility:7})}}function Ve(o,t,r){const e=o.slice();return e[12]=t[r],e[14]=r,e}function Fe(o,t,r){const e=o.slice();return e[12]=t[r],e[14]=r,e}function Se(o){let t,r,e,s;return e=new ue({props:{title:j("workers.no-assignment-rules-found")}}),{c(){t=w("tr"),r=w("td"),H(e.$$.fragment),this.h()},l(l){t=v(l,"TR",{class:!0});var i=I(t);r=v(i,"TD",{colspan:!0});var a=I(r);P(e.$$.fragment,a),a.forEach(c),i.forEach(c),this.h()},h(){b(r,"colspan","6"),b(t,"class","w-full")},m(l,i){$(l,t,i),R(t,r),B(e,r,null),s=!0},p:D,i(l){s||(g(e.$$.fragment,l),s=!0)},o(l){T(e.$$.fragment,l),s=!1},d(l){l&&c(t),V(e)}}}function Dt(o){var M;let t,r=o[14]+"",e,s,l,i=((M=o[12].rule)==null?void 0:M.targetBuildId)+"",a,f,n,_=o[5](o[12]).toFixed(0)+"",u,m,d,p,h,k=le(o[12].createTime,o[4])+"",A;return{c(){t=w("td"),e=F(r),s=q(),l=w("td"),a=F(i),f=q(),n=w("td"),u=F(_),m=F("%"),d=q(),p=w("td"),h=w("p"),A=F(k),this.h()},l(C){t=v(C,"TD",{class:!0,"data-testid":!0});var Q=I(t);e=S(Q,r),Q.forEach(c),s=N(C),l=v(C,"TD",{class:!0,"data-testid":!0});var z=I(l);a=S(z,i),z.forEach(c),f=N(C),n=v(C,"TD",{class:!0,"data-testid":!0});var y=I(n);u=S(y,_),m=S(y,"%"),y.forEach(c),d=N(C),p=v(C,"TD",{class:!0,"data-testid":!0});var E=I(p);h=v(E,"P",{});var O=I(h);A=S(O,k),O.forEach(c),E.forEach(c),this.h()},h(){b(t,"class","text-left"),b(t,"data-testid","index"),b(l,"class","break-all text-left"),b(l,"data-testid","target-build-id"),b(n,"class","text-right"),b(n,"data-testid","target-ramp"),b(p,"class","justfiy-between flex w-full items-center text-right"),b(p,"data-testid","target-create-time")},m(C,Q){$(C,t,Q),R(t,e),$(C,s,Q),$(C,l,Q),R(l,a),$(C,f,Q),$(C,n,Q),R(n,u),R(n,m),$(C,d,Q),$(C,p,Q),R(p,h),R(h,A)},p(C,Q){var z;Q&4&&r!==(r=C[14]+"")&&Y(e,r),Q&4&&i!==(i=((z=C[12].rule)==null?void 0:z.targetBuildId)+"")&&Y(a,i),Q&4&&_!==(_=C[5](C[12]).toFixed(0)+"")&&Y(u,_),Q&20&&k!==(k=le(C[12].createTime,C[4])+"")&&Y(A,k)},d(C){C&&(c(t),c(s),c(l),c(f),c(n),c(d),c(p))}}}function Ae(o,t){let r,e,s;return e=new ne({props:{"data-testid":"version-row",$$slots:{default:[Dt]},$$scope:{ctx:t}}}),{key:o,first:null,c(){r=W(),H(e.$$.fragment),this.h()},l(l){r=W(),P(e.$$.fragment,l),this.h()},h(){this.first=r},m(l,i){$(l,r,i),B(e,l,i),s=!0},p(l,i){t=l;const a={};i&65556&&(a.$$scope={dirty:i,ctx:t}),e.$set(a)},i(l){s||(g(e.$$.fragment,l),s=!0)},o(l){T(e.$$.fragment,l),s=!1},d(l){l&&c(r),V(e,l)}}}function We(o){let t,r;return t=new ne({props:{"data-testid":"view-all",class:"surface-subtle cursor-pointer",$$slots:{default:[Rt]},$$scope:{ctx:o}}}),t.$on("click",o[11]),{c(){H(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,s){B(t,e,s),r=!0},p(e,s){const l={};s&65536&&(l.$$scope={dirty:s,ctx:e}),t.$set(l)},i(e){r||(g(t.$$.fragment,e),r=!0)},o(e){T(t.$$.fragment,e),r=!1},d(e){V(t,e)}}}function Rt(o){let t,r,e,s=j("workers.show-inactive-assignment-rules")+"",l,i,a,f,n;return{c(){t=w("td"),r=q(),e=w("td"),l=F(s),i=q(),a=w("td"),f=q(),n=w("td"),this.h()},l(_){t=v(_,"TD",{}),I(t).forEach(c),r=N(_),e=v(_,"TD",{class:!0});var u=I(e);l=S(u,s),u.forEach(c),i=N(_),a=v(_,"TD",{}),I(a).forEach(c),f=N(_),n=v(_,"TD",{}),I(n).forEach(c),this.h()},h(){b(e,"class","break-all text-left text-blue-700 underline")},m(_,u){$(_,t,u),$(_,r,u),$(_,e,u),R(e,l),$(_,i,u),$(_,a,u),$(_,f,u),$(_,n,u)},p:D,d(_){_&&(c(t),c(r),c(e),c(i),c(a),c(f),c(n))}}}function qt(o){var _;let t=[],r=new Map,e,s,l,i=X(o[2]);const a=u=>u[14];for(let u=0;u<i.length;u+=1){let m=Fe(o,i,u),d=a(m);r.set(d,t[u]=Ae(d,m))}let f=null;i.length||(f=Se());let n=!o[0]&&((_=o[1])==null?void 0:_.length)&&We(o);return{c(){for(let u=0;u<t.length;u+=1)t[u].c();f&&f.c(),e=q(),n&&n.c(),s=W()},l(u){for(let m=0;m<t.length;m+=1)t[m].l(u);f&&f.l(u),e=N(u),n&&n.l(u),s=W()},m(u,m){for(let d=0;d<t.length;d+=1)t[d]&&t[d].m(u,m);f&&f.m(u,m),$(u,e,m),n&&n.m(u,m),$(u,s,m),l=!0},p(u,m){var d;m&52&&(i=X(u[2]),K(),t=oe(t,m,a,1,u,i,r,e.parentNode,fe,Ae,e,Fe),L(),!i.length&&f?f.p(u,m):i.length?f&&(K(),T(f,1,1,()=>{f=null}),L()):(f=Se(),f.c(),g(f,1),f.m(e.parentNode,e))),!u[0]&&((d=u[1])!=null&&d.length)?n?(n.p(u,m),m&3&&g(n,1)):(n=We(u),n.c(),g(n,1),n.m(s.parentNode,s)):n&&(K(),T(n,1,1,()=>{n=null}),L())},i(u){if(!l){for(let m=0;m<i.length;m+=1)g(t[m]);g(n),l=!0}},o(u){for(let m=0;m<t.length;m+=1)T(t[m]);T(n),l=!1},d(u){u&&(c(e),c(s));for(let m=0;m<t.length;m+=1)t[m].d(u);f&&f.d(u),n&&n.d(u)}}}function Nt(o){let t,r="Index",e,s,l="Target Build ID",i,a,f="Ramp",n,_,u="Create Time";return{c(){t=w("th"),t.textContent=r,e=q(),s=w("th"),s.textContent=l,i=q(),a=w("th"),a.textContent=f,n=q(),_=w("th"),_.textContent=u,this.h()},l(m){t=v(m,"TH",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-9c3h6b"&&(t.textContent=r),e=N(m),s=v(m,"TH",{class:!0,"data-svelte-h":!0}),x(s)!=="svelte-1y9wj7a"&&(s.textContent=l),i=N(m),a=v(m,"TH",{class:!0,"data-svelte-h":!0}),x(a)!=="svelte-v0wniv"&&(a.textContent=f),n=N(m),_=v(m,"TH",{class:!0,"data-svelte-h":!0}),x(_)!=="svelte-1bmkxw8"&&(_.textContent=u),this.h()},h(){b(t,"class","w-20"),b(s,"class","grow"),b(a,"class","w-20"),b(_,"class","text-right")},m(m,d){$(m,t,d),$(m,e,d),$(m,s,d),$(m,i,d),$(m,a,d),$(m,n,d),$(m,_,d)},p:D,d(m){m&&(c(t),c(e),c(s),c(i),c(a),c(n),c(_))}}}function Qt(o){let t,r;return t=new ce({props:{slot:"headers",$$slots:{default:[Nt]},$$scope:{ctx:o}}}),{c(){H(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,s){B(t,e,s),r=!0},p(e,s){const l={};s&65536&&(l.$$scope={dirty:s,ctx:e}),t.$set(l)},i(e){r||(g(t.$$.fragment,e),r=!0)},o(e){T(t.$$.fragment,e),r=!1},d(e){V(t,e)}}}function Oe(o){let t,r,e,s,l;return e=new ue({props:{title:j("workers.no-redirect-rules-found")}}),{c(){t=w("tr"),r=w("td"),H(e.$$.fragment),s=q(),this.h()},l(i){t=v(i,"TR",{class:!0});var a=I(t);r=v(a,"TD",{colspan:!0});var f=I(r);P(e.$$.fragment,f),f.forEach(c),s=N(a),a.forEach(c),this.h()},h(){b(r,"colspan","6"),b(t,"class","w-full")},m(i,a){$(i,t,a),R(t,r),B(e,r,null),R(t,s),l=!0},p:D,i(i){l||(g(e.$$.fragment,i),l=!0)},o(i){T(e.$$.fragment,i),l=!1},d(i){i&&c(t),V(e)}}}function Ht(o){let t,r=o[12].rule.sourceBuildId+"",e,s,l,i=o[12].rule.targetBuildId+"",a,f,n,_=le(o[12].createTime,o[4])+"",u,m;return{c(){t=w("td"),e=F(r),s=q(),l=w("td"),a=F(i),f=q(),n=w("td"),u=F(_),m=q(),this.h()},l(d){t=v(d,"TD",{class:!0,"data-testid":!0});var p=I(t);e=S(p,r),p.forEach(c),s=N(d),l=v(d,"TD",{class:!0,"data-testid":!0});var h=I(l);a=S(h,i),h.forEach(c),f=N(d),n=v(d,"TD",{class:!0,"data-testid":!0});var k=I(n);u=S(k,_),k.forEach(c),m=N(d),this.h()},h(){b(t,"class","text-left"),b(t,"data-testid","target-source"),b(l,"class","text-left"),b(l,"data-testid","target-source"),b(n,"class","text-left"),b(n,"data-testid","target-source")},m(d,p){$(d,t,p),R(t,e),$(d,s,p),$(d,l,p),R(l,a),$(d,f,p),$(d,n,p),R(n,u),$(d,m,p)},p(d,p){p&8&&r!==(r=d[12].rule.sourceBuildId+"")&&Y(e,r),p&8&&i!==(i=d[12].rule.targetBuildId+"")&&Y(a,i),p&24&&_!==(_=le(d[12].createTime,d[4])+"")&&Y(u,_)},d(d){d&&(c(t),c(s),c(l),c(f),c(n),c(m))}}}function je(o,t){let r,e,s;return e=new ne({props:{"data-testid":"version-row",$$slots:{default:[Ht]},$$scope:{ctx:t}}}),{key:o,first:null,c(){r=W(),H(e.$$.fragment),this.h()},l(l){r=W(),P(e.$$.fragment,l),this.h()},h(){this.first=r},m(l,i){$(l,r,i),B(e,l,i),s=!0},p(l,i){t=l;const a={};i&65560&&(a.$$scope={dirty:i,ctx:t}),e.$set(a)},i(l){s||(g(e.$$.fragment,l),s=!0)},o(l){T(e.$$.fragment,l),s=!1},d(l){l&&c(r),V(e,l)}}}function Pt(o){let t=[],r=new Map,e,s,l=X(o[3]);const i=f=>f[14];for(let f=0;f<l.length;f+=1){let n=Ve(o,l,f),_=i(n);r.set(_,t[f]=je(_,n))}let a=null;return l.length||(a=Oe()),{c(){for(let f=0;f<t.length;f+=1)t[f].c();e=W(),a&&a.c()},l(f){for(let n=0;n<t.length;n+=1)t[n].l(f);e=W(),a&&a.l(f)},m(f,n){for(let _=0;_<t.length;_+=1)t[_]&&t[_].m(f,n);$(f,e,n),a&&a.m(f,n),s=!0},p(f,n){n&24&&(l=X(f[3]),K(),t=oe(t,n,i,1,f,l,r,e.parentNode,fe,je,e,Ve),L(),!l.length&&a?a.p(f,n):l.length?a&&(K(),T(a,1,1,()=>{a=null}),L()):(a=Oe(),a.c(),g(a,1),a.m(e.parentNode,e)))},i(f){if(!s){for(let n=0;n<l.length;n+=1)g(t[n]);s=!0}},o(f){for(let n=0;n<t.length;n+=1)T(t[n]);s=!1},d(f){f&&c(e);for(let n=0;n<t.length;n+=1)t[n].d(f);a&&a.d(f)}}}function Bt(o){let t,r="Source Build ID",e,s,l="Target Build ID",i,a,f="Create Time";return{c(){t=w("th"),t.textContent=r,e=q(),s=w("th"),s.textContent=l,i=q(),a=w("th"),a.textContent=f,this.h()},l(n){t=v(n,"TH",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-1ojbhda"&&(t.textContent=r),e=N(n),s=v(n,"TH",{class:!0,"data-svelte-h":!0}),x(s)!=="svelte-1kj4z8i"&&(s.textContent=l),i=N(n),a=v(n,"TH",{class:!0,"data-svelte-h":!0}),x(a)!=="svelte-jrosx7"&&(a.textContent=f),this.h()},h(){b(t,"class","w-1/3"),b(s,"class","w-1/3"),b(a,"class","w-1/3")},m(n,_){$(n,t,_),$(n,e,_),$(n,s,_),$(n,i,_),$(n,a,_)},p:D,d(n){n&&(c(t),c(e),c(s),c(i),c(a))}}}function Vt(o){let t,r;return t=new ce({props:{slot:"headers",$$slots:{default:[Bt]},$$scope:{ctx:o}}}),{c(){H(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,s){B(t,e,s),r=!0},p(e,s){const l={};s&65536&&(l.$$scope={dirty:s,ctx:e}),t.$set(l)},i(e){r||(g(t.$$.fragment,e),r=!0)},o(e){T(t.$$.fragment,e),r=!1},d(e){V(t,e)}}}function Ft(o){let t,r=j("workers.assignment-rules")+"",e,s,l,i,a,f=j("workers.redirect-rules")+"",n,_,u,m;return l=new ie({props:{class:"mb-6 w-full table-fixed",$$slots:{headers:[Qt],default:[qt]},$$scope:{ctx:o}}}),u=new ie({props:{class:"mb-6 w-full table-fixed",$$slots:{headers:[Vt],default:[Pt]},$$scope:{ctx:o}}}),{c(){t=w("h2"),e=F(r),s=q(),H(l.$$.fragment),i=q(),a=w("h2"),n=F(f),_=q(),H(u.$$.fragment),this.h()},l(d){t=v(d,"H2",{"data-testid":!0});var p=I(t);e=S(p,r),p.forEach(c),s=N(d),P(l.$$.fragment,d),i=N(d),a=v(d,"H2",{"data-testid":!0});var h=I(a);n=S(h,f),h.forEach(c),_=N(d),P(u.$$.fragment,d),this.h()},h(){b(t,"data-testid","worker-rules"),b(a,"data-testid","worker-rules")},m(d,p){$(d,t,p),R(t,e),$(d,s,p),B(l,d,p),$(d,i,p),$(d,a,p),R(a,n),$(d,_,p),B(u,d,p),m=!0},p(d,[p]){const h={};p&65559&&(h.$$scope={dirty:p,ctx:d}),l.$set(h);const k={};p&65560&&(k.$$scope={dirty:p,ctx:d}),u.$set(k)},i(d){m||(g(l.$$.fragment,d),g(u.$$.fragment,d),m=!0)},o(d){T(l.$$.fragment,d),T(u.$$.fragment,d),m=!1},d(d){d&&(c(t),c(s),c(i),c(a),c(_)),V(l,d),V(u,d)}}}function St(o,t,r){let e,s,l,i,a,f,n,_;ee(o,Le,h=>r(4,_=h));let{rules:u}=t,m=!1;const d=h=>{var k,A,M;return!((k=h.rule)===null||k===void 0)&&k.percentageRamp?!((M=(A=h.rule)===null||A===void 0?void 0:A.percentageRamp)===null||M===void 0)&&M.rampPercentage?h.rule.percentageRamp.rampPercentage:0:100},p=()=>r(0,m=!m);return o.$$set=h=>{"rules"in h&&r(6,u=h.rules)},o.$$.update=()=>{o.$$.dirty&64&&r(9,{assignmentRules:e=[],compatibleRedirectRules:s=[]}=u,e,(r(3,s),r(6,u))),o.$$.dirty&512&&r(10,l=e.find(h=>d(h)===100)),o.$$.dirty&1536&&r(8,i=e.indexOf(l)),o.$$.dirty&768&&r(7,a=e.filter((h,k)=>k<=i)),o.$$.dirty&768&&r(1,f=e.filter((h,k)=>k>i)),o.$$.dirty&131&&r(2,n=m?[...a,...f]:a)},[m,f,n,s,_,d,u,a,i,e,l,p]}class At extends se{constructor(t){super(),ae(this,t,St,Ft,re,{rules:6})}}function Me(o){o[9]=o[12].rules,o[10]=o[12].compatibility,o[11]=o[12].versionSets}const Wt=o=>({compatibility:o&33}),Ke=o=>({compatibility:o[10]});function Ot(o){return{c:D,l:D,m:D,p:D,i:D,o:D,d:D}}function jt(o){Me(o);let t,r,e,s,l;const i=[Lt,Kt,Mt],a=[];function f(n,_){var u;return _&37&&(t=null),t==null&&(t=!!n[2](n[9])),t?0:n[4]&&((u=n[11])!=null&&u.length)?1:2}return r=f(o,-1),e=a[r]=i[r](o),{c(){e.c(),s=W()},l(n){e.l(n),s=W()},m(n,_){a[r].m(n,_),$(n,s,_),l=!0},p(n,_){Me(n);let u=r;r=f(n,_),r===u?a[r].p(n,_):(K(),T(a[u],1,1,()=>{a[u]=null}),L(),e=a[r],e?e.p(n,_):(e=a[r]=i[r](n),e.c()),g(e,1),e.m(s.parentNode,s))},i(n){l||(g(e),l=!0)},o(n){T(e),l=!1},d(n){n&&c(s),a[r].d(n)}}}function Mt(o){let t,r="No versioning configured for task queue.";return{c(){t=w("p"),t.textContent=r},l(e){t=v(e,"P",{"data-svelte-h":!0}),x(t)!=="svelte-1l2qp7c"&&(t.textContent=r)},m(e,s){$(e,t,s)},p:D,i:D,o:D,d(e){e&&c(t)}}}function Kt(o){let t,r,e,s={ctx:o,current:null,token:null,hasCatch:!1,pending:Ut,then:zt,catch:Yt,value:13,blocks:[,,,]};return te(r=ve({namespace:o[5],buildIds:o[3],queue:o[0]}),s),{c(){t=W(),s.block.c()},l(l){t=W(),s.block.l(l)},m(l,i){$(l,t,i),s.block.m(l,s.anchor=i),s.mount=()=>t.parentNode,s.anchor=t,e=!0},p(l,i){o=l,s.ctx=o,i&41&&r!==(r=ve({namespace:o[5],buildIds:o[3],queue:o[0]}))&&te(r,s)||me(s,o,i)},i(l){e||(g(s.block),e=!0)},o(l){for(let i=0;i<3;i+=1){const a=s.blocks[i];T(a)}e=!1},d(l){l&&c(t),s.block.d(l),s.token=null,s=null}}}function Lt(o){let t,r;return t=new At({props:{rules:o[9]}}),{c(){H(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,s){B(t,e,s),r=!0},p(e,s){const l={};s&33&&(l.rules=e[9]),t.$set(l)},i(e){r||(g(t.$$.fragment,e),r=!0)},o(e){T(t.$$.fragment,e),r=!1},d(e){V(t,e)}}}function Yt(o){return{c:D,l:D,m:D,p:D,i:D,o:D,d:D}}function zt(o){let t,r,e;const s=o[8].default,l=Ue(s,o,o[7],Ke);return r=new yt({props:{taskQueue:o[0],workers:o[1],compatibility:o[10],reachability:o[13]}}),{c(){l&&l.c(),t=q(),H(r.$$.fragment)},l(i){l&&l.l(i),t=N(i),P(r.$$.fragment,i)},m(i,a){l&&l.m(i,a),$(i,t,a),B(r,i,a),e=!0},p(i,a){l&&l.p&&(!e||a&161)&&Ge(l,s,i,i[7],e?Xe(s,i[7],a,Wt):Je(i[7]),Ke);const f={};a&1&&(f.taskQueue=i[0]),a&2&&(f.workers=i[1]),a&33&&(f.compatibility=i[10]),a&41&&(f.reachability=i[13]),r.$set(f)},i(i){e||(g(l,i),g(r.$$.fragment,i),e=!0)},o(i){T(l,i),T(r.$$.fragment,i),e=!1},d(i){i&&c(t),l&&l.d(i),V(r,i)}}}function Ut(o){let t,r;return t=new Ye({props:{rows:3}}),{c(){H(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,s){B(t,e,s),r=!0},p:D,i(e){r||(g(t.$$.fragment,e),r=!0)},o(e){T(t.$$.fragment,e),r=!1},d(e){V(t,e)}}}function Gt(o){let t,r;return t=new Ye({props:{rows:3}}),{c(){H(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,s){B(t,e,s),r=!0},p:D,i(e){r||(g(t.$$.fragment,e),r=!0)},o(e){T(t.$$.fragment,e),r=!1},d(e){V(t,e)}}}function Jt(o){let t,r,e,s={ctx:o,current:null,token:null,hasCatch:!1,pending:Gt,then:jt,catch:Ot,value:12,blocks:[,,,]};return te(r=we({namespace:o[5],queue:o[0]}),s),{c(){t=W(),s.block.c()},l(l){t=W(),s.block.l(l)},m(l,i){$(l,t,i),s.block.m(l,s.anchor=i),s.mount=()=>t.parentNode,s.anchor=t,e=!0},p(l,[i]){o=l,s.ctx=o,i&33&&r!==(r=we({namespace:o[5],queue:o[0]}))&&te(r,s)||me(s,o,i)},i(l){e||(g(s.block),e=!0)},o(l){for(let i=0;i<3;i+=1){const a=s.blocks[i];T(a)}e=!1},d(l){l&&c(t),s.block.d(l),s.token=null,s=null}}}function Xt(o,t,r){let e,s,l,i,a;ee(o,_e,m=>r(6,a=m));let{$$slots:f={},$$scope:n}=t,{taskQueue:_}=t,{workers:u}=t;return o.$$set=m=>{"taskQueue"in m&&r(0,_=m.taskQueue),"workers"in m&&r(1,u=m.workers),"$$scope"in m&&r(7,n=m.$$scope)},o.$$.update=()=>{o.$$.dirty&64&&r(5,{namespace:e}=a.params,e),o.$$.dirty&2&&r(4,s=nt(u.pollers)),o.$$.dirty&2&&r(3,l=it(u.pollers))},r(2,i=m=>(m==null?void 0:m.assignmentRules)||(m==null?void 0:m.compatibleRedirectRules)),[_,u,i,l,s,e,a,n,f]}class Zt extends se{constructor(t){super(),ae(this,t,Xt,Jt,re,{taskQueue:0,workers:1})}}function xt(o){return{c:D,l:D,m:D,p:D,i:D,o:D,d:D}}function el(o){let t,r,e,s,l,i,a,f,n;l=new et({props:{$$slots:{default:[ll]},$$scope:{ctx:o}}});const _=[sl,rl],u=[];function m(d,p){return d[0]==="versioning"?0:1}return a=m(o),f=u[a]=_[a](o),{c(){t=w("section"),r=w("h2"),e=F(o[2]),s=q(),H(l.$$.fragment),i=q(),f.c(),this.h()},l(d){t=v(d,"SECTION",{class:!0});var p=I(t);r=v(p,"H2",{"data-testid":!0});var h=I(r);e=S(h,o[2]),h.forEach(c),s=N(p),P(l.$$.fragment,p),i=N(p),f.l(p),p.forEach(c),this.h()},h(){b(r,"data-testid","task-queue-name"),b(t,"class","flex flex-col gap-4")},m(d,p){$(d,t,p),R(t,r),R(r,e),R(t,s),B(l,t,null),R(t,i),u[a].m(t,null),n=!0},p(d,p){(!n||p&4)&&Y(e,d[2]);const h={};p&129&&(h.$$scope={dirty:p,ctx:d}),l.$set(h);let k=a;a=m(d),a===k?u[a].p(d,p):(K(),T(u[k],1,1,()=>{u[k]=null}),L(),f=u[a],f?f.p(d,p):(f=u[a]=_[a](d),f.c()),g(f,1),f.m(t,null))},i(d){n||(g(l.$$.fragment,d),g(f),n=!0)},o(d){T(l.$$.fragment,d),T(f),n=!1},d(d){d&&c(t),V(l),u[a].d()}}}function tl(o){let t,r,e,s;return t=new be({props:{label:j("workers.workers"),id:"worker-tab",onClick:o[4]}}),e=new be({props:{label:j("workers.versioning"),id:"versioning-tab",onClick:o[5]}}),{c(){H(t.$$.fragment),r=q(),H(e.$$.fragment)},l(l){P(t.$$.fragment,l),r=N(l),P(e.$$.fragment,l)},m(l,i){B(t,l,i),$(l,r,i),B(e,l,i),s=!0},p(l,i){const a={};i&1&&(a.onClick=l[4]),t.$set(a);const f={};i&1&&(f.onClick=l[5]),e.$set(f)},i(l){s||(g(t.$$.fragment,l),g(e.$$.fragment,l),s=!0)},o(l){T(t.$$.fragment,l),T(e.$$.fragment,l),s=!1},d(l){l&&c(r),V(t,l),V(e,l)}}}function ll(o){let t,r;return t=new tt({props:{class:"flex flex-wrap gap-6 p-4 pl-0",label:"task queue detail",$$slots:{default:[tl]},$$scope:{ctx:o}}}),{c(){H(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,s){B(t,e,s),r=!0},p(e,s){const l={};s&129&&(l.$$scope={dirty:s,ctx:e}),t.$set(l)},i(e){r||(g(t.$$.fragment,e),r=!0)},o(e){T(t.$$.fragment,e),r=!1},d(e){V(t,e)}}}function rl(o){let t,r;return t=new xe({props:{workers:o[6]}}),{c(){H(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,s){B(t,e,s),r=!0},p(e,s){const l={};s&6&&(l.workers=e[6]),t.$set(l)},i(e){r||(g(t.$$.fragment,e),r=!0)},o(e){T(t.$$.fragment,e),r=!1},d(e){V(t,e)}}}function sl(o){let t,r;return t=new Zt({props:{taskQueue:o[2],workers:o[6]}}),{c(){H(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,s){B(t,e,s),r=!0},p(e,s){const l={};s&4&&(l.taskQueue=e[2]),s&6&&(l.workers=e[6]),t.$set(l)},i(e){r||(g(t.$$.fragment,e),r=!0)},o(e){T(t.$$.fragment,e),r=!1},d(e){V(t,e)}}}function al(o){return{c:D,l:D,m:D,p:D,i:D,o:D,d:D}}function nl(o){let t,r,e,s={ctx:o,current:null,token:null,hasCatch:!1,pending:al,then:el,catch:xt,value:6,blocks:[,,,]};return te(r=Te({queue:o[2],namespace:o[1]}),s),{c(){t=W(),s.block.c()},l(l){t=W(),s.block.l(l)},m(l,i){$(l,t,i),s.block.m(l,s.anchor=i),s.mount=()=>t.parentNode,s.anchor=t,e=!0},p(l,[i]){o=l,s.ctx=o,i&6&&r!==(r=Te({queue:o[2],namespace:o[1]}))&&te(r,s)||me(s,o,i)},i(l){e||(g(s.block),e=!0)},o(l){for(let i=0;i<3;i+=1){const a=s.blocks[i];T(a)}e=!1},d(l){l&&c(t),s.block.d(l),s.token=null,s=null}}}function il(o,t,r){let e,s,l;ee(o,_e,n=>r(3,l=n));let i="workers";const a=()=>r(0,i="workers"),f=()=>r(0,i="versioning");return o.$$.update=()=>{o.$$.dirty&8&&r(2,{queue:e,namespace:s}=l.params,e,(r(1,s),r(3,l)))},[i,s,e,l,a,f]}class ol extends se{constructor(t){super(),ae(this,t,il,nl,re,{})}}function fl(o){let t,r,e,s;return t=new Ze({props:{title:`Task Queue | ${o[1]}`,url:o[0].url.href}}),e=new ol({}),{c(){H(t.$$.fragment),r=q(),H(e.$$.fragment)},l(l){P(t.$$.fragment,l),r=N(l),P(e.$$.fragment,l)},m(l,i){B(t,l,i),$(l,r,i),B(e,l,i),s=!0},p(l,[i]){const a={};i&1&&(a.url=l[0].url.href),t.$set(a)},i(l){s||(g(t.$$.fragment,l),g(e.$$.fragment,l),s=!0)},o(l){T(t.$$.fragment,l),T(e.$$.fragment,l),s=!1},d(l){l&&c(r),V(t,l),V(e,l)}}}function ul(o,t,r){let e;ee(o,_e,l=>r(0,e=l));const s=e.params.queue;return[e,s]}class Ql extends se{constructor(t){super(),ae(this,t,ul,fl,re,{})}}export{Ql as component};

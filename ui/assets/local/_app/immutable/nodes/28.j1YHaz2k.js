import{s as re,h as v,t as S,b as N,j as T,k as y,l as V,f as c,d as H,m as b,i as $,n as R,c as ee,x as W,q as z,v as I,y as fe,H as ge,o as x,a as et,u as tt,g as lt,e as rt,S as me}from"../chunks/scheduler.tl3rb73C.js";import{S as se,i as ae,c as q,a as A,m as Q,t as g,b as k,d as P,g as L,e as Y}from"../chunks/index.iYEhKDTv.js";import{p as he}from"../chunks/stores.9_jifC6J.js";import{P as nt}from"../chunks/page-title.5Y77ZOeY.js";import{h as te,u as $e}from"../chunks/await_block.eKmDPqed.js";import{P as be,W as ot}from"../chunks/worker-table.hBlTHPYR.js";import{T as it,a as ft,b as ke}from"../chunks/tab.AN87DC7Q.js";import{t as j}from"../chunks/translate.HrioCK44.js";import{g as ut,a as ct,b as _t,c as mt,d as we,e as ve,f as Te,p as ht,h as $t,i as Ee,j as ye}from"../chunks/pollers-service.f9b9sctJ.js";import{e as K,u as ue,o as ce}from"../chunks/each.Kfc4tziU.js";import{B as dt}from"../chunks/badge.7WYXCmS1.js";import{C as de}from"../chunks/compatibility-badge.u3PCzJS_.js";import{E as _e}from"../chunks/empty-state.t2_mz7yD.js";import{T as oe,a as ie}from"../chunks/table-header-row.kA3WdR97.js";import{T as ne}from"../chunks/table-row.wZ3Y0CqM.js";import{t as st,r as pt,f as le}from"../chunks/time-format.JkY4StM1.js";import"../chunks/auth-user.Tfruh-qP.js";import"../chunks/toaster.mZCmzo95.js";import"../chunks/paths.iXVEt1tF.js";import"../chunks/entry.wVVJrQqV.js";import{S as gt}from"../chunks/index.GTIw1tFG.js";function Ce(o,t,l){const e=o.slice();e[8]=t[l];const r=_t(e[8]);e[9]=r;const s=mt(e[2],e[0],e[9]);return e[10]=s,e}function Ie(o,t,l){const e=o.slice();return e[13]=t[l],e[15]=l,e}function De(o,t,l){const e=o.slice();return e[9]=t[l],e}function Re(o){let t,l,e,r,s;return e=new _e({props:{title:j("workers.no-version-sets-found")}}),{c(){t=v("tr"),l=v("td"),q(e.$$.fragment),r=N(),this.h()},l(a){t=T(a,"TR",{class:!0});var n=y(t);l=T(n,"TD",{colspan:!0});var f=y(l);A(e.$$.fragment,f),f.forEach(c),r=H(n),n.forEach(c),this.h()},h(){b(l,"colspan","6"),b(t,"class","w-full")},m(a,n){$(a,t,n),R(t,l),Q(e,l,null),R(t,r),s=!0},p:I,i(a){s||(g(e.$$.fragment,a),s=!0)},o(a){k(e.$$.fragment,a),s=!1},d(a){a&&c(t),P(e)}}}function Ne(o){let t=j("workers.overall")+"",l;return{c(){l=S(t)},l(e){l=V(e,t)},m(e,r){$(e,l,r)},p:I,d(e){e&&c(l)}}}function bt(o){let t,l=o[15]===0&&Ne();return{c(){l&&l.c(),t=W()},l(e){l&&l.l(e),t=W()},m(e,r){l&&l.m(e,r),$(e,t,r)},p(e,r){e[15]===0?l?l.p(e,r):(l=Ne(),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(e){e&&c(t),l&&l.d(e)}}}function kt(o){let t=j("workers.default")+"",l;return{c(){l=S(t)},l(e){l=V(e,t)},m(e,r){$(e,l,r)},p:I,d(e){e&&c(l)}}}function wt(o){let t=j("workers.default")+"",l,e;return{c(){l=S(t),e=N()},l(r){l=V(r,t),e=H(r)},m(r,s){$(r,l,s),$(r,e,s)},p:I,d(r){r&&(c(l),c(e))}}}function He(o){let t,l;return t=new de({props:{active:!1,buildId:o[9],$$slots:{"default-worker":[wt]},$$scope:{ctx:o}}}),{c(){q(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,r){Q(t,e,r),l=!0},p(e,r){const s={};r&16&&(s.buildId=e[9]),r&262144&&(s.$$scope={dirty:r,ctx:e}),t.$set(s)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){P(t,e)}}}function vt(o){let t,l,e,r,s,a,n;l=new de({props:{defaultVersion:!0,active:o[15]===0,buildId:we(o[13].buildIds),$$slots:{"default-worker":[kt],"overall-default-worker":[bt]},$$scope:{ctx:o}}});let f=K(ve(o[13].buildIds)),i=[];for(let u=0;u<f.length;u+=1)i[u]=He(De(o,f,u));const _=u=>k(i[u],1,1,()=>{i[u]=null});return{c(){t=v("td"),q(l.$$.fragment),e=N(),r=v("td"),s=v("div");for(let u=0;u<i.length;u+=1)i[u].c();a=N(),this.h()},l(u){t=T(u,"TD",{class:!0,"data-testid":!0});var m=y(t);A(l.$$.fragment,m),m.forEach(c),e=H(u),r=T(u,"TD",{class:!0,"data-testid":!0});var h=y(r);s=T(h,"DIV",{class:!0});var d=y(s);for(let p=0;p<i.length;p+=1)i[p].l(d);d.forEach(c),h.forEach(c),a=H(u),this.h()},h(){b(t,"class","text-left"),b(t,"data-testid","version-default"),b(s,"class","flex flex-wrap gap-2 font-mono"),b(r,"class","text-left"),b(r,"data-testid","version-compatible-builds")},m(u,m){$(u,t,m),Q(l,t,null),$(u,e,m),$(u,r,m),R(r,s);for(let h=0;h<i.length;h+=1)i[h]&&i[h].m(s,null);$(u,a,m),n=!0},p(u,m){const h={};if(m&16&&(h.active=u[15]===0),m&16&&(h.buildId=we(u[13].buildIds)),m&262160&&(h.$$scope={dirty:m,ctx:u}),l.$set(h),m&16){f=K(ve(u[13].buildIds));let d;for(d=0;d<f.length;d+=1){const p=De(u,f,d);i[d]?(i[d].p(p,m),g(i[d],1)):(i[d]=He(p),i[d].c(),g(i[d],1),i[d].m(s,null))}for(L(),d=f.length;d<i.length;d+=1)_(d);Y()}},i(u){if(!n){g(l.$$.fragment,u);for(let m=0;m<f.length;m+=1)g(i[m]);n=!0}},o(u){k(l.$$.fragment,u),i=i.filter(Boolean);for(let m=0;m<i.length;m+=1)k(i[m]);n=!1},d(u){u&&(c(t),c(e),c(r),c(a)),P(l),fe(i,u)}}}function qe(o,t){let l,e,r;return e=new ne({props:{"data-testid":"version-row",$$slots:{default:[vt]},$$scope:{ctx:t}}}),{key:o,first:null,c(){l=W(),q(e.$$.fragment),this.h()},l(s){l=W(),A(e.$$.fragment,s),this.h()},h(){this.first=l},m(s,a){$(s,l,a),Q(e,s,a),r=!0},p(s,a){t=s;const n={};a&262160&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(s){r||(g(e.$$.fragment,s),r=!0)},o(s){k(e.$$.fragment,s),r=!1},d(s){s&&c(l),P(e,s)}}}function Tt(o){let t=[],l=new Map,e,r,s=K(o[4]);const a=f=>f[15];for(let f=0;f<s.length;f+=1){let i=Ie(o,s,f),_=a(i);l.set(_,t[f]=qe(_,i))}let n=null;return s.length||(n=Re()),{c(){for(let f=0;f<t.length;f+=1)t[f].c();e=W(),n&&n.c()},l(f){for(let i=0;i<t.length;i+=1)t[i].l(f);e=W(),n&&n.l(f)},m(f,i){for(let _=0;_<t.length;_+=1)t[_]&&t[_].m(f,i);$(f,e,i),n&&n.m(f,i),r=!0},p(f,i){i&16&&(s=K(f[4]),L(),t=ue(t,i,a,1,f,s,l,e.parentNode,ce,qe,e,Ie),Y(),!s.length&&n?n.p(f,i):s.length?n&&(L(),k(n,1,1,()=>{n=null}),Y()):(n=Re(),n.c(),g(n,1),n.m(e.parentNode,e)))},i(f){if(!r){for(let i=0;i<s.length;i+=1)g(t[i]);r=!0}},o(f){for(let i=0;i<t.length;i+=1)k(t[i]);r=!1},d(f){f&&c(e);for(let i=0;i<t.length;i+=1)t[i].d(f);n&&n.d(f)}}}function Et(o){let t,l=j("workers.default")+"",e,r,s,a=j("workers.compatible-build-ids")+"",n;return{c(){t=v("th"),e=S(l),r=N(),s=v("th"),n=S(a),this.h()},l(f){t=T(f,"TH",{class:!0});var i=y(t);e=V(i,l),i.forEach(c),r=H(f),s=T(f,"TH",{class:!0});var _=y(s);n=V(_,a),_.forEach(c),this.h()},h(){b(t,"class","w-3/12"),b(s,"class","w-9/12")},m(f,i){$(f,t,i),R(t,e),$(f,r,i),$(f,s,i),R(s,n)},p:I,d(f){f&&(c(t),c(r),c(s))}}}function yt(o){let t,l;return t=new ie({props:{slot:"headers",$$slots:{default:[Et]},$$scope:{ctx:o}}}),{c(){q(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,r){Q(t,e,r),l=!0},p(e,r){const s={};r&262144&&(s.$$scope={dirty:r,ctx:e}),t.$set(s)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){P(t,e)}}}function Ct(o){var e,r;let t=(((r=(e=o[1])==null?void 0:e.pollers)==null?void 0:r.length)||0)+"",l;return{c(){l=S(t)},l(s){l=V(s,t)},m(s,a){$(s,l,a)},p(s,a){var n,f;a&2&&t!==(t=(((f=(n=s[1])==null?void 0:n.pollers)==null?void 0:f.length)||0)+"")&&z(l,t)},d(s){s&&c(l)}}}function Ae(o){let t,l,e,r,s,a;return e=new _e({props:{title:j("workflows.workers-empty-state")}}),{c(){t=v("tr"),l=v("td"),q(e.$$.fragment),s=N(),this.h()},l(n){t=T(n,"TR",{class:!0});var f=y(t);l=T(f,"TD",{colspan:!0});var i=y(l);A(e.$$.fragment,i),i.forEach(c),s=H(f),f.forEach(c),this.h()},h(){var n,f;b(l,"colspan",r=(f=(n=o[2])==null?void 0:n.buildIdReachability)!=null&&f.length?8:6),b(t,"class","w-full")},m(n,f){$(n,t,f),R(t,l),Q(e,l,null),R(t,s),a=!0},p(n,f){var i,_;(!a||f&4&&r!==(r=(_=(i=n[2])==null?void 0:i.buildIdReachability)!=null&&_.length?8:6))&&b(l,"colspan",r)},i(n){a||(g(e.$$.fragment,n),a=!0)},o(n){k(e.$$.fragment,n),a=!1},d(n){n&&c(t),P(e)}}}function Qe(o){let t,l,e,r,s,a,n,f=o[10]+"",i,_;return e=new de({props:{defaultVersion:o[9]===o[3],active:o[9]===o[3],buildId:o[9],$$slots:{"default-worker":[Dt],"overall-default-worker":[It]},$$scope:{ctx:o}}}),{c(){t=v("td"),l=v("p"),q(e.$$.fragment),r=N(),s=v("td"),a=v("p"),n=v("span"),i=S(f),this.h()},l(u){t=T(u,"TD",{class:!0,"data-testid":!0});var m=y(t);l=T(m,"P",{class:!0});var h=y(l);A(e.$$.fragment,h),h.forEach(c),m.forEach(c),r=H(u),s=T(u,"TD",{class:!0,"data-testid":!0});var d=y(s);a=T(d,"P",{});var p=y(a);n=T(p,"SPAN",{class:!0});var w=y(n);i=V(w,f),w.forEach(c),p.forEach(c),d.forEach(c),this.h()},h(){b(l,"class","select-all"),b(t,"class","text-left"),b(t,"data-testid","worker-identity"),b(n,"class","svelte-kdqm2r"),ge(n,"reachability",!!o[10]),b(s,"class","text-left"),b(s,"data-testid","worker-last-access-time")},m(u,m){$(u,t,m),R(t,l),Q(e,l,null),$(u,r,m),$(u,s,m),R(s,a),R(a,n),R(n,i),_=!0},p(u,m){const h={};m&10&&(h.defaultVersion=u[9]===u[3]),m&10&&(h.active=u[9]===u[3]),m&2&&(h.buildId=u[9]),m&262154&&(h.$$scope={dirty:m,ctx:u}),e.$set(h),(!_||m&7)&&f!==(f=u[10]+"")&&z(i,f),(!_||m&7)&&ge(n,"reachability",!!u[10])},i(u){_||(g(e.$$.fragment,u),_=!0)},o(u){k(e.$$.fragment,u),_=!1},d(u){u&&(c(t),c(r),c(s)),P(e)}}}function Pe(o){let t=j("workers.overall")+"",l;return{c(){l=S(t)},l(e){l=V(e,t)},m(e,r){$(e,l,r)},p:I,d(e){e&&c(l)}}}function It(o){let t,l=o[9]===o[3]&&Pe();return{c(){l&&l.c(),t=W()},l(e){l&&l.l(e),t=W()},m(e,r){l&&l.m(e,r),$(e,t,r)},p(e,r){e[9]===e[3]?l?l.p(e,r):(l=Pe(),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(e){e&&c(t),l&&l.d(e)}}}function Dt(o){let t=j("workers.default")+"",l;return{c(){l=S(t)},l(e){l=V(e,t)},m(e,r){$(e,l,r)},p:I,d(e){e&&c(l)}}}function Rt(o){var B,U;let t,l,e=o[8].identity+"",r,s,a,n,f,i=le(o[8].lastAccessTime,o[5],{relative:o[6]})+"",_,u,m,h,d,p,w,F,M,C=((U=(B=o[2])==null?void 0:B.buildIdReachability)==null?void 0:U.length)&&Qe(o);return h=new be({props:{includesTaskQueueType:o[8].taskQueueTypes.includes("WORKFLOW")}}),w=new be({props:{includesTaskQueueType:o[8].taskQueueTypes.includes("ACTIVITY")}}),{c(){t=v("td"),l=v("p"),r=S(e),s=N(),C&&C.c(),a=N(),n=v("td"),f=v("p"),_=S(i),u=N(),m=v("td"),q(h.$$.fragment),d=N(),p=v("td"),q(w.$$.fragment),F=N(),this.h()},l(D){t=T(D,"TD",{class:!0,"data-testid":!0});var E=y(t);l=T(E,"P",{class:!0});var O=y(l);r=V(O,e),O.forEach(c),E.forEach(c),s=H(D),C&&C.l(D),a=H(D),n=T(D,"TD",{class:!0,"data-testid":!0});var G=y(n);f=T(G,"P",{class:!0});var J=y(f);_=V(J,i),J.forEach(c),G.forEach(c),u=H(D),m=T(D,"TD",{"data-testid":!0});var X=y(m);A(h.$$.fragment,X),X.forEach(c),d=H(D),p=T(D,"TD",{"data-testid":!0});var Z=y(p);A(w.$$.fragment,Z),Z.forEach(c),F=H(D),this.h()},h(){b(l,"class","select-all"),b(t,"class","text-left"),b(t,"data-testid","worker-identity"),b(f,"class","select-all"),b(n,"class","text-left"),b(n,"data-testid","worker-last-access-time"),b(m,"data-testid","workflow-poller"),b(p,"data-testid","activity-poller")},m(D,E){$(D,t,E),R(t,l),R(l,r),$(D,s,E),C&&C.m(D,E),$(D,a,E),$(D,n,E),R(n,f),R(f,_),$(D,u,E),$(D,m,E),Q(h,m,null),$(D,d,E),$(D,p,E),Q(w,p,null),$(D,F,E),M=!0},p(D,E){var J,X;(!M||E&2)&&e!==(e=D[8].identity+"")&&z(r,e),(X=(J=D[2])==null?void 0:J.buildIdReachability)!=null&&X.length?C?(C.p(D,E),E&4&&g(C,1)):(C=Qe(D),C.c(),g(C,1),C.m(a.parentNode,a)):C&&(L(),k(C,1,1,()=>{C=null}),Y()),(!M||E&98)&&i!==(i=le(D[8].lastAccessTime,D[5],{relative:D[6]})+"")&&z(_,i);const O={};E&2&&(O.includesTaskQueueType=D[8].taskQueueTypes.includes("WORKFLOW")),h.$set(O);const G={};E&2&&(G.includesTaskQueueType=D[8].taskQueueTypes.includes("ACTIVITY")),w.$set(G)},i(D){M||(g(C),g(h.$$.fragment,D),g(w.$$.fragment,D),M=!0)},o(D){k(C),k(h.$$.fragment,D),k(w.$$.fragment,D),M=!1},d(D){D&&(c(t),c(s),c(a),c(n),c(u),c(m),c(d),c(p),c(F)),C&&C.d(D),P(h),P(w)}}}function Be(o,t){let l,e,r;return e=new ne({props:{"data-testid":"worker-row",$$slots:{default:[Rt]},$$scope:{ctx:t}}}),{key:o,first:null,c(){l=W(),q(e.$$.fragment),this.h()},l(s){l=W(),A(e.$$.fragment,s),this.h()},h(){this.first=l},m(s,a){$(s,l,a),Q(e,s,a),r=!0},p(s,a){t=s;const n={};a&262255&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(s){r||(g(e.$$.fragment,s),r=!0)},o(s){k(e.$$.fragment,s),r=!1},d(s){s&&c(l),P(e,s)}}}function Nt(o){var f;let t=[],l=new Map,e,r,s=K((f=o[1])==null?void 0:f.pollers);const a=i=>i[8].identity;for(let i=0;i<s.length;i+=1){let _=Ce(o,s,i),u=a(_);l.set(u,t[i]=Be(u,_))}let n=null;return s.length||(n=Ae(o)),{c(){for(let i=0;i<t.length;i+=1)t[i].c();e=W(),n&&n.c()},l(i){for(let _=0;_<t.length;_+=1)t[_].l(i);e=W(),n&&n.l(i)},m(i,_){for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(i,_);$(i,e,_),n&&n.m(i,_),r=!0},p(i,_){var u;_&111&&(s=K((u=i[1])==null?void 0:u.pollers),L(),t=ue(t,_,a,1,i,s,l,e.parentNode,ce,Be,e,Ce),Y(),!s.length&&n?n.p(i,_):s.length?n&&(L(),k(n,1,1,()=>{n=null}),Y()):(n=Ae(i),n.c(),g(n,1),n.m(e.parentNode,e)))},i(i){if(!r){for(let _=0;_<s.length;_+=1)g(t[_]);r=!0}},o(i){for(let _=0;_<t.length;_+=1)k(t[_]);r=!1},d(i){i&&c(e);for(let _=0;_<t.length;_+=1)t[_].d(i);n&&n.d(i)}}}function Ht(o){let t,l=j("workflows.workers-tab")+"",e;return{c(){t=v("caption"),e=S(l),this.h()},l(r){t=T(r,"CAPTION",{class:!0,slot:!0});var s=y(t);e=V(s,l),s.forEach(c),this.h()},h(){b(t,"class","sr-only"),b(t,"slot","caption")},m(r,s){$(r,t,s),R(t,e)},p:I,d(r){r&&c(t)}}}function Se(o){let t,l=j("workers.version")+"",e,r,s,a=j("workers.retirability")+"",n;return{c(){t=v("th"),e=S(l),r=N(),s=v("th"),n=S(a),this.h()},l(f){t=T(f,"TH",{class:!0});var i=y(t);e=V(i,l),i.forEach(c),r=H(f),s=T(f,"TH",{class:!0});var _=y(s);n=V(_,a),_.forEach(c),this.h()},h(){b(t,"class","w-3/12"),b(s,"class","w-2/12")},m(f,i){$(f,t,i),R(t,e),$(f,r,i),$(f,s,i),R(s,n)},p:I,d(f){f&&(c(t),c(r),c(s))}}}function qt(o){var U,D;let t,l=j("common.id")+"",e,r,s,a,n,f=j("workflows.last-accessed")+"",i,_,u,m,h=j("workflows.workflow-task-handler")+"",d,p,w,F,M=j("workflows.activity-handler")+"",C,B=((D=(U=o[2])==null?void 0:U.buildIdReachability)==null?void 0:D.length)&&Se();return{c(){t=v("th"),e=S(l),s=N(),B&&B.c(),a=N(),n=v("th"),i=S(f),_=N(),u=v("th"),m=v("p"),d=S(h),p=N(),w=v("th"),F=v("p"),C=S(M),this.h()},l(E){t=T(E,"TH",{class:!0});var O=y(t);e=V(O,l),O.forEach(c),s=H(E),B&&B.l(E),a=H(E),n=T(E,"TH",{class:!0});var G=y(n);i=V(G,f),G.forEach(c),_=H(E),u=T(E,"TH",{class:!0});var J=y(u);m=T(J,"P",{class:!0});var X=y(m);d=V(X,h),X.forEach(c),J.forEach(c),p=H(E),w=T(E,"TH",{class:!0});var Z=y(w);F=T(Z,"P",{class:!0});var pe=y(F);C=V(pe,M),pe.forEach(c),Z.forEach(c),this.h()},h(){var E,O;b(t,"class",r=(O=(E=o[2])==null?void 0:E.buildIdReachability)!=null&&O.length?"w-3/12":"w-6/12"),b(n,"class","w-2/12"),b(m,"class","text-center"),b(u,"class","w-2/12"),b(F,"class","text-center"),b(w,"class","w-2/12 text-center")},m(E,O){$(E,t,O),R(t,e),$(E,s,O),B&&B.m(E,O),$(E,a,O),$(E,n,O),R(n,i),$(E,_,O),$(E,u,O),R(u,m),R(m,d),$(E,p,O),$(E,w,O),R(w,F),R(F,C)},p(E,O){var G,J,X,Z;O&4&&r!==(r=(J=(G=E[2])==null?void 0:G.buildIdReachability)!=null&&J.length?"w-3/12":"w-6/12")&&b(t,"class",r),(Z=(X=E[2])==null?void 0:X.buildIdReachability)!=null&&Z.length?B?B.p(E,O):(B=Se(),B.c(),B.m(a.parentNode,a)):B&&(B.d(1),B=null)},d(E){E&&(c(t),c(s),c(a),c(n),c(_),c(u),c(p),c(w)),B&&B.d(E)}}}function At(o){let t,l;return t=new ie({props:{slot:"headers",$$slots:{default:[qt]},$$scope:{ctx:o}}}),{c(){q(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,r){Q(t,e,r),l=!0},p(e,r){const s={};r&262148&&(s.$$scope={dirty:r,ctx:e}),t.$set(s)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){P(t,e)}}}function Qt(o){let t,l=j("workers.version-sets")+"",e,r,s,a,n,f=j("workers.workers")+"",i,_,u,m,h,d;return s=new oe({props:{class:"mb-6 w-full min-w-[600px] table-fixed",$$slots:{headers:[yt],default:[Tt]},$$scope:{ctx:o}}}),u=new dt({props:{type:"count",class:"rounded-sm",$$slots:{default:[Ct]},$$scope:{ctx:o}}}),h=new oe({props:{class:"mb-6 w-full min-w-[600px] table-fixed",$$slots:{headers:[At],caption:[Ht],default:[Nt]},$$scope:{ctx:o}}}),{c(){t=v("h2"),e=S(l),r=N(),q(s.$$.fragment),a=N(),n=v("h2"),i=S(f),_=N(),q(u.$$.fragment),m=N(),q(h.$$.fragment),this.h()},l(p){t=T(p,"H2",{"data-testid":!0});var w=y(t);e=V(w,l),w.forEach(c),r=H(p),A(s.$$.fragment,p),a=H(p),n=T(p,"H2",{class:!0,"data-testid":!0});var F=y(n);i=V(F,f),_=H(F),A(u.$$.fragment,F),F.forEach(c),m=H(p),A(h.$$.fragment,p),this.h()},h(){b(t,"data-testid","version-sets"),b(n,"class","flex items-center gap-2"),b(n,"data-testid","workers")},m(p,w){$(p,t,w),R(t,e),$(p,r,w),Q(s,p,w),$(p,a,w),$(p,n,w),R(n,i),R(n,_),Q(u,n,null),$(p,m,w),Q(h,p,w),d=!0},p(p,[w]){const F={};w&262160&&(F.$$scope={dirty:w,ctx:p}),s.$set(F);const M={};w&262146&&(M.$$scope={dirty:w,ctx:p}),u.$set(M);const C={};w&262255&&(C.$$scope={dirty:w,ctx:p}),h.$set(C)},i(p){d||(g(s.$$.fragment,p),g(u.$$.fragment,p),g(h.$$.fragment,p),d=!0)},o(p){k(s.$$.fragment,p),k(u.$$.fragment,p),k(h.$$.fragment,p),d=!1},d(p){p&&(c(t),c(r),c(a),c(n),c(m)),P(s,p),P(u),P(h,p)}}}function Pt(o,t,l){let e,r,s,a;ee(o,st,u=>l(5,s=u)),ee(o,pt,u=>l(6,a=u));let{taskQueue:n}=t,{workers:f}=t,{reachability:i=void 0}=t,{compatibility:_=void 0}=t;return o.$$set=u=>{"taskQueue"in u&&l(0,n=u.taskQueue),"workers"in u&&l(1,f=u.workers),"reachability"in u&&l(2,i=u.reachability),"compatibility"in u&&l(7,_=u.compatibility)},o.$$.update=()=>{o.$$.dirty&128&&l(4,e=ut(_)),o.$$.dirty&128&&l(3,r=ct(_))},[n,f,i,r,e,s,a,_]}class Bt extends se{constructor(t){super(),ae(this,t,Pt,Qt,re,{taskQueue:0,workers:1,reachability:2,compatibility:7})}}function Ve(o,t,l){const e=o.slice();return e[12]=t[l],e[14]=l,e}function We(o,t,l){const e=o.slice();return e[12]=t[l],e[14]=l,e}function Fe(o){let t,l,e,r;return e=new _e({props:{title:j("workers.no-assignment-rules-found")}}),{c(){t=v("tr"),l=v("td"),q(e.$$.fragment),this.h()},l(s){t=T(s,"TR",{class:!0});var a=y(t);l=T(a,"TD",{colspan:!0});var n=y(l);A(e.$$.fragment,n),n.forEach(c),a.forEach(c),this.h()},h(){b(l,"colspan","6"),b(t,"class","w-full")},m(s,a){$(s,t,a),R(t,l),Q(e,l,null),r=!0},p:I,i(s){r||(g(e.$$.fragment,s),r=!0)},o(s){k(e.$$.fragment,s),r=!1},d(s){s&&c(t),P(e)}}}function St(o){var M;let t,l=o[14]+"",e,r,s,a=((M=o[12].rule)==null?void 0:M.targetBuildId)+"",n,f,i,_=o[5](o[12]).toFixed(0)+"",u,m,h,d,p,w=le(o[12].createTime,o[4])+"",F;return{c(){t=v("td"),e=S(l),r=N(),s=v("td"),n=S(a),f=N(),i=v("td"),u=S(_),m=S("%"),h=N(),d=v("td"),p=v("p"),F=S(w),this.h()},l(C){t=T(C,"TD",{class:!0,"data-testid":!0});var B=y(t);e=V(B,l),B.forEach(c),r=H(C),s=T(C,"TD",{class:!0,"data-testid":!0});var U=y(s);n=V(U,a),U.forEach(c),f=H(C),i=T(C,"TD",{class:!0,"data-testid":!0});var D=y(i);u=V(D,_),m=V(D,"%"),D.forEach(c),h=H(C),d=T(C,"TD",{class:!0,"data-testid":!0});var E=y(d);p=T(E,"P",{});var O=y(p);F=V(O,w),O.forEach(c),E.forEach(c),this.h()},h(){b(t,"class","text-left"),b(t,"data-testid","index"),b(s,"class","break-all text-left"),b(s,"data-testid","target-build-id"),b(i,"class","text-right"),b(i,"data-testid","target-ramp"),b(d,"class","justfiy-between flex w-full items-center text-right"),b(d,"data-testid","target-create-time")},m(C,B){$(C,t,B),R(t,e),$(C,r,B),$(C,s,B),R(s,n),$(C,f,B),$(C,i,B),R(i,u),R(i,m),$(C,h,B),$(C,d,B),R(d,p),R(p,F)},p(C,B){var U;B&4&&l!==(l=C[14]+"")&&z(e,l),B&4&&a!==(a=((U=C[12].rule)==null?void 0:U.targetBuildId)+"")&&z(n,a),B&4&&_!==(_=C[5](C[12]).toFixed(0)+"")&&z(u,_),B&20&&w!==(w=le(C[12].createTime,C[4])+"")&&z(F,w)},d(C){C&&(c(t),c(r),c(s),c(f),c(i),c(h),c(d))}}}function Oe(o,t){let l,e,r;return e=new ne({props:{"data-testid":"version-row",$$slots:{default:[St]},$$scope:{ctx:t}}}),{key:o,first:null,c(){l=W(),q(e.$$.fragment),this.h()},l(s){l=W(),A(e.$$.fragment,s),this.h()},h(){this.first=l},m(s,a){$(s,l,a),Q(e,s,a),r=!0},p(s,a){t=s;const n={};a&65556&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(s){r||(g(e.$$.fragment,s),r=!0)},o(s){k(e.$$.fragment,s),r=!1},d(s){s&&c(l),P(e,s)}}}function je(o){let t,l;return t=new ne({props:{"data-testid":"view-all",class:"surface-subtle cursor-pointer",$$slots:{default:[Vt]},$$scope:{ctx:o}}}),t.$on("click",o[11]),{c(){q(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,r){Q(t,e,r),l=!0},p(e,r){const s={};r&65536&&(s.$$scope={dirty:r,ctx:e}),t.$set(s)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){P(t,e)}}}function Vt(o){let t,l,e,r=j("workers.show-inactive-assignment-rules")+"",s,a,n,f,i;return{c(){t=v("td"),l=N(),e=v("td"),s=S(r),a=N(),n=v("td"),f=N(),i=v("td"),this.h()},l(_){t=T(_,"TD",{}),y(t).forEach(c),l=H(_),e=T(_,"TD",{class:!0});var u=y(e);s=V(u,r),u.forEach(c),a=H(_),n=T(_,"TD",{}),y(n).forEach(c),f=H(_),i=T(_,"TD",{}),y(i).forEach(c),this.h()},h(){b(e,"class","break-all text-left text-blue-700 underline")},m(_,u){$(_,t,u),$(_,l,u),$(_,e,u),R(e,s),$(_,a,u),$(_,n,u),$(_,f,u),$(_,i,u)},p:I,d(_){_&&(c(t),c(l),c(e),c(a),c(n),c(f),c(i))}}}function Wt(o){var _;let t=[],l=new Map,e,r,s,a=K(o[2]);const n=u=>u[14];for(let u=0;u<a.length;u+=1){let m=We(o,a,u),h=n(m);l.set(h,t[u]=Oe(h,m))}let f=null;a.length||(f=Fe());let i=!o[0]&&((_=o[1])==null?void 0:_.length)&&je(o);return{c(){for(let u=0;u<t.length;u+=1)t[u].c();f&&f.c(),e=N(),i&&i.c(),r=W()},l(u){for(let m=0;m<t.length;m+=1)t[m].l(u);f&&f.l(u),e=H(u),i&&i.l(u),r=W()},m(u,m){for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(u,m);f&&f.m(u,m),$(u,e,m),i&&i.m(u,m),$(u,r,m),s=!0},p(u,m){var h;m&52&&(a=K(u[2]),L(),t=ue(t,m,n,1,u,a,l,e.parentNode,ce,Oe,e,We),Y(),!a.length&&f?f.p(u,m):a.length?f&&(L(),k(f,1,1,()=>{f=null}),Y()):(f=Fe(),f.c(),g(f,1),f.m(e.parentNode,e))),!u[0]&&((h=u[1])!=null&&h.length)?i?(i.p(u,m),m&3&&g(i,1)):(i=je(u),i.c(),g(i,1),i.m(r.parentNode,r)):i&&(L(),k(i,1,1,()=>{i=null}),Y())},i(u){if(!s){for(let m=0;m<a.length;m+=1)g(t[m]);g(i),s=!0}},o(u){for(let m=0;m<t.length;m+=1)k(t[m]);k(i),s=!1},d(u){u&&(c(e),c(r));for(let m=0;m<t.length;m+=1)t[m].d(u);f&&f.d(u),i&&i.d(u)}}}function Ft(o){let t,l="Index",e,r,s="Target Build ID",a,n,f="Ramp",i,_,u="Create Time";return{c(){t=v("th"),t.textContent=l,e=N(),r=v("th"),r.textContent=s,a=N(),n=v("th"),n.textContent=f,i=N(),_=v("th"),_.textContent=u,this.h()},l(m){t=T(m,"TH",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-9c3h6b"&&(t.textContent=l),e=H(m),r=T(m,"TH",{class:!0,"data-svelte-h":!0}),x(r)!=="svelte-1y9wj7a"&&(r.textContent=s),a=H(m),n=T(m,"TH",{class:!0,"data-svelte-h":!0}),x(n)!=="svelte-v0wniv"&&(n.textContent=f),i=H(m),_=T(m,"TH",{class:!0,"data-svelte-h":!0}),x(_)!=="svelte-1bmkxw8"&&(_.textContent=u),this.h()},h(){b(t,"class","w-20"),b(r,"class","grow"),b(n,"class","w-20"),b(_,"class","text-right")},m(m,h){$(m,t,h),$(m,e,h),$(m,r,h),$(m,a,h),$(m,n,h),$(m,i,h),$(m,_,h)},p:I,d(m){m&&(c(t),c(e),c(r),c(a),c(n),c(i),c(_))}}}function Ot(o){let t,l;return t=new ie({props:{slot:"headers",$$slots:{default:[Ft]},$$scope:{ctx:o}}}),{c(){q(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,r){Q(t,e,r),l=!0},p(e,r){const s={};r&65536&&(s.$$scope={dirty:r,ctx:e}),t.$set(s)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){P(t,e)}}}function Me(o){let t,l,e,r,s;return e=new _e({props:{title:j("workers.no-redirect-rules-found")}}),{c(){t=v("tr"),l=v("td"),q(e.$$.fragment),r=N(),this.h()},l(a){t=T(a,"TR",{class:!0});var n=y(t);l=T(n,"TD",{colspan:!0});var f=y(l);A(e.$$.fragment,f),f.forEach(c),r=H(n),n.forEach(c),this.h()},h(){b(l,"colspan","6"),b(t,"class","w-full")},m(a,n){$(a,t,n),R(t,l),Q(e,l,null),R(t,r),s=!0},p:I,i(a){s||(g(e.$$.fragment,a),s=!0)},o(a){k(e.$$.fragment,a),s=!1},d(a){a&&c(t),P(e)}}}function jt(o){let t,l=o[12].rule.sourceBuildId+"",e,r,s,a=o[12].rule.targetBuildId+"",n,f,i,_=le(o[12].createTime,o[4])+"",u,m;return{c(){t=v("td"),e=S(l),r=N(),s=v("td"),n=S(a),f=N(),i=v("td"),u=S(_),m=N(),this.h()},l(h){t=T(h,"TD",{class:!0,"data-testid":!0});var d=y(t);e=V(d,l),d.forEach(c),r=H(h),s=T(h,"TD",{class:!0,"data-testid":!0});var p=y(s);n=V(p,a),p.forEach(c),f=H(h),i=T(h,"TD",{class:!0,"data-testid":!0});var w=y(i);u=V(w,_),w.forEach(c),m=H(h),this.h()},h(){b(t,"class","text-left"),b(t,"data-testid","target-source"),b(s,"class","text-left"),b(s,"data-testid","target-source"),b(i,"class","text-left"),b(i,"data-testid","target-source")},m(h,d){$(h,t,d),R(t,e),$(h,r,d),$(h,s,d),R(s,n),$(h,f,d),$(h,i,d),R(i,u),$(h,m,d)},p(h,d){d&8&&l!==(l=h[12].rule.sourceBuildId+"")&&z(e,l),d&8&&a!==(a=h[12].rule.targetBuildId+"")&&z(n,a),d&24&&_!==(_=le(h[12].createTime,h[4])+"")&&z(u,_)},d(h){h&&(c(t),c(r),c(s),c(f),c(i),c(m))}}}function Ke(o,t){let l,e,r;return e=new ne({props:{"data-testid":"version-row",$$slots:{default:[jt]},$$scope:{ctx:t}}}),{key:o,first:null,c(){l=W(),q(e.$$.fragment),this.h()},l(s){l=W(),A(e.$$.fragment,s),this.h()},h(){this.first=l},m(s,a){$(s,l,a),Q(e,s,a),r=!0},p(s,a){t=s;const n={};a&65560&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(s){r||(g(e.$$.fragment,s),r=!0)},o(s){k(e.$$.fragment,s),r=!1},d(s){s&&c(l),P(e,s)}}}function Mt(o){let t=[],l=new Map,e,r,s=K(o[3]);const a=f=>f[14];for(let f=0;f<s.length;f+=1){let i=Ve(o,s,f),_=a(i);l.set(_,t[f]=Ke(_,i))}let n=null;return s.length||(n=Me()),{c(){for(let f=0;f<t.length;f+=1)t[f].c();e=W(),n&&n.c()},l(f){for(let i=0;i<t.length;i+=1)t[i].l(f);e=W(),n&&n.l(f)},m(f,i){for(let _=0;_<t.length;_+=1)t[_]&&t[_].m(f,i);$(f,e,i),n&&n.m(f,i),r=!0},p(f,i){i&24&&(s=K(f[3]),L(),t=ue(t,i,a,1,f,s,l,e.parentNode,ce,Ke,e,Ve),Y(),!s.length&&n?n.p(f,i):s.length?n&&(L(),k(n,1,1,()=>{n=null}),Y()):(n=Me(),n.c(),g(n,1),n.m(e.parentNode,e)))},i(f){if(!r){for(let i=0;i<s.length;i+=1)g(t[i]);r=!0}},o(f){for(let i=0;i<t.length;i+=1)k(t[i]);r=!1},d(f){f&&c(e);for(let i=0;i<t.length;i+=1)t[i].d(f);n&&n.d(f)}}}function Kt(o){let t,l="Source Build ID",e,r,s="Target Build ID",a,n,f="Create Time";return{c(){t=v("th"),t.textContent=l,e=N(),r=v("th"),r.textContent=s,a=N(),n=v("th"),n.textContent=f,this.h()},l(i){t=T(i,"TH",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-1ojbhda"&&(t.textContent=l),e=H(i),r=T(i,"TH",{class:!0,"data-svelte-h":!0}),x(r)!=="svelte-1kj4z8i"&&(r.textContent=s),a=H(i),n=T(i,"TH",{class:!0,"data-svelte-h":!0}),x(n)!=="svelte-jrosx7"&&(n.textContent=f),this.h()},h(){b(t,"class","w-1/3"),b(r,"class","w-1/3"),b(n,"class","w-1/3")},m(i,_){$(i,t,_),$(i,e,_),$(i,r,_),$(i,a,_),$(i,n,_)},p:I,d(i){i&&(c(t),c(e),c(r),c(a),c(n))}}}function Lt(o){let t,l;return t=new ie({props:{slot:"headers",$$slots:{default:[Kt]},$$scope:{ctx:o}}}),{c(){q(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,r){Q(t,e,r),l=!0},p(e,r){const s={};r&65536&&(s.$$scope={dirty:r,ctx:e}),t.$set(s)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){P(t,e)}}}function Yt(o){let t,l=j("workers.assignment-rules")+"",e,r,s,a,n,f=j("workers.redirect-rules")+"",i,_,u,m;return s=new oe({props:{class:"mb-6 w-full table-fixed",$$slots:{headers:[Ot],default:[Wt]},$$scope:{ctx:o}}}),u=new oe({props:{class:"mb-6 w-full table-fixed",$$slots:{headers:[Lt],default:[Mt]},$$scope:{ctx:o}}}),{c(){t=v("h2"),e=S(l),r=N(),q(s.$$.fragment),a=N(),n=v("h2"),i=S(f),_=N(),q(u.$$.fragment),this.h()},l(h){t=T(h,"H2",{"data-testid":!0});var d=y(t);e=V(d,l),d.forEach(c),r=H(h),A(s.$$.fragment,h),a=H(h),n=T(h,"H2",{"data-testid":!0});var p=y(n);i=V(p,f),p.forEach(c),_=H(h),A(u.$$.fragment,h),this.h()},h(){b(t,"data-testid","worker-rules"),b(n,"data-testid","worker-rules")},m(h,d){$(h,t,d),R(t,e),$(h,r,d),Q(s,h,d),$(h,a,d),$(h,n,d),R(n,i),$(h,_,d),Q(u,h,d),m=!0},p(h,[d]){const p={};d&65559&&(p.$$scope={dirty:d,ctx:h}),s.$set(p);const w={};d&65560&&(w.$$scope={dirty:d,ctx:h}),u.$set(w)},i(h){m||(g(s.$$.fragment,h),g(u.$$.fragment,h),m=!0)},o(h){k(s.$$.fragment,h),k(u.$$.fragment,h),m=!1},d(h){h&&(c(t),c(r),c(a),c(n),c(_)),P(s,h),P(u,h)}}}function zt(o,t,l){let e,r,s,a,n,f,i,_;ee(o,st,p=>l(4,_=p));let{rules:u}=t,m=!1;const h=p=>{var w,F,M;return!((w=p.rule)===null||w===void 0)&&w.percentageRamp?!((M=(F=p.rule)===null||F===void 0?void 0:F.percentageRamp)===null||M===void 0)&&M.rampPercentage?p.rule.percentageRamp.rampPercentage:0:100},d=()=>l(0,m=!m);return o.$$set=p=>{"rules"in p&&l(6,u=p.rules)},o.$$.update=()=>{o.$$.dirty&64&&l(9,{assignmentRules:e=[],compatibleRedirectRules:r=[]}=u,e,(l(3,r),l(6,u))),o.$$.dirty&512&&l(10,s=e.find(p=>h(p)===100)),o.$$.dirty&1536&&l(8,a=e.indexOf(s)),o.$$.dirty&768&&l(7,n=e.filter((p,w)=>w<=a)),o.$$.dirty&768&&l(1,f=e.filter((p,w)=>w>a)),o.$$.dirty&131&&l(2,i=m?[...n,...f]:n)},[m,f,i,r,_,h,u,n,a,e,s,d]}class Ut extends se{constructor(t){super(),ae(this,t,zt,Yt,re,{rules:6})}}function Le(o,t,l){const e=o.slice();return e[8]=t[l],e}function Ye(o,t,l){const e=o.slice();return e[5]=t[l],e}function ze(o,t,l){const e=o.slice();return e[5]=t[l],e[7]=l,e}const Gt=o=>({}),Ue=o=>({});function Ge(o){let t,l,e;return l=new gt({props:{class:"h-4 w-full"}}),{c(){t=v("td"),q(l.$$.fragment),this.h()},l(r){t=T(r,"TD",{style:!0});var s=y(t);A(l.$$.fragment,s),s.forEach(c),this.h()},h(){me(t,"padding-right","0.5rem")},m(r,s){$(r,t,s),Q(l,t,null),e=!0},p:I,i(r){e||(g(l.$$.fragment,r),e=!0)},o(r){k(l.$$.fragment,r),e=!1},d(r){r&&c(t),P(l)}}}function Jt(o){let t,l,e=K(Array.from(new Array(o[1]))),r=[];for(let a=0;a<e.length;a+=1)r[a]=Ge(Ye(o,e,a));const s=a=>k(r[a],1,1,()=>{r[a]=null});return{c(){for(let a=0;a<r.length;a+=1)r[a].c();t=N()},l(a){for(let n=0;n<r.length;n+=1)r[n].l(a);t=H(a)},m(a,n){for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(a,n);$(a,t,n),l=!0},p(a,n){if(n&2){e=K(Array.from(new Array(a[1])));let f;for(f=0;f<e.length;f+=1){const i=Ye(a,e,f);r[f]?(r[f].p(i,n),g(r[f],1)):(r[f]=Ge(),r[f].c(),g(r[f],1),r[f].m(t.parentNode,t))}for(L(),f=e.length;f<r.length;f+=1)s(f);Y()}},i(a){if(!l){for(let n=0;n<e.length;n+=1)g(r[n]);l=!0}},o(a){r=r.filter(Boolean);for(let n=0;n<r.length;n+=1)k(r[n]);l=!1},d(a){a&&c(t),fe(r,a)}}}function Je(o){let t,l;return t=new ne({props:{$$slots:{default:[Jt]},$$scope:{ctx:o}}}),{c(){q(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,r){Q(t,e,r),l=!0},p(e,r){const s={};r&18&&(s.$$scope={dirty:r,ctx:e}),t.$set(s)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){P(t,e)}}}function Xt(o){let t,l,e=K(Array.from(Array(o[0]).keys())),r=[];for(let a=0;a<e.length;a+=1)r[a]=Je(Le(o,e,a));const s=a=>k(r[a],1,1,()=>{r[a]=null});return{c(){for(let a=0;a<r.length;a+=1)r[a].c();t=W()},l(a){for(let n=0;n<r.length;n+=1)r[n].l(a);t=W()},m(a,n){for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(a,n);$(a,t,n),l=!0},p(a,n){if(n&3){e=K(Array.from(Array(a[0]).keys()));let f;for(f=0;f<e.length;f+=1){const i=Le(a,e,f);r[f]?(r[f].p(i,n),g(r[f],1)):(r[f]=Je(i),r[f].c(),g(r[f],1),r[f].m(t.parentNode,t))}for(L(),f=e.length;f<r.length;f+=1)s(f);Y()}},i(a){if(!l){for(let n=0;n<e.length;n+=1)g(r[n]);l=!0}},o(a){r=r.filter(Boolean);for(let n=0;n<r.length;n+=1)k(r[n]);l=!1},d(a){a&&c(t),fe(r,a)}}}function Xe(o){let t;return{c(){t=v("th"),this.h()},l(l){t=T(l,"TH",{style:!0}),y(t).forEach(c),this.h()},h(){me(t,"width",o[2][o[7]]+"%")},m(l,e){$(l,t,e)},p(l,e){e&4&&me(t,"width",l[2][l[7]]+"%")},d(l){l&&c(t)}}}function Zt(o){let t,l=K(Array.from(new Array(o[1]))),e=[];for(let r=0;r<l.length;r+=1)e[r]=Xe(ze(o,l,r));return{c(){for(let r=0;r<e.length;r+=1)e[r].c();t=W()},l(r){for(let s=0;s<e.length;s+=1)e[s].l(r);t=W()},m(r,s){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(r,s);$(r,t,s)},p(r,s){if(s&6){l=K(Array.from(new Array(r[1])));let a;for(a=0;a<l.length;a+=1){const n=ze(r,l,a);e[a]?e[a].p(n,s):(e[a]=Xe(n),e[a].c(),e[a].m(t.parentNode,t))}for(;a<e.length;a+=1)e[a].d(1);e.length=l.length}},d(r){r&&c(t),fe(e,r)}}}function xt(o){let t;const l=o[3].headers,e=et(l,o,o[4],Ue),r=e||Zt(o);return{c(){r&&r.c()},l(s){r&&r.l(s)},m(s,a){r&&r.m(s,a),t=!0},p(s,a){e?e.p&&(!t||a&16)&&tt(e,l,s,s[4],t?rt(l,s[4],a,Gt):lt(s[4]),Ue):r&&r.p&&(!t||a&6)&&r.p(s,t?a:-1)},i(s){t||(g(r,s),t=!0)},o(s){k(r,s),t=!1},d(s){r&&r.d(s)}}}function el(o){let t,l;return t=new ie({props:{slot:"headers",class:"h-8",$$slots:{default:[xt]},$$scope:{ctx:o}}}),{c(){q(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,r){Q(t,e,r),l=!0},p(e,r){const s={};r&22&&(s.$$scope={dirty:r,ctx:e}),t.$set(s)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){P(t,e)}}}function tl(o){let t,l;return t=new oe({props:{class:"w-full table-fixed",variant:"fancy",$$slots:{headers:[el],default:[Xt]},$$scope:{ctx:o}}}),{c(){q(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,r){Q(t,e,r),l=!0},p(e,[r]){const s={};r&23&&(s.$$scope={dirty:r,ctx:e}),t.$set(s)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){P(t,e)}}}function ll(o,t,l){let{$$slots:e={},$$scope:r}=t,{rows:s=10}=t,{columns:a=4}=t,{columnWidths:n=new Array(a).fill(100/a)}=t;return o.$$set=f=>{"rows"in f&&l(0,s=f.rows),"columns"in f&&l(1,a=f.columns),"columnWidths"in f&&l(2,n=f.columnWidths),"$$scope"in f&&l(4,r=f.$$scope)},[s,a,n,e,r]}class at extends se{constructor(t){super(),ae(this,t,ll,tl,re,{rows:0,columns:1,columnWidths:2})}}function Ze(o){o[9]=o[12].rules,o[10]=o[12].compatibility,o[11]=o[12].versionSets}const rl=o=>({compatibility:o&33}),xe=o=>({compatibility:o[10]});function sl(o){return{c:I,l:I,m:I,p:I,i:I,o:I,d:I}}function al(o){Ze(o);let t,l,e,r,s;const a=[il,ol,nl],n=[];function f(i,_){var u;return _&37&&(t=null),t==null&&(t=!!i[2](i[9])),t?0:i[4]&&((u=i[11])!=null&&u.length)?1:2}return l=f(o,-1),e=n[l]=a[l](o),{c(){e.c(),r=W()},l(i){e.l(i),r=W()},m(i,_){n[l].m(i,_),$(i,r,_),s=!0},p(i,_){Ze(i);let u=l;l=f(i,_),l===u?n[l].p(i,_):(L(),k(n[u],1,1,()=>{n[u]=null}),Y(),e=n[l],e?e.p(i,_):(e=n[l]=a[l](i),e.c()),g(e,1),e.m(r.parentNode,r))},i(i){s||(g(e),s=!0)},o(i){k(e),s=!1},d(i){i&&c(r),n[l].d(i)}}}function nl(o){let t,l="No versioning configured for task queue.";return{c(){t=v("p"),t.textContent=l},l(e){t=T(e,"P",{"data-svelte-h":!0}),x(t)!=="svelte-1l2qp7c"&&(t.textContent=l)},m(e,r){$(e,t,r)},p:I,i:I,o:I,d(e){e&&c(t)}}}function ol(o){let t,l,e,r={ctx:o,current:null,token:null,hasCatch:!1,pending:cl,then:ul,catch:fl,value:13,blocks:[,,,]};return te(l=Ee({namespace:o[5],buildIds:o[3],queue:o[0]}),r),{c(){t=W(),r.block.c()},l(s){t=W(),r.block.l(s)},m(s,a){$(s,t,a),r.block.m(s,r.anchor=a),r.mount=()=>t.parentNode,r.anchor=t,e=!0},p(s,a){o=s,r.ctx=o,a&41&&l!==(l=Ee({namespace:o[5],buildIds:o[3],queue:o[0]}))&&te(l,r)||$e(r,o,a)},i(s){e||(g(r.block),e=!0)},o(s){for(let a=0;a<3;a+=1){const n=r.blocks[a];k(n)}e=!1},d(s){s&&c(t),r.block.d(s),r.token=null,r=null}}}function il(o){let t,l;return t=new Ut({props:{rules:o[9]}}),{c(){q(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,r){Q(t,e,r),l=!0},p(e,r){const s={};r&33&&(s.rules=e[9]),t.$set(s)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){P(t,e)}}}function fl(o){return{c:I,l:I,m:I,p:I,i:I,o:I,d:I}}function ul(o){let t,l,e;const r=o[8].default,s=et(r,o,o[7],xe);return l=new Bt({props:{taskQueue:o[0],workers:o[1],compatibility:o[10],reachability:o[13]}}),{c(){s&&s.c(),t=N(),q(l.$$.fragment)},l(a){s&&s.l(a),t=H(a),A(l.$$.fragment,a)},m(a,n){s&&s.m(a,n),$(a,t,n),Q(l,a,n),e=!0},p(a,n){s&&s.p&&(!e||n&161)&&tt(s,r,a,a[7],e?rt(r,a[7],n,rl):lt(a[7]),xe);const f={};n&1&&(f.taskQueue=a[0]),n&2&&(f.workers=a[1]),n&33&&(f.compatibility=a[10]),n&41&&(f.reachability=a[13]),l.$set(f)},i(a){e||(g(s,a),g(l.$$.fragment,a),e=!0)},o(a){k(s,a),k(l.$$.fragment,a),e=!1},d(a){a&&c(t),s&&s.d(a),P(l,a)}}}function cl(o){let t,l;return t=new at({props:{rows:3}}),{c(){q(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,r){Q(t,e,r),l=!0},p:I,i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){P(t,e)}}}function _l(o){let t,l;return t=new at({props:{rows:3}}),{c(){q(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,r){Q(t,e,r),l=!0},p:I,i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){P(t,e)}}}function ml(o){let t,l,e,r={ctx:o,current:null,token:null,hasCatch:!1,pending:_l,then:al,catch:sl,value:12,blocks:[,,,]};return te(l=Te({namespace:o[5],queue:o[0]}),r),{c(){t=W(),r.block.c()},l(s){t=W(),r.block.l(s)},m(s,a){$(s,t,a),r.block.m(s,r.anchor=a),r.mount=()=>t.parentNode,r.anchor=t,e=!0},p(s,[a]){o=s,r.ctx=o,a&33&&l!==(l=Te({namespace:o[5],queue:o[0]}))&&te(l,r)||$e(r,o,a)},i(s){e||(g(r.block),e=!0)},o(s){for(let a=0;a<3;a+=1){const n=r.blocks[a];k(n)}e=!1},d(s){s&&c(t),r.block.d(s),r.token=null,r=null}}}function hl(o,t,l){let e,r,s,a,n;ee(o,he,m=>l(6,n=m));let{$$slots:f={},$$scope:i}=t,{taskQueue:_}=t,{workers:u}=t;return o.$$set=m=>{"taskQueue"in m&&l(0,_=m.taskQueue),"workers"in m&&l(1,u=m.workers),"$$scope"in m&&l(7,i=m.$$scope)},o.$$.update=()=>{o.$$.dirty&64&&l(5,{namespace:e}=n.params,e),o.$$.dirty&2&&l(4,r=ht(u.pollers)),o.$$.dirty&2&&l(3,s=$t(u.pollers))},l(2,a=m=>(m==null?void 0:m.assignmentRules)||(m==null?void 0:m.compatibleRedirectRules)),[_,u,a,s,r,e,n,i,f]}class $l extends se{constructor(t){super(),ae(this,t,hl,ml,re,{taskQueue:0,workers:1})}}function dl(o){return{c:I,l:I,m:I,p:I,i:I,o:I,d:I}}function pl(o){let t,l,e,r,s,a,n,f,i;s=new it({props:{$$slots:{default:[bl]},$$scope:{ctx:o}}});const _=[wl,kl],u=[];function m(h,d){return h[0]==="versioning"?0:1}return n=m(o),f=u[n]=_[n](o),{c(){t=v("section"),l=v("h2"),e=S(o[2]),r=N(),q(s.$$.fragment),a=N(),f.c(),this.h()},l(h){t=T(h,"SECTION",{class:!0});var d=y(t);l=T(d,"H2",{"data-testid":!0});var p=y(l);e=V(p,o[2]),p.forEach(c),r=H(d),A(s.$$.fragment,d),a=H(d),f.l(d),d.forEach(c),this.h()},h(){b(l,"data-testid","task-queue-name"),b(t,"class","flex flex-col gap-4")},m(h,d){$(h,t,d),R(t,l),R(l,e),R(t,r),Q(s,t,null),R(t,a),u[n].m(t,null),i=!0},p(h,d){(!i||d&4)&&z(e,h[2]);const p={};d&129&&(p.$$scope={dirty:d,ctx:h}),s.$set(p);let w=n;n=m(h),n===w?u[n].p(h,d):(L(),k(u[w],1,1,()=>{u[w]=null}),Y(),f=u[n],f?f.p(h,d):(f=u[n]=_[n](h),f.c()),g(f,1),f.m(t,null))},i(h){i||(g(s.$$.fragment,h),g(f),i=!0)},o(h){k(s.$$.fragment,h),k(f),i=!1},d(h){h&&c(t),P(s),u[n].d()}}}function gl(o){let t,l,e,r;return t=new ke({props:{label:j("workers.workers"),id:"worker-tab",onClick:o[4]}}),e=new ke({props:{label:j("workers.versioning"),id:"versioning-tab",onClick:o[5]}}),{c(){q(t.$$.fragment),l=N(),q(e.$$.fragment)},l(s){A(t.$$.fragment,s),l=H(s),A(e.$$.fragment,s)},m(s,a){Q(t,s,a),$(s,l,a),Q(e,s,a),r=!0},p(s,a){const n={};a&1&&(n.onClick=s[4]),t.$set(n);const f={};a&1&&(f.onClick=s[5]),e.$set(f)},i(s){r||(g(t.$$.fragment,s),g(e.$$.fragment,s),r=!0)},o(s){k(t.$$.fragment,s),k(e.$$.fragment,s),r=!1},d(s){s&&c(l),P(t,s),P(e,s)}}}function bl(o){let t,l;return t=new ft({props:{class:"flex flex-wrap gap-6 p-4 pl-0",label:"task queue detail",$$slots:{default:[gl]},$$scope:{ctx:o}}}),{c(){q(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,r){Q(t,e,r),l=!0},p(e,r){const s={};r&129&&(s.$$scope={dirty:r,ctx:e}),t.$set(s)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){P(t,e)}}}function kl(o){let t,l;return t=new ot({props:{workers:o[6]}}),{c(){q(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,r){Q(t,e,r),l=!0},p(e,r){const s={};r&6&&(s.workers=e[6]),t.$set(s)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){P(t,e)}}}function wl(o){let t,l;return t=new $l({props:{taskQueue:o[2],workers:o[6]}}),{c(){q(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,r){Q(t,e,r),l=!0},p(e,r){const s={};r&4&&(s.taskQueue=e[2]),r&6&&(s.workers=e[6]),t.$set(s)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){P(t,e)}}}function vl(o){return{c:I,l:I,m:I,p:I,i:I,o:I,d:I}}function Tl(o){let t,l,e,r={ctx:o,current:null,token:null,hasCatch:!1,pending:vl,then:pl,catch:dl,value:6,blocks:[,,,]};return te(l=ye({queue:o[2],namespace:o[1]}),r),{c(){t=W(),r.block.c()},l(s){t=W(),r.block.l(s)},m(s,a){$(s,t,a),r.block.m(s,r.anchor=a),r.mount=()=>t.parentNode,r.anchor=t,e=!0},p(s,[a]){o=s,r.ctx=o,a&6&&l!==(l=ye({queue:o[2],namespace:o[1]}))&&te(l,r)||$e(r,o,a)},i(s){e||(g(r.block),e=!0)},o(s){for(let a=0;a<3;a+=1){const n=r.blocks[a];k(n)}e=!1},d(s){s&&c(t),r.block.d(s),r.token=null,r=null}}}function El(o,t,l){let e,r,s;ee(o,he,i=>l(3,s=i));let a="workers";const n=()=>l(0,a="workers"),f=()=>l(0,a="versioning");return o.$$.update=()=>{o.$$.dirty&8&&l(2,{queue:e,namespace:r}=s.params,e,(l(1,r),l(3,s)))},[a,r,e,s,n,f]}class yl extends se{constructor(t){super(),ae(this,t,El,Tl,re,{})}}function Cl(o){let t,l,e,r;return t=new nt({props:{title:`Task Queue | ${o[1]}`,url:o[0].url.href}}),e=new yl({}),{c(){q(t.$$.fragment),l=N(),q(e.$$.fragment)},l(s){A(t.$$.fragment,s),l=H(s),A(e.$$.fragment,s)},m(s,a){Q(t,s,a),$(s,l,a),Q(e,s,a),r=!0},p(s,[a]){const n={};a&1&&(n.url=s[0].url.href),t.$set(n)},i(s){r||(g(t.$$.fragment,s),g(e.$$.fragment,s),r=!0)},o(s){k(t.$$.fragment,s),k(e.$$.fragment,s),r=!1},d(s){s&&c(l),P(t,s),P(e,s)}}}function Il(o,t,l){let e;ee(o,he,s=>l(0,e=s));const r=e.params.queue;return[e,r]}class Gl extends se{constructor(t){super(),ae(this,t,Il,Cl,re,{})}}export{Gl as component};

import{S as C,i as E,s as I,e as y,j as _,k as Q,c as d,a as g,m as q,d as f,n as O,b as T,f as $,J as k,o as v,x as m,u as h,v as b,l as j,r as S,w as x,H as D,t as F,g as N,h as V}from"../../../../../../chunks/vendor-b93e428e.js";import{a as B,b as H}from"../../../../../../chunks/query-service-650995c4.js";import{C as J}from"../../../../../../chunks/code-block-9bb15017.js";import{F as P}from"../../../../../../chunks/filter-select-5adef9b7.js";import{O as z}from"../../../../../../chunks/option-e05943b7.js";import"../../../../../../chunks/route-for-api-897023e4.js";import"../../../../../../chunks/notifications-f504753b.js";import"../../../../../../chunks/navigation-51f4a605.js";import"../../../../../../chunks/singletons-12a22614.js";import"../../../../../../chunks/stores-668dfc14.js";import"../../../../../../chunks/append-query-parameters-b8619cc0.js";function w(l,n,o){const e=l.slice();return e[3]=n[o],e}function A(l){let n=l[3]+"",o;return{c(){o=F(n)},l(e){o=N(e,n)},m(e,s){$(e,o,s)},p(e,s){s&1&&n!==(n=e[3]+"")&&V(o,n)},d(e){e&&f(o)}}}function R(l){let n,o;return n=new z({props:{value:l[3],$$slots:{default:[A]},$$scope:{ctx:l}}}),{c(){_(n.$$.fragment)},l(e){q(n.$$.fragment,e)},m(e,s){v(n,e,s),o=!0},p(e,s){const c={};s&1&&(c.value=e[3]),s&65&&(c.$$scope={dirty:s,ctx:e}),n.$set(c)},i(e){o||(m(n.$$.fragment,e),o=!0)},o(e){h(n.$$.fragment,e),o=!1},d(e){b(n,e)}}}function G(l){let n,o,e=l[0],s=[];for(let t=0;t<e.length;t+=1)s[t]=R(w(l,e,t));const c=t=>h(s[t],1,1,()=>{s[t]=null});return{c(){for(let t=0;t<s.length;t+=1)s[t].c();n=j()},l(t){for(let a=0;a<s.length;a+=1)s[a].l(t);n=j()},m(t,a){for(let r=0;r<s.length;r+=1)s[r].m(t,a);$(t,n,a),o=!0},p(t,a){if(a&1){e=t[0];let r;for(r=0;r<e.length;r+=1){const u=w(t,e,r);s[r]?(s[r].p(u,a),m(s[r],1)):(s[r]=R(u),s[r].c(),m(s[r],1),s[r].m(n.parentNode,n))}for(S(),r=e.length;r<s.length;r+=1)c(r);x()}},i(t){if(!o){for(let a=0;a<e.length;a+=1)m(s[a]);o=!0}},o(t){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)h(s[a]);o=!1},d(t){D(s,t),t&&f(n)}}}function K(l){let n,o,e,s,c,t,a;return e=new P({props:{label:"Query Type",value:l[1],parameter:"query-type",$$slots:{default:[G]},$$scope:{ctx:l}}}),t=new J({props:{content:l[2]}}),{c(){n=y("section"),o=y("div"),_(e.$$.fragment),s=Q(),c=y("div"),_(t.$$.fragment),this.h()},l(r){n=d(r,"SECTION",{});var u=g(n);o=d(u,"DIV",{class:!0});var i=g(o);q(e.$$.fragment,i),i.forEach(f),s=O(u),c=d(u,"DIV",{class:!0});var p=g(c);q(t.$$.fragment,p),p.forEach(f),u.forEach(f),this.h()},h(){T(o,"class","flex items-center gap-4"),T(c,"class","flex items-start h-full")},m(r,u){$(r,n,u),k(n,o),v(e,o,null),k(n,s),k(n,c),v(t,c,null),a=!0},p(r,[u]){const i={};u&2&&(i.value=r[1]),u&65&&(i.$$scope={dirty:u,ctx:r}),e.$set(i);const p={};u&4&&(p.content=r[2]),t.$set(p)},i(r){a||(m(e.$$.fragment,r),m(t.$$.fragment,r),a=!0)},o(r){h(e.$$.fragment,r),h(t.$$.fragment,r),a=!1},d(r){r&&f(n),b(e),b(t)}}}async function oe({page:l,fetch:n}){const{namespace:o,workflow:e,run:s}=l.params,c={id:e,runId:s},t=await B({namespace:o,workflow:c}),a=l.query.get("query-type"),r=t.includes(a)?a:t[0];l.query.set("query-type",r);const u=await H({namespace:o,workflow:c,queryType:r},n);return{props:{queryType:r,queryTypes:t,queryResult:u}}}function L(l,n,o){let{queryTypes:e}=n,{queryType:s}=n,{queryResult:c}=n;return l.$$set=t=>{"queryTypes"in t&&o(0,e=t.queryTypes),"queryType"in t&&o(1,s=t.queryType),"queryResult"in t&&o(2,c=t.queryResult)},[e,s,c]}class ae extends C{constructor(n){super();E(this,n,L,K,I,{queryTypes:0,queryType:1,queryResult:2})}}export{ae as default,oe as load};

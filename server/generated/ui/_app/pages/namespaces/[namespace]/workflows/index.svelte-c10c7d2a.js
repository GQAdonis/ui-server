import{S as N,i as S,s as I,D as T,E as A,ad as q,e as H,t as J,k as D,j as b,l as W,c as L,a as Q,g as R,d as h,n as v,m as $,b as U,f as y,J as V,o as d,F as z,ae as B,x as k,u as w,v as g,af as G,Q as p,r as K,w as M,ag as O}from"../../../../chunks/vendor-aac54a92.js";import{f as E}from"../../../../chunks/workflow-status-402004a6.js";import{r as P}from"../../../../chunks/refreshable-32910785.js";import{W as X,a as Y,b as Z,c as x}from"../../../../chunks/_workflows-loading-6e4c55d7.js";import{E as ee}from"../../../../chunks/empty-state-f8507a33.js";import"../../../../chunks/route-for-api-31cf896b.js";import"../../../../chunks/notifications-389b12bb.js";import"../../../../chunks/format-date-9900ebeb.js";import"../../../../chunks/namespace-99603d17.js";import"../../../../chunks/stores-68dc7257.js";import"../../../../chunks/route-for-c019a53c.js";import"../../../../chunks/option-3fadd152.js";import"../../../../chunks/filter-select-d8ae56cd.js";import"../../../../chunks/navigation-51f4a605.js";import"../../../../chunks/singletons-12a22614.js";import"../../../../chunks/append-query-parameters-b8619cc0.js";function C(a){a[7]=a[8].workflows}function te(a){return{c:p,l:p,m:p,p,i:p,o:p,d:p}}function re(a){C(a);let t,r,e,s;const i=[se,ae],f=[];function u(o,m){return o[7].length?0:1}return t=u(a),r=f[t]=i[t](a),{c(){r.c(),e=W()},l(o){r.l(o),e=W()},m(o,m){f[t].m(o,m),y(o,e,m),s=!0},p(o,m){C(o);let _=t;t=u(o),t===_?f[t].p(o,m):(K(),w(f[_],1,1,()=>{f[_]=null}),M(),r=f[t],r?r.p(o,m):(r=f[t]=i[t](o),r.c()),k(r,1),r.m(e.parentNode,e))},i(o){s||(k(r),s=!0)},o(o){w(r),s=!1},d(o){f[t].d(o),o&&h(e)}}}function ae(a){let t,r;return t=new ee({props:{title:"No Workflows Found",content:"If you have filters applied, try adjusting them."}}),{c(){b(t.$$.fragment)},l(e){$(t.$$.fragment,e)},m(e,s){d(t,e,s),r=!0},p,i(e){r||(k(t.$$.fragment,e),r=!0)},o(e){w(t.$$.fragment,e),r=!1},d(e){g(t,e)}}}function se(a){let t,r;return t=new Z({props:{$$slots:{default:[ne]},$$scope:{ctx:a}}}),{c(){b(t.$$.fragment)},l(e){$(t.$$.fragment,e)},m(e,s){d(t,e,s),r=!0},p(e,s){const i={};s&1029&&(i.$$scope={dirty:s,ctx:e}),t.$set(i)},i(e){r||(k(t.$$.fragment,e),r=!0)},o(e){w(t.$$.fragment,e),r=!1},d(e){g(t,e)}}}function oe(a){let t,r;return t=new x({props:{workflow:a[9],timeFormat:a[0]}}),{c(){b(t.$$.fragment)},l(e){$(t.$$.fragment,e)},m(e,s){d(t,e,s),r=!0},p(e,s){const i={};s&512&&(i.workflow=e[9]),s&1&&(i.timeFormat=e[0]),t.$set(i)},i(e){r||(k(t.$$.fragment,e),r=!0)},o(e){w(t.$$.fragment,e),r=!1},d(e){g(t,e)}}}function ne(a){let t,r;return t=new O({props:{items:a[7],$$slots:{default:[oe,({item:e})=>({9:e}),({item:e})=>e?512:0]},$$scope:{ctx:a}}}),{c(){b(t.$$.fragment)},l(e){$(t.$$.fragment,e)},m(e,s){d(t,e,s),r=!0},p(e,s){const i={};s&4&&(i.items=e[7]),s&1537&&(i.$$scope={dirty:s,ctx:e}),t.$set(i)},i(e){r||(k(t.$$.fragment,e),r=!0)},o(e){w(t.$$.fragment,e),r=!1},d(e){g(t,e)}}}function le(a){let t,r;return t=new Y({}),{c(){b(t.$$.fragment)},l(e){$(t.$$.fragment,e)},m(e,s){d(t,e,s),r=!0},p,i(e){r||(k(t.$$.fragment,e),r=!0)},o(e){w(t.$$.fragment,e),r=!1},d(e){g(t,e)}}}function ie(a){let t,r,e,s,i,f,u,o,m;function _(n){a[6](n)}let j={};a[0]!==void 0&&(j.timeFormat=a[0]),s=new X({props:j}),T.push(()=>A(s,"timeFormat",_));let l={ctx:a,current:null,token:null,hasCatch:!1,pending:le,then:re,catch:te,value:8,blocks:[,,,]};return q(o=a[2],l),{c(){t=H("h2"),r=J("Workflows"),e=D(),b(s.$$.fragment),f=D(),u=W(),l.block.c(),this.h()},l(n){t=L(n,"H2",{class:!0});var c=Q(t);r=R(c,"Workflows"),c.forEach(h),e=v(n),$(s.$$.fragment,n),f=v(n),u=W(),l.block.l(n),this.h()},h(){U(t,"class","text-2xl")},m(n,c){y(n,t,c),V(t,r),y(n,e,c),d(s,n,c),y(n,f,c),y(n,u,c),l.block.m(n,l.anchor=c),l.mount=()=>u.parentNode,l.anchor=u,m=!0},p(n,[c]){a=n;const F={};!i&&c&1&&(i=!0,F.timeFormat=a[0],z(()=>i=!1)),s.$set(F),l.ctx=a,c&4&&o!==(o=a[2])&&q(o,l)||B(l,a,c)},i(n){m||(k(s.$$.fragment,n),k(l.block),m=!0)},o(n){w(s.$$.fragment,n);for(let c=0;c<3;c+=1){const F=l.blocks[c];w(F)}m=!1},d(n){n&&h(t),n&&h(e),g(s,n),n&&h(f),n&&h(u),l.block.d(n),l.token=null,l=null}}}async function qe({page:a,fetch:t}){a.query.has("time-range")||a.query.set("time-range","24 hours");const r=a.params.namespace,e=a.query.get("workflow-id"),s=a.query.get("workflow-type"),i=a.query.get("time-range"),f=a.query.get("status"),u={workflowId:e,workflowType:s,timeRange:i,executionStatus:f};return{props:{initialData:await E(r,u,t),namespace:r,parameters:u}}}function fe(a,t,r){let e,s,i=p,f=()=>(i(),i=G(e,l=>r(2,s=l)),e);a.$$.on_destroy.push(()=>i());let{namespace:u}=t,{initialData:o}=t,{parameters:m}=t,_="UTC";function j(l){_=l,r(0,_)}return a.$$set=l=>{"namespace"in l&&r(3,u=l.namespace),"initialData"in l&&r(4,o=l.initialData),"parameters"in l&&r(5,m=l.parameters)},a.$$.update=()=>{a.$$.dirty&56&&f(r(1,e=P(()=>E(u,m),o)))},[_,e,s,u,o,m,j]}class De extends N{constructor(t){super();S(this,t,fe,ie,I,{namespace:3,initialData:4,parameters:5})}}export{De as default,qe as load};
